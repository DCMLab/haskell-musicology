<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.Machine.Process</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">machines-0.7.2: Networked stream transducers</span><ul class="links" id="page-menu"><li><a href="src/Data.Machine.Process.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(C) 2012 Edward Kmett</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td>Rank 2 Types, GADTs</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Machine.Process</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Processes</a><ul><li><a href="#g:2">Common Processes</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Process">Process</a> a b = <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (<a href="Data-Machine-Is.html#t:Is" title="Data.Machine.Is">Is</a> a) b</li><li class="src short"><span class="keyword">type</span> <a href="#t:ProcessT">ProcessT</a> m a b = <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (<a href="Data-Machine-Is.html#t:Is" title="Data.Machine.Is">Is</a> a) b</li><li class="src short"><span class="keyword">class</span> <a href="#t:Automaton">Automaton</a> k <span class="keyword">where</span><ul class="subs"><li><a href="#v:auto">auto</a> :: k a b -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a b</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:AutomatonM">AutomatonM</a> x <span class="keyword">where</span><ul class="subs"><li><a href="#v:autoT">autoT</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; x m a b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b</li></ul></li><li class="src short"><a href="#v:process">process</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> a. k a -&gt; i -&gt; a) -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k o -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m i o</li><li class="src short"><a href="#v:-60--126-">(&lt;~)</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m b c -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k b -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k c</li><li class="src short"><a href="#v:-126--62-">(~&gt;)</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m b c -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k c</li><li class="src short"><a href="#v:echo">echo</a> :: <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a</li><li class="src short"><a href="#v:supply">supply</a> :: <span class="keyword">forall</span> f m a b. (<a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; f a -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b</li><li class="src short"><a href="#v:prepended">prepended</a> :: <a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f =&gt; f a -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a</li><li class="src short"><a href="#v:filtered">filtered</a> :: (a -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a</li><li class="src short"><a href="#v:dropping">dropping</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a</li><li class="src short"><a href="#v:taking">taking</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a</li><li class="src short"><a href="#v:droppingWhile">droppingWhile</a> :: (a -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a</li><li class="src short"><a href="#v:takingWhile">takingWhile</a> :: (a -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a</li><li class="src short"><a href="#v:takingJusts">takingJusts</a> :: <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) a</li><li class="src short"><a href="#v:buffered">buffered</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a [a]</li><li class="src short"><a href="#v:flattened">flattened</a> :: <a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f =&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> (f a) a</li><li class="src short"><a href="#v:fold">fold</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; b -&gt; a) -&gt; a -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k b) a</li><li class="src short"><a href="#v:fold1">fold1</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; a -&gt; a) -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a</li><li class="src short"><a href="#v:scan">scan</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; b -&gt; a) -&gt; a -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k b) a</li><li class="src short"><a href="#v:scan1">scan1</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; a -&gt; a) -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a</li><li class="src short"><a href="#v:scanMap">scanMap</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> b) =&gt; (a -&gt; b) -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) b</li><li class="src short"><a href="#v:asParts">asParts</a> :: <a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f =&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> (f a) a</li><li class="src short"><a href="#v:sinkPart_">sinkPart_</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; (b, c)) -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m c <a href="../base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a> -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b</li><li class="src short"><a href="#v:autoM">autoM</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (a -&gt; m b) -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b</li><li class="src short"><a href="#v:final">final</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a</li><li class="src short"><a href="#v:finalOr">finalOr</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; a -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a</li><li class="src short"><a href="#v:intersperse">intersperse</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; a -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a</li><li class="src short"><a href="#v:largest">largest</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a) =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a</li><li class="src short"><a href="#v:smallest">smallest</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a) =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a</li><li class="src short"><a href="#v:sequencing">sequencing</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k (m a)) a</li><li class="src short"><a href="#v:mapping">mapping</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; b) -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) b</li><li class="src short"><a href="#v:traversing">traversing</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (a -&gt; m b) -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b</li><li class="src short"><a href="#v:reading">reading</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Text-Read.html#t:Read" title="Text.Read">Read</a> a) =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a>) a</li><li class="src short"><a href="#v:showing">showing</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a) =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:strippingPrefix">strippingPrefix</a> :: (<a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> b, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Processes</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Process" class="def">Process</a> a b = <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (<a href="Data-Machine-Is.html#t:Is" title="Data.Machine.Is">Is</a> a) b <a href="src/Data.Machine.Process.html#Process" class="link">Source</a> <a href="#t:Process" class="selflink">#</a></p><div class="doc"><p>A <code><code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> a b</code> is a stream transducer that can consume values of type <code>a</code>
 from its input, and produce values of type <code>b</code> for its output.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ProcessT" class="def">ProcessT</a> m a b = <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (<a href="Data-Machine-Is.html#t:Is" title="Data.Machine.Is">Is</a> a) b <a href="src/Data.Machine.Process.html#ProcessT" class="link">Source</a> <a href="#t:ProcessT" class="selflink">#</a></p><div class="doc"><p>A <code><code><a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a></code> m a b</code> is a stream transducer that can consume values of type <code>a</code>
 from its input, and produce values of type <code>b</code> and has side-effects in the
 <code><a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> <code>m</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Automaton" class="def">Automaton</a> k <span class="keyword">where</span> <a href="src/Data.Machine.Process.html#Automaton" class="link">Source</a> <a href="#t:Automaton" class="selflink">#</a></p><div class="doc"><p>An <code><a href="Data-Machine-Process.html#t:Automaton" title="Data.Machine.Process">Automaton</a></code> can be automatically lifted into a <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:auto" class="def">auto</a> :: k a b -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a b <a href="src/Data.Machine.Process.html#auto" class="link">Source</a> <a href="#v:auto" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Automaton">Instances</h4><details id="i:Automaton" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Automaton:Automaton:1"></span> <a href="Data-Machine-Process.html#t:Automaton" title="Data.Machine.Process">Automaton</a> <a href="Data-Machine-Is.html#t:Is" title="Data.Machine.Is">Is</a></span> <a href="src/Data.Machine.Process.html#line-105" class="link">Source</a> <a href="#t:Automaton" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Automaton:Automaton:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Machine-Process.html">Data.Machine.Process</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:auto">auto</a> :: <a href="Data-Machine-Is.html#t:Is" title="Data.Machine.Is">Is</a> a b -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a b <a href="src/Data.Machine.Process.html#auto" class="link">Source</a> <a href="#v:auto" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Automaton:Automaton:2"></span> <a href="Data-Machine-Process.html#t:Automaton" title="Data.Machine.Process">Automaton</a> <a href="Data-Machine-Moore.html#t:Moore" title="Data.Machine.Moore">Moore</a></span> <a href="src/Data.Machine.Moore.html#line-61" class="link">Source</a> <a href="#t:Automaton" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Automaton:Automaton:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Machine-Moore.html">Data.Machine.Moore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:auto">auto</a> :: <a href="Data-Machine-Moore.html#t:Moore" title="Data.Machine.Moore">Moore</a> a b -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a b <a href="src/Data.Machine.Process.html#auto" class="link">Source</a> <a href="#v:auto" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Automaton:Automaton:3"></span> <a href="Data-Machine-Process.html#t:Automaton" title="Data.Machine.Process">Automaton</a> <a href="Data-Machine-Mealy.html#t:Mealy" title="Data.Machine.Mealy">Mealy</a></span> <a href="src/Data.Machine.Mealy.html#line-107" class="link">Source</a> <a href="#t:Automaton" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Automaton:Automaton:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Machine-Mealy.html">Data.Machine.Mealy</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:auto">auto</a> :: <a href="Data-Machine-Mealy.html#t:Mealy" title="Data.Machine.Mealy">Mealy</a> a b -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a b <a href="src/Data.Machine.Process.html#auto" class="link">Source</a> <a href="#v:auto" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Automaton:Automaton:4"></span> <a href="Data-Machine-Process.html#t:Automaton" title="Data.Machine.Process">Automaton</a> ((-&gt;) :: <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</span> <a href="src/Data.Machine.Process.html#line-102" class="link">Source</a> <a href="#t:Automaton" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Automaton:Automaton:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Machine-Process.html">Data.Machine.Process</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:auto">auto</a> :: (a -&gt; b) -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a b <a href="src/Data.Machine.Process.html#auto" class="link">Source</a> <a href="#v:auto" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:AutomatonM" class="def">AutomatonM</a> x <span class="keyword">where</span> <a href="src/Data.Machine.Process.html#AutomatonM" class="link">Source</a> <a href="#t:AutomatonM" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:autoT" class="def">autoT</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; x m a b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b <a href="src/Data.Machine.Process.html#autoT" class="link">Source</a> <a href="#v:autoT" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AutomatonM">Instances</h4><details id="i:AutomatonM" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:AutomatonM:AutomatonM:1"></span> <a href="Data-Machine-Process.html#t:AutomatonM" title="Data.Machine.Process">AutomatonM</a> <a href="../base-4.14.3.0/Control-Arrow.html#t:Kleisli" title="Control.Arrow">Kleisli</a></span> <a href="src/Data.Machine.Process.html#line-111" class="link">Source</a> <a href="#t:AutomatonM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:AutomatonM:AutomatonM:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Machine-Process.html">Data.Machine.Process</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:autoT">autoT</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) a b. <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../base-4.14.3.0/Control-Arrow.html#t:Kleisli" title="Control.Arrow">Kleisli</a> m a b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b <a href="src/Data.Machine.Process.html#autoT" class="link">Source</a> <a href="#v:autoT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:AutomatonM:AutomatonM:2"></span> <a href="Data-Machine-Process.html#t:AutomatonM" title="Data.Machine.Process">AutomatonM</a> <a href="Data-Machine-MealyT.html#t:MealyT" title="Data.Machine.MealyT">MealyT</a></span> <a href="src/Data.Machine.MealyT.html#line-102" class="link">Source</a> <a href="#t:AutomatonM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:AutomatonM:AutomatonM:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Machine-MealyT.html">Data.Machine.MealyT</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:autoT">autoT</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) a b. <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Data-Machine-MealyT.html#t:MealyT" title="Data.Machine.MealyT">MealyT</a> m a b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b <a href="src/Data.Machine.Process.html#autoT" class="link">Source</a> <a href="#v:autoT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:AutomatonM:AutomatonM:3"></span> <a href="Data-Machine-Process.html#t:AutomatonM" title="Data.Machine.Process">AutomatonM</a> <a href="Data-Machine-MooreT.html#t:MooreT" title="Data.Machine.MooreT">MooreT</a></span> <a href="src/Data.Machine.MooreT.html#line-82" class="link">Source</a> <a href="#t:AutomatonM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:AutomatonM:AutomatonM:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Machine-MooreT.html">Data.Machine.MooreT</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:autoT">autoT</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) a b. <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Data-Machine-MooreT.html#t:MooreT" title="Data.Machine.MooreT">MooreT</a> m a b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b <a href="src/Data.Machine.Process.html#autoT" class="link">Source</a> <a href="#v:autoT" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:process" class="def">process</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> a. k a -&gt; i -&gt; a) -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k o -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m i o <a href="src/Data.Machine.Process.html#process" class="link">Source</a> <a href="#v:process" class="selflink">#</a></p><div class="doc"><p>Convert a machine into a process, with a little bit of help.</p><pre>choose :: <code><a href="Data-Machine-Tee.html#v:T" title="Data.Machine.Tee">T</a></code> a b x -&gt; (a, b) -&gt; x
choose t = case t of
  <code><a href="Data-Machine-Tee.html#v:L" title="Data.Machine.Tee">L</a></code> -&gt; <code><a href="../base-4.14.3.0/Data-Tuple.html#v:fst" title="Data.Tuple">fst</a></code>
  <code><a href="Data-Machine-Tee.html#v:R" title="Data.Machine.Tee">R</a></code> -&gt; <code><a href="../base-4.14.3.0/Data-Tuple.html#v:snd" title="Data.Tuple">snd</a></code>

<code><a href="Data-Machine-Process.html#v:process" title="Data.Machine.Process">process</a></code> choose :: <code><a href="Data-Machine-Tee.html#v:Tee" title="Data.Machine.Tee">Tee</a></code> a b c -&gt; <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> (a, b) c
<code><a href="Data-Machine-Process.html#v:process" title="Data.Machine.Process">process</a></code> choose :: <code><a href="Data-Machine-Tee.html#v:Tee" title="Data.Machine.Tee">Tee</a></code> a b c -&gt; <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> (a, b) c
<code><a href="Data-Machine-Process.html#v:process" title="Data.Machine.Process">process</a></code> (<code><a href="../base-4.14.3.0/Data-Function.html#v:const" title="Data.Function">const</a></code> <code><a href="../base-4.14.3.0/Control-Category.html#v:id" title="Control.Category">id</a></code>) :: <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> a b -&gt; <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> a b
</pre></div></div><a href="#g:2" id="g:2"><h2>Common Processes</h2></a><div class="top"><p class="src"><a id="v:-60--126-" class="def">(&lt;~)</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m b c -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k b -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k c <span class="fixity">infixr 9</span><span class="rightedge"></span> <a href="src/Data.Machine.Process.html#%3C~" class="link">Source</a> <a href="#v:-60--126-" class="selflink">#</a></p><div class="doc"><p>Build a new <code><a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a></code> by adding a <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> to the output of an old <code><a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a></code></p><pre>(<code><a href="Data-Machine-Process.html#v:-60--126-" title="Data.Machine.Process">&lt;~</a></code>) :: <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> b c -&gt; <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> a b -&gt; <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> a c
(<code><a href="Data-Machine-Process.html#v:-60--126-" title="Data.Machine.Process">&lt;~</a></code>) :: <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> c d -&gt; <code><a href="Data-Machine-Tee.html#v:Tee" title="Data.Machine.Tee">Tee</a></code> a b c -&gt; <code><a href="Data-Machine-Tee.html#v:Tee" title="Data.Machine.Tee">Tee</a></code> a b d
(<code><a href="Data-Machine-Process.html#v:-60--126-" title="Data.Machine.Process">&lt;~</a></code>) :: <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> b c -&gt; <code><a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a></code> k b -&gt; <code><a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a></code> k c
</pre></div></div><div class="top"><p class="src"><a id="v:-126--62-" class="def">(~&gt;)</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m b c -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m k c <span class="fixity">infixl 9</span><span class="rightedge"></span> <a href="src/Data.Machine.Process.html#~%3E" class="link">Source</a> <a href="#v:-126--62-" class="selflink">#</a></p><div class="doc"><p>Flipped (<code><a href="Data-Machine-Process.html#v:-60--126-" title="Data.Machine.Process">&lt;~</a></code>).</p></div></div><div class="top"><p class="src"><a id="v:echo" class="def">echo</a> :: <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a <a href="src/Data.Machine.Process.html#echo" class="link">Source</a> <a href="#v:echo" class="selflink">#</a></p><div class="doc"><p>The trivial <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> that simply repeats each input it receives.</p><p>This can be constructed from a plan with</p><pre>echo :: Process a a
echo = repeatedly $ do
  i &lt;- await
  yield i
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ echo &lt;~ source [1..5]
</code></strong>[1,2,3,4,5]
</pre></div></div><div class="top"><p class="src"><a id="v:supply" class="def">supply</a> :: <span class="keyword">forall</span> f m a b. (<a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; f a -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b <a href="src/Data.Machine.Process.html#supply" class="link">Source</a> <a href="#v:supply" class="selflink">#</a></p><div class="doc"><p>Feed a <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> some input.</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ supply [1,2,3] echo &lt;~ source [4..6]
</code></strong>[1,2,3,4,5,6]
</pre></div></div><div class="top"><p class="src"><a id="v:prepended" class="def">prepended</a> :: <a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f =&gt; f a -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a <a href="src/Data.Machine.Process.html#prepended" class="link">Source</a> <a href="#v:prepended" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> that prepends the elements of a <code><a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a></code> onto its input, then repeats its input from there.</p></div></div><div class="top"><p class="src"><a id="v:filtered" class="def">filtered</a> :: (a -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a <a href="src/Data.Machine.Process.html#filtered" class="link">Source</a> <a href="#v:filtered" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> that only passes through inputs that match a predicate.</p><p>This can be constructed from a plan with</p><pre>filtered :: (a -&gt; Bool) -&gt; Process a a
filtered p = repeatedly $ do
  i &lt;- await
  when (p i) $ yield i
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ filtered even &lt;~ source [1..5]
</code></strong>[2,4]
</pre></div></div><div class="top"><p class="src"><a id="v:dropping" class="def">dropping</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a <a href="src/Data.Machine.Process.html#dropping" class="link">Source</a> <a href="#v:dropping" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> that drops the first <code>n</code>, then repeats the rest.</p><p>This can be constructed from a plan with</p><pre>dropping n = before echo $ replicateM_ n await
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ dropping 3 &lt;~ source [1..5]
</code></strong>[4,5]
</pre></div></div><div class="top"><p class="src"><a id="v:taking" class="def">taking</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a <a href="src/Data.Machine.Process.html#taking" class="link">Source</a> <a href="#v:taking" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> that passes through the first <code>n</code> elements from its input then stops</p><p>This can be constructed from a plan with</p><pre>taking n = construct . replicateM_ n $ await &gt;&gt;= yield
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ taking 3 &lt;~ source [1..5]
</code></strong>[1,2,3]
</pre></div></div><div class="top"><p class="src"><a id="v:droppingWhile" class="def">droppingWhile</a> :: (a -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a <a href="src/Data.Machine.Process.html#droppingWhile" class="link">Source</a> <a href="#v:droppingWhile" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> that drops elements while a predicate holds</p><p>This can be constructed from a plan with</p><pre>droppingWhile :: (a -&gt; Bool) -&gt; Process a a
droppingWhile p = before echo loop where
  loop = await &gt;&gt;= v -&gt; if p v then loop else yield v
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ droppingWhile (&lt; 3) &lt;~ source [1..5]
</code></strong>[3,4,5]
</pre></div></div><div class="top"><p class="src"><a id="v:takingWhile" class="def">takingWhile</a> :: (a -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a a <a href="src/Data.Machine.Process.html#takingWhile" class="link">Source</a> <a href="#v:takingWhile" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> that passes through elements until a predicate ceases to hold, then stops</p><p>This can be constructed from a plan with</p><pre>takingWhile :: (a -&gt; Bool) -&gt; Process a a
takingWhile p = repeatedly $ await &gt;&gt;= v -&gt; if p v then yield v else stop
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ takingWhile (&lt; 3) &lt;~ source [1..5]
</code></strong>[1,2]
</pre></div></div><div class="top"><p class="src"><a id="v:takingJusts" class="def">takingJusts</a> :: <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) a <a href="src/Data.Machine.Process.html#takingJusts" class="link">Source</a> <a href="#v:takingJusts" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> that passes through elements unwrapped from <code><a href="../base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> until a
 <code><a href="../base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is found, then stops.</p><p>This can be constructed from a plan with</p><pre>takingJusts :: Process (Maybe a) a
takingJusts = repeatedly $ await &gt;&gt;= maybe stop yield
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ takingJusts &lt;~ source [Just 1, Just 2, Nothing, Just 3, Just 4]
</code></strong>[1,2]
</pre></div></div><div class="top"><p class="src"><a id="v:buffered" class="def">buffered</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> a [a] <a href="src/Data.Machine.Process.html#buffered" class="link">Source</a> <a href="#v:buffered" class="selflink">#</a></p><div class="doc"><p>Chunk up the input into <code>n</code> element lists.</p><p>Avoids returning empty lists and deals with the truncation of the final group.</p><p>An approximation of this can be constructed from a plan with</p><pre>buffered :: Int -&gt; Process a [a]
buffered = repeatedly . go [] where
  go acc 0 = yield (reverse acc)
  go acc n = do
    i <a href="-">await &lt;|</a> yield (reverse acc) *&gt; stop
    go (i:acc) $! n-1
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ buffered 3 &lt;~ source [1..6]
</code></strong>[[1,2,3],[4,5,6]]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ buffered 3 &lt;~ source [1..5]
</code></strong>[[1,2,3],[4,5]]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ buffered 3 &lt;~ source []
</code></strong>[]
</pre></div></div><div class="top"><p class="src"><a id="v:flattened" class="def">flattened</a> :: <a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f =&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> (f a) a <a href="src/Data.Machine.Process.html#flattened" class="link">Source</a> <a href="#v:flattened" class="selflink">#</a></p><div class="doc"><p>Break each input into pieces that are fed downstream
 individually.</p><p>Alias for <code>asParts</code></p></div></div><div class="top"><p class="src"><a id="v:fold" class="def">fold</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; b -&gt; a) -&gt; a -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k b) a <a href="src/Data.Machine.Process.html#fold" class="link">Source</a> <a href="#v:fold" class="selflink">#</a></p><div class="doc"><p>Construct a <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> from a left-folding operation.</p><p>Like <code><a href="Data-Machine-Process.html#v:scan" title="Data.Machine.Process">scan</a></code>, but only yielding the final value.</p><p>It may be useful to consider this alternative signature</p><pre><code><a href="Data-Machine-Process.html#v:fold" title="Data.Machine.Process">fold</a></code> :: (a -&gt; b -&gt; a) -&gt; a -&gt; Process b a
</pre><p>This can be constructed from a plan with</p><pre>fold :: Category k =&gt; (a -&gt; b -&gt; a) -&gt; a -&gt; Machine (k b) a
fold func seed = construct $ go seed where
  go cur = do
    next <a href="-">await &lt;|</a> yield cur *&gt; stop
    go $! func cur next
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ fold (+) 0 &lt;~ source [1..5]
</code></strong>[15]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ fold (\a _ -&gt; a + 1) 0 &lt;~ source [1..5]
</code></strong>[5]
</pre></div></div><div class="top"><p class="src"><a id="v:fold1" class="def">fold1</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; a -&gt; a) -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a <a href="src/Data.Machine.Process.html#fold1" class="link">Source</a> <a href="#v:fold1" class="selflink">#</a></p><div class="doc"><p><code><a href="Data-Machine-Process.html#v:fold1" title="Data.Machine.Process">fold1</a></code> is a variant of <code><a href="Data-Machine-Process.html#v:fold" title="Data.Machine.Process">fold</a></code> that has no starting value argument</p><p>This can be constructed from a plan with</p><pre>fold1 :: Category k =&gt; (a -&gt; a -&gt; a) -&gt; Machine (k a) a
fold1 func = construct $ await &gt;&gt;= go where
  go cur = do
    next <a href="-">await &lt;|</a> yield cur *&gt; stop
    go $! func cur next
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ fold1 (+) &lt;~ source [1..5]
</code></strong>[15]
</pre></div></div><div class="top"><p class="src"><a id="v:scan" class="def">scan</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; b -&gt; a) -&gt; a -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k b) a <a href="src/Data.Machine.Process.html#scan" class="link">Source</a> <a href="#v:scan" class="selflink">#</a></p><div class="doc"><p>Construct a <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> from a left-scanning operation.</p><p>Like <code><a href="Data-Machine-Process.html#v:fold" title="Data.Machine.Process">fold</a></code>, but yielding intermediate values.</p><p>It may be useful to consider this alternative signature</p><pre><code><a href="Data-Machine-Process.html#v:scan" title="Data.Machine.Process">scan</a></code> :: (a -&gt; b -&gt; a) -&gt; a -&gt; Process b a
</pre><p>For stateful <code><a href="Data-Machine-Process.html#v:scan" title="Data.Machine.Process">scan</a></code> use <code><a href="Data-Machine-Process.html#v:auto" title="Data.Machine.Process">auto</a></code> with <a href="Data-Machine-Mealy.html">Data.Machine.Mealy</a> machine.
 This can be constructed from a plan with</p><pre>scan :: Category k =&gt; (a -&gt; b -&gt; a) -&gt; a -&gt; Machine (k b) a
scan func seed = construct $ go seed where
  go cur = do
    yield cur
    next &lt;- await
    go $! func cur next
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ scan (+) 0 &lt;~ source [1..5]
</code></strong>[0,1,3,6,10,15]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ scan (\a _ -&gt; a + 1) 0 &lt;~ source [1..5]
</code></strong>[0,1,2,3,4,5]
</pre></div></div><div class="top"><p class="src"><a id="v:scan1" class="def">scan1</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; a -&gt; a) -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a <a href="src/Data.Machine.Process.html#scan1" class="link">Source</a> <a href="#v:scan1" class="selflink">#</a></p><div class="doc"><p><code><a href="Data-Machine-Process.html#v:scan1" title="Data.Machine.Process">scan1</a></code> is a variant of <code><a href="Data-Machine-Process.html#v:scan" title="Data.Machine.Process">scan</a></code> that has no starting value argument</p><p>This can be constructed from a plan with</p><pre>scan1 :: Category k =&gt; (a -&gt; a -&gt; a) -&gt; Machine (k a) a
scan1 func = construct $ await &gt;&gt;= go where
  go cur = do
    yield cur
    next &lt;- await
    go $! func cur next
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ scan1 (+) &lt;~ source [1..5]
</code></strong>[1,3,6,10,15]
</pre></div></div><div class="top"><p class="src"><a id="v:scanMap" class="def">scanMap</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> b) =&gt; (a -&gt; b) -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) b <a href="src/Data.Machine.Process.html#scanMap" class="link">Source</a> <a href="#v:scanMap" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Data-Machine-Process.html#v:scan" title="Data.Machine.Process">scan</a></code> only uses supplied function to map and uses Monoid for
 associative operation</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ mapping getSum &lt;~ scanMap Sum &lt;~ source [1..5]
</code></strong>[0,1,3,6,10,15]
</pre></div></div><div class="top"><p class="src"><a id="v:asParts" class="def">asParts</a> :: <a href="../base-4.14.3.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f =&gt; <a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a> (f a) a <a href="src/Data.Machine.Process.html#asParts" class="link">Source</a> <a href="#v:asParts" class="selflink">#</a></p><div class="doc"><p>Break each input into pieces that are fed downstream
 individually.</p><p>This can be constructed from a plan with</p><pre>asParts :: Foldable f =&gt; Process (f a) a
asParts = repeatedly $ await &gt;&gt;= traverse_ yield
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run $ asParts &lt;~ source [[1..3],[4..6]]
</code></strong>[1,2,3,4,5,6]
</pre></div></div><div class="top"><p class="src"><a id="v:sinkPart_" class="def">sinkPart_</a> :: <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; (b, c)) -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m c <a href="../base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a> -&gt; <a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a> m a b <a href="src/Data.Machine.Process.html#sinkPart_" class="link">Source</a> <a href="#v:sinkPart_" class="selflink">#</a></p><div class="doc"><p><code>sinkPart_ toParts sink</code> creates a process that uses the
 <code>toParts</code> function to break input into a tuple of <code>(passAlong,
 sinkPart)</code> for which the second projection is given to the supplied
 <code>sink</code> <code><a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a></code> (that produces no output) while the first
 projection is passed down the pipeline.</p></div></div><div class="top"><p class="src"><a id="v:autoM" class="def">autoM</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (a -&gt; m b) -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b <a href="src/Data.Machine.Process.html#autoM" class="link">Source</a> <a href="#v:autoM" class="selflink">#</a></p><div class="doc"><p>Apply a monadic function to each element of a <code><a href="Data-Machine-Process.html#t:ProcessT" title="Data.Machine.Process">ProcessT</a></code>.</p><p>This can be constructed from a plan with</p><pre>autoM :: Monad m =&gt; (a -&gt; m b) -&gt; ProcessT m a b
autoM :: (Category k, Monad m) =&gt; (a -&gt; m b) -&gt; MachineT m (k a) b
autoM f = repeatedly $ await &gt;&gt;= lift . f &gt;&gt;= yield
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ autoM Left &lt;~ source [3, 4]
</code></strong>Left 3
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ autoM Right &lt;~ source [3, 4]
</code></strong>Right [3,4]
</pre></div></div><div class="top"><p class="src"><a id="v:final" class="def">final</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a <a href="src/Data.Machine.Process.html#final" class="link">Source</a> <a href="#v:final" class="selflink">#</a></p><div class="doc"><p>Skip all but the final element of the input</p><p>This can be constructed from a plan with</p><pre><code><a href="Data-Machine-Process.html#v:final" title="Data.Machine.Process">final</a></code> :: <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> a a
final :: Category k =&gt; Machine (k a) a
final = construct $ await &gt;&gt;= go where
  go prev = do
    next <a href="-">await &lt;|</a> yield prev *&gt; stop
    go next
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ final &lt;~ source [1..10]
</code></strong>[10]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ final &lt;~ source []
</code></strong>[]
</pre></div></div><div class="top"><p class="src"><a id="v:finalOr" class="def">finalOr</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; a -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a <a href="src/Data.Machine.Process.html#finalOr" class="link">Source</a> <a href="#v:finalOr" class="selflink">#</a></p><div class="doc"><p>Skip all but the final element of the input.
 If the input is empty, the default value is emitted</p><p>This can be constructed from a plan with</p><pre><code><a href="Data-Machine-Process.html#v:finalOr" title="Data.Machine.Process">finalOr</a></code> :: a -&gt; <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> a a
finalOr :: Category k =&gt; a -&gt; Machine (k a) a
finalOr = construct . go where
  go prev = do
    next <a href="-">await &lt;|</a> yield prev *&gt; stop
    go next
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ finalOr (-1) &lt;~ source [1..10]
</code></strong>[10]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ finalOr (-1) &lt;~ source []
</code></strong>[-1]
</pre></div></div><div class="top"><p class="src"><a id="v:intersperse" class="def">intersperse</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; a -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a <a href="src/Data.Machine.Process.html#intersperse" class="link">Source</a> <a href="#v:intersperse" class="selflink">#</a></p><div class="doc"><p>Intersperse an element between the elements of the input</p><pre><code><a href="Data-Machine-Process.html#v:intersperse" title="Data.Machine.Process">intersperse</a></code> :: a -&gt; <code><a href="Data-Machine-Process.html#t:Process" title="Data.Machine.Process">Process</a></code> a a
</pre></div></div><div class="top"><p class="src"><a id="v:largest" class="def">largest</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a) =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a <a href="src/Data.Machine.Process.html#largest" class="link">Source</a> <a href="#v:largest" class="selflink">#</a></p><div class="doc"><p>Return the maximum value from the input</p></div></div><div class="top"><p class="src"><a id="v:smallest" class="def">smallest</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a) =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) a <a href="src/Data.Machine.Process.html#smallest" class="link">Source</a> <a href="#v:smallest" class="selflink">#</a></p><div class="doc"><p>Return the minimum value from the input</p></div></div><div class="top"><p class="src"><a id="v:sequencing" class="def">sequencing</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k (m a)) a <a href="src/Data.Machine.Process.html#sequencing" class="link">Source</a> <a href="#v:sequencing" class="selflink">#</a></p><div class="doc"><p>Convert a stream of actions to a stream of values</p><p>This can be constructed from a plan with</p><pre>sequencing :: Monad m =&gt; (a -&gt; m b) -&gt; ProcessT m a b
sequencing :: (Category k, Monad m) =&gt; MachineT m (k (m a)) a
sequencing = repeatedly $ do
  ma &lt;- await
  a  &lt;- lift ma
  yield a
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ sequencing &lt;~ source [Just 3, Nothing]
</code></strong>Nothing
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ sequencing &lt;~ source [Just 3, Just 4]
</code></strong>Just [3,4]
</pre></div></div><div class="top"><p class="src"><a id="v:mapping" class="def">mapping</a> :: <a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k =&gt; (a -&gt; b) -&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) b <a href="src/Data.Machine.Process.html#mapping" class="link">Source</a> <a href="#v:mapping" class="selflink">#</a></p><div class="doc"><p>Apply a function to all values coming from the input</p><p>This can be constructed from a plan with</p><pre>mapping :: Category k =&gt; (a -&gt; b) -&gt; Machine (k a) b
mapping f = repeatedly $ await &gt;&gt;= yield . f
</pre><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runT $ mapping (*2) &lt;~ source [1..3]
</code></strong>[2,4,6]
</pre></div></div><div class="top"><p class="src"><a id="v:traversing" class="def">traversing</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (a -&gt; m b) -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b <a href="src/Data.Machine.Process.html#traversing" class="link">Source</a> <a href="#v:traversing" class="selflink">#</a></p><div class="doc"><p>Apply an effectful to all values coming from the input.</p><p>Alias to <code><a href="Data-Machine-Process.html#v:autoM" title="Data.Machine.Process">autoM</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:reading" class="def">reading</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Text-Read.html#t:Read" title="Text.Read">Read</a> a) =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a>) a <a href="src/Data.Machine.Process.html#reading" class="link">Source</a> <a href="#v:reading" class="selflink">#</a></p><div class="doc"><p>Parse <code><a href="../base-4.14.3.0/Text-Read.html#t:Read" title="Text.Read">Read</a></code>able values, only emitting the value if the parse succceeds.
 This <code><a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a></code> stops at first parsing error</p></div></div><div class="top"><p class="src"><a id="v:showing" class="def">showing</a> :: (<a href="../base-4.14.3.0/Control-Category.html#t:Category" title="Control.Category">Category</a> k, <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a) =&gt; <a href="Data-Machine-Type.html#t:Machine" title="Data.Machine.Type">Machine</a> (k a) <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Data.Machine.Process.html#showing" class="link">Source</a> <a href="#v:showing" class="selflink">#</a></p><div class="doc"><p>Convert <code><a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code>able values to <code><a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a></code>s</p></div></div><div class="top"><p class="src"><a id="v:strippingPrefix" class="def">strippingPrefix</a> :: (<a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> b, <a href="../base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b -&gt; <a href="Data-Machine-Type.html#t:MachineT" title="Data.Machine.Type">MachineT</a> m (k a) b <a href="src/Data.Machine.Process.html#strippingPrefix" class="link">Source</a> <a href="#v:strippingPrefix" class="selflink">#</a></p><div class="doc"><p><code><a href="Data-Machine-Process.html#v:strippingPrefix" title="Data.Machine.Process">strippingPrefix</a></code> <code>mp mb</code> Drops the given prefix from <code>mp</code>. It stops if <code>mb</code>
 did not start with the prefix given, or continues streaming after the
 prefix, if <code>mb</code> did.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>