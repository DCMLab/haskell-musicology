<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{- |
    Interface to PortMidi
-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE EmptyDataDecls #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Sound.PortMidi</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Data Types</span></span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier">PMError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier">PMSuccess</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEventCount"><span class="hs-identifier">PMEventCount</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier">PMStream</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.DeviceInfo.html#DeviceInfo"><span class="hs-identifier">DeviceInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#DeviceID"><span class="hs-identifier">DeviceID</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMMsg"><span class="hs-identifier">PMMsg</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier">PMEvent</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Constants</span></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterActive"><span class="hs-identifier">filterActive</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterSysex"><span class="hs-identifier">filterSysex</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterClock"><span class="hs-identifier">filterClock</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterPlay"><span class="hs-identifier">filterPlay</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterTick"><span class="hs-identifier">filterTick</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterFD"><span class="hs-identifier">filterFD</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterUndefined"><span class="hs-identifier">filterUndefined</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterReset"><span class="hs-identifier">filterReset</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterRealtime"><span class="hs-identifier">filterRealtime</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterNote"><span class="hs-identifier">filterNote</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterChannelAftertouch"><span class="hs-identifier">filterChannelAftertouch</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterPolyAftertouch"><span class="hs-identifier">filterPolyAftertouch</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterAftertouch"><span class="hs-identifier">filterAftertouch</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterProgram"><span class="hs-identifier">filterProgram</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterControl"><span class="hs-identifier">filterControl</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterPitchBend"><span class="hs-identifier">filterPitchBend</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterMTC"><span class="hs-identifier">filterMTC</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterSongPosition"><span class="hs-identifier">filterSongPosition</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterSongSelect"><span class="hs-identifier">filterSongSelect</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterTune"><span class="hs-identifier">filterTune</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterSystemCommon"><span class="hs-identifier">filterSystemCommon</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><span class="hs-comment">-- * PortMidi functions</span></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#initialize"><span class="hs-identifier">initialize</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#terminate"><span class="hs-identifier">terminate</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#hasHostError"><span class="hs-identifier">hasHostError</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#getErrorText"><span class="hs-identifier">getErrorText</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#getSuccessText"><span class="hs-identifier">getSuccessText</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#getText"><span class="hs-identifier">getText</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#countDevices"><span class="hs-identifier">countDevices</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#getDefaultInputDeviceID"><span class="hs-identifier">getDefaultInputDeviceID</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#getDefaultOutputDeviceID"><span class="hs-identifier">getDefaultOutputDeviceID</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#getDeviceInfo"><span class="hs-identifier">getDeviceInfo</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#openInput"><span class="hs-identifier">openInput</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#openOutput"><span class="hs-identifier">openOutput</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#setFilter"><span class="hs-identifier">setFilter</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#channel"><span class="hs-identifier">channel</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#setChannelMask"><span class="hs-identifier">setChannelMask</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#abort"><span class="hs-identifier">abort</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#close"><span class="hs-identifier">close</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#poll"><span class="hs-identifier">poll</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#readEvents"><span class="hs-identifier">readEvents</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#readEventsToBuffer"><span class="hs-identifier">readEventsToBuffer</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#writeEvents"><span class="hs-identifier">writeEvents</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#writeShort"><span class="hs-identifier">writeShort</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#writeSysEx"><span class="hs-identifier">writeSysEx</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Time function</span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#time"><span class="hs-identifier">time</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#encodeMsg"><span class="hs-identifier">encodeMsg</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#decodeMsg"><span class="hs-identifier">decodeMsg</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.C</span></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Sound.PortMidi.DeviceInfo.html"><span class="hs-identifier">Sound.PortMidi.DeviceInfo</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | Represents non-errors of the C enum `PmError`</span><span>
</span><span id="line-77"></span><span class="hs-keyword">data</span><span> </span><span id="PMSuccess"><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-var">PMSuccess</span></a></span></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NoError%27NoData"><span class="annot"><a href="Sound.PortMidi.html#NoError%27NoData"><span class="hs-identifier hs-var">NoError'NoData</span></a></span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-comment">-- ^ Returned by 'poll' when there is no data, and returned by other functions</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-comment">-- when there is no error.</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="GotData"><span class="annot"><a href="Sound.PortMidi.html#GotData"><span class="hs-identifier hs-var">GotData</span></a></span></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-comment">-- ^ Only returned by 'poll' when data is available.</span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679033319"><span id="local-6989586621679033321"><span class="annot"><span class="annottext">PMSuccess -&gt; PMSuccess -&gt; Bool
(PMSuccess -&gt; PMSuccess -&gt; Bool)
-&gt; (PMSuccess -&gt; PMSuccess -&gt; Bool) -&gt; Eq PMSuccess
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PMSuccess -&gt; PMSuccess -&gt; Bool
$c/= :: PMSuccess -&gt; PMSuccess -&gt; Bool
== :: PMSuccess -&gt; PMSuccess -&gt; Bool
$c== :: PMSuccess -&gt; PMSuccess -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033312"><span id="local-6989586621679033314"><span id="local-6989586621679033316"><span class="annot"><span class="annottext">Int -&gt; PMSuccess -&gt; ShowS
[PMSuccess] -&gt; ShowS
PMSuccess -&gt; String
(Int -&gt; PMSuccess -&gt; ShowS)
-&gt; (PMSuccess -&gt; String)
-&gt; ([PMSuccess] -&gt; ShowS)
-&gt; Show PMSuccess
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PMSuccess] -&gt; ShowS
$cshowList :: [PMSuccess] -&gt; ShowS
show :: PMSuccess -&gt; String
$cshow :: PMSuccess -&gt; String
showsPrec :: Int -&gt; PMSuccess -&gt; ShowS
$cshowsPrec :: Int -&gt; PMSuccess -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679033297"><span id="local-6989586621679033299"><span id="local-6989586621679033301"><span id="local-6989586621679033303"><span id="local-6989586621679033307"><span id="local-6989586621679033309"><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-86"></span><span>  </span><span id="local-6989586621679033295"><span class="annot"><span class="annottext">fromEnum :: PMSuccess -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromEnum</span></span></span><span> </span><span class="annot"><span class="annottext">PMSuccess
</span><a href="Sound.PortMidi.html#NoError%27NoData"><span class="hs-identifier hs-var">NoError'NoData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMSuccess
</span><a href="Sound.PortMidi.html#GotData"><span class="hs-identifier hs-var">GotData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621679033293"><span class="annot"><span class="annottext">toEnum :: Int -&gt; PMSuccess
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toEnum</span></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMSuccess
</span><a href="Sound.PortMidi.html#NoError%27NoData"><span class="hs-identifier hs-var">NoError'NoData</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMSuccess
</span><a href="Sound.PortMidi.html#GotData"><span class="hs-identifier hs-var">GotData</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span id="local-6989586621679033291"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033291"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PMSuccess
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PMSuccess) -&gt; String -&gt; PMSuccess
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PortMidi: PMSuccess toEnum out of bound &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033291"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-comment">-- | Represents real errors of the C enum `PmError`</span><span>
</span><span id="line-93"></span><span class="hs-keyword">data</span><span> </span><span id="PMError"><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-var">PMError</span></a></span></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="HostError"><span class="annot"><a href="Sound.PortMidi.html#HostError"><span class="hs-identifier hs-var">HostError</span></a></span></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InvalidDeviceId"><span class="annot"><a href="Sound.PortMidi.html#InvalidDeviceId"><span class="hs-identifier hs-var">InvalidDeviceId</span></a></span></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InsufficientMemory"><span class="annot"><a href="Sound.PortMidi.html#InsufficientMemory"><span class="hs-identifier hs-var">InsufficientMemory</span></a></span></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BufferTooSmall"><span class="annot"><a href="Sound.PortMidi.html#BufferTooSmall"><span class="hs-identifier hs-var">BufferTooSmall</span></a></span></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BufferOverflow"><span class="annot"><a href="Sound.PortMidi.html#BufferOverflow"><span class="hs-identifier hs-var">BufferOverflow</span></a></span></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BadPtr"><span class="annot"><a href="Sound.PortMidi.html#BadPtr"><span class="hs-identifier hs-var">BadPtr</span></a></span></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BadData"><span class="annot"><a href="Sound.PortMidi.html#BadData"><span class="hs-identifier hs-var">BadData</span></a></span></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InternalError"><span class="annot"><a href="Sound.PortMidi.html#InternalError"><span class="hs-identifier hs-var">InternalError</span></a></span></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BufferMaxSize"><span class="annot"><a href="Sound.PortMidi.html#BufferMaxSize"><span class="hs-identifier hs-var">BufferMaxSize</span></a></span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679033276"><span id="local-6989586621679033278"><span class="annot"><span class="annottext">PMError -&gt; PMError -&gt; Bool
(PMError -&gt; PMError -&gt; Bool)
-&gt; (PMError -&gt; PMError -&gt; Bool) -&gt; Eq PMError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PMError -&gt; PMError -&gt; Bool
$c/= :: PMError -&gt; PMError -&gt; Bool
== :: PMError -&gt; PMError -&gt; Bool
$c== :: PMError -&gt; PMError -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033270"><span id="local-6989586621679033272"><span id="local-6989586621679033274"><span class="annot"><span class="annottext">Int -&gt; PMError -&gt; ShowS
[PMError] -&gt; ShowS
PMError -&gt; String
(Int -&gt; PMError -&gt; ShowS)
-&gt; (PMError -&gt; String) -&gt; ([PMError] -&gt; ShowS) -&gt; Show PMError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PMError] -&gt; ShowS
$cshowList :: [PMError] -&gt; ShowS
show :: PMError -&gt; String
$cshow :: PMError -&gt; String
showsPrec :: Int -&gt; PMError -&gt; ShowS
$cshowsPrec :: Int -&gt; PMError -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679033256"><span id="local-6989586621679033258"><span id="local-6989586621679033260"><span id="local-6989586621679033262"><span id="local-6989586621679033266"><span id="local-6989586621679033268"><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-106"></span><span>  </span><span id="local-6989586621679033255"><span class="annot"><span class="annottext">fromEnum :: PMError -&gt; Int
</span><a href="#local-6989586621679033255"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromEnum</span></a></span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#HostError"><span class="hs-identifier hs-var">HostError</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10000</span></span><span>
</span><span id="line-107"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#InvalidDeviceId"><span class="hs-identifier hs-var">InvalidDeviceId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9999</span></span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#InsufficientMemory"><span class="hs-identifier hs-var">InsufficientMemory</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9998</span></span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BufferTooSmall"><span class="hs-identifier hs-var">BufferTooSmall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9997</span></span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BufferOverflow"><span class="hs-identifier hs-var">BufferOverflow</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9996</span></span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BadPtr"><span class="hs-identifier hs-var">BadPtr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9995</span></span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BadData"><span class="hs-identifier hs-var">BadData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9994</span></span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#InternalError"><span class="hs-identifier hs-var">InternalError</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9993</span></span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BufferMaxSize"><span class="hs-identifier hs-var">BufferMaxSize</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9992</span></span><span>
</span><span id="line-115"></span><span>  </span><span id="local-6989586621679033254"><span class="annot"><span class="annottext">toEnum :: Int -&gt; PMError
</span><a href="#local-6989586621679033254"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEnum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">10000</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#HostError"><span class="hs-identifier hs-var">HostError</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">9999</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#InvalidDeviceId"><span class="hs-identifier hs-var">InvalidDeviceId</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">9998</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#InsufficientMemory"><span class="hs-identifier hs-var">InsufficientMemory</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">9997</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BufferTooSmall"><span class="hs-identifier hs-var">BufferTooSmall</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">9996</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BufferOverflow"><span class="hs-identifier hs-var">BufferOverflow</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">9995</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BadPtr"><span class="hs-identifier hs-var">BadPtr</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">9994</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BadData"><span class="hs-identifier hs-var">BadData</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">9993</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#InternalError"><span class="hs-identifier hs-var">InternalError</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">9992</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="Sound.PortMidi.html#BufferMaxSize"><span class="hs-identifier hs-var">BufferMaxSize</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span id="local-6989586621679033253"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033253"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PMError
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PMError) -&gt; String -&gt; PMError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PortMidi: PMError toEnum out of bound &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033253"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-type">eitherErrorOrSuccess</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span>
</span><span id="line-127"></span><span id="eitherErrorOrSuccess"><span class="annot"><span class="annottext">eitherErrorOrSuccess :: CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var hs-var">eitherErrorOrSuccess</span></a></span></span><span> </span><span id="local-6989586621679033251"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033251"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679033250"><span class="hs-identifier hs-var">isSuccess</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMSuccess -&gt; Either PMError PMSuccess
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(PMSuccess -&gt; Either PMError PMSuccess)
-&gt; PMSuccess -&gt; Either PMError PMSuccess
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; PMSuccess
forall a. Enum a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; PMSuccess) -&gt; Int -&gt; PMSuccess
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033251"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError -&gt; Either PMError PMSuccess
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(PMError -&gt; Either PMError PMSuccess)
-&gt; PMError -&gt; Either PMError PMSuccess
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; PMError
forall a. Enum a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; PMError) -&gt; Int -&gt; PMError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033251"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679033250"><span class="annot"><span class="annottext">isSuccess :: Bool
</span><a href="#local-6989586621679033250"><span class="hs-identifier hs-var hs-var">isSuccess</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033251"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033251"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">1</span></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-- | Represents a count of 'PMEvent's</span><span>
</span><span id="line-134"></span><span class="hs-keyword">newtype</span><span> </span><span id="PMEventCount"><span class="annot"><a href="Sound.PortMidi.html#PMEventCount"><span class="hs-identifier hs-var">PMEventCount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PMEventCount"><span class="annot"><a href="Sound.PortMidi.html#PMEventCount"><span class="hs-identifier hs-var">PMEventCount</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span id="local-6989586621679033234"><span id="local-6989586621679033236"><span id="local-6989586621679033238"><span id="local-6989586621679033240"><span id="local-6989586621679033242"><span id="local-6989586621679033244"><span id="local-6989586621679033246"><span class="annot"><span class="annottext">Integer -&gt; PMEventCount
PMEventCount -&gt; PMEventCount
PMEventCount -&gt; PMEventCount -&gt; PMEventCount
(PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount)
-&gt; (Integer -&gt; PMEventCount)
-&gt; Num PMEventCount
forall a.
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Integer -&gt; a)
-&gt; Num a
fromInteger :: Integer -&gt; PMEventCount
$cfromInteger :: Integer -&gt; PMEventCount
signum :: PMEventCount -&gt; PMEventCount
$csignum :: PMEventCount -&gt; PMEventCount
abs :: PMEventCount -&gt; PMEventCount
$cabs :: PMEventCount -&gt; PMEventCount
negate :: PMEventCount -&gt; PMEventCount
$cnegate :: PMEventCount -&gt; PMEventCount
* :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$c* :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
- :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$c- :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
+ :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$c+ :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Num</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033217"><span id="local-6989586621679033219"><span id="local-6989586621679033221"><span id="local-6989586621679033223"><span id="local-6989586621679033225"><span id="local-6989586621679033227"><span id="local-6989586621679033229"><span class="annot"><span class="annottext">Enum PMEventCount
Real PMEventCount
Real PMEventCount
-&gt; Enum PMEventCount
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; (PMEventCount, PMEventCount))
-&gt; (PMEventCount -&gt; PMEventCount -&gt; (PMEventCount, PMEventCount))
-&gt; (PMEventCount -&gt; Integer)
-&gt; Integral PMEventCount
PMEventCount -&gt; Integer
PMEventCount -&gt; PMEventCount -&gt; (PMEventCount, PMEventCount)
PMEventCount -&gt; PMEventCount -&gt; PMEventCount
forall a.
Real a
-&gt; Enum a
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; (a, a))
-&gt; (a -&gt; a -&gt; (a, a))
-&gt; (a -&gt; Integer)
-&gt; Integral a
toInteger :: PMEventCount -&gt; Integer
$ctoInteger :: PMEventCount -&gt; Integer
divMod :: PMEventCount -&gt; PMEventCount -&gt; (PMEventCount, PMEventCount)
$cdivMod :: PMEventCount -&gt; PMEventCount -&gt; (PMEventCount, PMEventCount)
quotRem :: PMEventCount -&gt; PMEventCount -&gt; (PMEventCount, PMEventCount)
$cquotRem :: PMEventCount -&gt; PMEventCount -&gt; (PMEventCount, PMEventCount)
mod :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$cmod :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
div :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$cdiv :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
rem :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$crem :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
quot :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$cquot :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$cp2Integral :: Enum PMEventCount
$cp1Integral :: Real PMEventCount
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Integral</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033212"><span class="annot"><span class="annottext">Num PMEventCount
Ord PMEventCount
Num PMEventCount
-&gt; Ord PMEventCount
-&gt; (PMEventCount -&gt; Rational)
-&gt; Real PMEventCount
PMEventCount -&gt; Rational
forall a. Num a -&gt; Ord a -&gt; (a -&gt; Rational) -&gt; Real a
toRational :: PMEventCount -&gt; Rational
$ctoRational :: PMEventCount -&gt; Rational
$cp2Real :: Ord PMEventCount
$cp1Real :: Num PMEventCount
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Real</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033195"><span id="local-6989586621679033197"><span id="local-6989586621679033199"><span id="local-6989586621679033201"><span id="local-6989586621679033203"><span id="local-6989586621679033205"><span id="local-6989586621679033207"><span id="local-6989586621679033209"><span class="annot"><span class="annottext">Int -&gt; PMEventCount
PMEventCount -&gt; Int
PMEventCount -&gt; [PMEventCount]
PMEventCount -&gt; PMEventCount
PMEventCount -&gt; PMEventCount -&gt; [PMEventCount]
PMEventCount -&gt; PMEventCount -&gt; PMEventCount -&gt; [PMEventCount]
(PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount)
-&gt; (Int -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; Int)
-&gt; (PMEventCount -&gt; [PMEventCount])
-&gt; (PMEventCount -&gt; PMEventCount -&gt; [PMEventCount])
-&gt; (PMEventCount -&gt; PMEventCount -&gt; [PMEventCount])
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount -&gt; [PMEventCount])
-&gt; Enum PMEventCount
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount -&gt; [PMEventCount]
$cenumFromThenTo :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount -&gt; [PMEventCount]
enumFromTo :: PMEventCount -&gt; PMEventCount -&gt; [PMEventCount]
$cenumFromTo :: PMEventCount -&gt; PMEventCount -&gt; [PMEventCount]
enumFromThen :: PMEventCount -&gt; PMEventCount -&gt; [PMEventCount]
$cenumFromThen :: PMEventCount -&gt; PMEventCount -&gt; [PMEventCount]
enumFrom :: PMEventCount -&gt; [PMEventCount]
$cenumFrom :: PMEventCount -&gt; [PMEventCount]
fromEnum :: PMEventCount -&gt; Int
$cfromEnum :: PMEventCount -&gt; Int
toEnum :: Int -&gt; PMEventCount
$ctoEnum :: Int -&gt; PMEventCount
pred :: PMEventCount -&gt; PMEventCount
$cpred :: PMEventCount -&gt; PMEventCount
succ :: PMEventCount -&gt; PMEventCount
$csucc :: PMEventCount -&gt; PMEventCount
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033189"><span id="local-6989586621679033191"><span id="local-6989586621679033193"><span class="annot"><span class="annottext">Int -&gt; PMEventCount -&gt; ShowS
[PMEventCount] -&gt; ShowS
PMEventCount -&gt; String
(Int -&gt; PMEventCount -&gt; ShowS)
-&gt; (PMEventCount -&gt; String)
-&gt; ([PMEventCount] -&gt; ShowS)
-&gt; Show PMEventCount
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PMEventCount] -&gt; ShowS
$cshowList :: [PMEventCount] -&gt; ShowS
show :: PMEventCount -&gt; String
$cshow :: PMEventCount -&gt; String
showsPrec :: Int -&gt; PMEventCount -&gt; ShowS
$cshowsPrec :: Int -&gt; PMEventCount -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033185"><span id="local-6989586621679033187"><span class="annot"><span class="annottext">PMEventCount -&gt; PMEventCount -&gt; Bool
(PMEventCount -&gt; PMEventCount -&gt; Bool)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; Bool) -&gt; Eq PMEventCount
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PMEventCount -&gt; PMEventCount -&gt; Bool
$c/= :: PMEventCount -&gt; PMEventCount -&gt; Bool
== :: PMEventCount -&gt; PMEventCount -&gt; Bool
$c== :: PMEventCount -&gt; PMEventCount -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033170"><span id="local-6989586621679033172"><span id="local-6989586621679033174"><span id="local-6989586621679033176"><span id="local-6989586621679033178"><span id="local-6989586621679033180"><span id="local-6989586621679033182"><span class="annot"><span class="annottext">Eq PMEventCount
Eq PMEventCount
-&gt; (PMEventCount -&gt; PMEventCount -&gt; Ordering)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; Bool)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; Bool)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; Bool)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; Bool)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; (PMEventCount -&gt; PMEventCount -&gt; PMEventCount)
-&gt; Ord PMEventCount
PMEventCount -&gt; PMEventCount -&gt; Bool
PMEventCount -&gt; PMEventCount -&gt; Ordering
PMEventCount -&gt; PMEventCount -&gt; PMEventCount
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$cmin :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
max :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
$cmax :: PMEventCount -&gt; PMEventCount -&gt; PMEventCount
&gt;= :: PMEventCount -&gt; PMEventCount -&gt; Bool
$c&gt;= :: PMEventCount -&gt; PMEventCount -&gt; Bool
&gt; :: PMEventCount -&gt; PMEventCount -&gt; Bool
$c&gt; :: PMEventCount -&gt; PMEventCount -&gt; Bool
&lt;= :: PMEventCount -&gt; PMEventCount -&gt; Bool
$c&lt;= :: PMEventCount -&gt; PMEventCount -&gt; Bool
&lt; :: PMEventCount -&gt; PMEventCount -&gt; Bool
$c&lt; :: PMEventCount -&gt; PMEventCount -&gt; Bool
compare :: PMEventCount -&gt; PMEventCount -&gt; Ordering
$ccompare :: PMEventCount -&gt; PMEventCount -&gt; Ordering
$cp1Ord :: Eq PMEventCount
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="hs-comment">-- | Interprets a 'CInt', as returned by 'pm_Read'.</span><span>
</span><span id="line-138"></span><span class="annot"><a href="Sound.PortMidi.html#eitherErrorOrCount"><span class="hs-identifier hs-type">eitherErrorOrCount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEventCount"><span class="hs-identifier hs-type">PMEventCount</span></a></span><span>
</span><span id="line-139"></span><span id="eitherErrorOrCount"><span class="annot"><span class="annottext">eitherErrorOrCount :: CInt -&gt; Either PMError PMEventCount
</span><a href="Sound.PortMidi.html#eitherErrorOrCount"><span class="hs-identifier hs-var hs-var">eitherErrorOrCount</span></a></span></span><span> </span><span id="local-6989586621679033167"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033167"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033167"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">0</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMEventCount -&gt; Either PMError PMEventCount
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(PMEventCount -&gt; Either PMError PMEventCount)
-&gt; PMEventCount -&gt; Either PMError PMEventCount
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; PMEventCount
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033167"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMError -&gt; Either PMError PMEventCount
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(PMError -&gt; Either PMError PMEventCount)
-&gt; PMError -&gt; Either PMError PMEventCount
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; PMError
forall a. Enum a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; PMError) -&gt; Int -&gt; PMError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033167"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-keyword">data</span><span> </span><span id="PortMidiStream"><span class="annot"><a href="Sound.PortMidi.html#PortMidiStream"><span class="hs-identifier hs-var">PortMidiStream</span></a></span></span><span>
</span><span id="line-144"></span><span class="hs-keyword">type</span><span> </span><span id="PMStreamPtr"><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-var">PMStreamPtr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PortMidiStream"><span class="hs-identifier hs-type">PortMidiStream</span></a></span><span>
</span><span id="line-145"></span><span class="hs-keyword">type</span><span> </span><span id="PMStream"><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-var">PMStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ForeignPtr</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PortMidiStream"><span class="hs-identifier hs-type">PortMidiStream</span></a></span><span>
</span><span id="line-146"></span><span class="hs-keyword">type</span><span> </span><span id="DeviceID"><span class="annot"><a href="Sound.PortMidi.html#DeviceID"><span class="hs-identifier hs-var">DeviceID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="annot"><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-type">(.&lt;.)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-149"></span><span id=".%3C."><span class="annot"><span class="annottext">.&lt;. :: CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var hs-var">(.&lt;.)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="annot"><a href="Sound.PortMidi.html#.%3E."><span class="hs-operator hs-type">(.&gt;.)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-152"></span><span id=".%3E."><span class="annot"><span class="annottext">.&gt;. :: CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3E."><span class="hs-operator hs-var hs-var">(.&gt;.)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftR</span></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="annot"><a href="Sound.PortMidi.html#filterActive"><span class="hs-identifier hs-type">filterActive</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterSysex"><span class="hs-identifier hs-type">filterSysex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterClock"><span class="hs-identifier hs-type">filterClock</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterPlay"><span class="hs-identifier hs-type">filterPlay</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterTick"><span class="hs-identifier hs-type">filterTick</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterFD"><span class="hs-identifier hs-type">filterFD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterUndefined"><span class="hs-identifier hs-type">filterUndefined</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterReset"><span class="hs-identifier hs-type">filterReset</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterRealtime"><span class="hs-identifier hs-type">filterRealtime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterNote"><span class="hs-identifier hs-type">filterNote</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterChannelAftertouch"><span class="hs-identifier hs-type">filterChannelAftertouch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterPolyAftertouch"><span class="hs-identifier hs-type">filterPolyAftertouch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterAftertouch"><span class="hs-identifier hs-type">filterAftertouch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterProgram"><span class="hs-identifier hs-type">filterProgram</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterControl"><span class="hs-identifier hs-type">filterControl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterPitchBend"><span class="hs-identifier hs-type">filterPitchBend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterMTC"><span class="hs-identifier hs-type">filterMTC</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterSongPosition"><span class="hs-identifier hs-type">filterSongPosition</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterSongSelect"><span class="hs-identifier hs-type">filterSongSelect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterTune"><span class="hs-identifier hs-type">filterTune</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#filterSystemCommon"><span class="hs-identifier hs-type">filterSystemCommon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span id="filterActive"><span class="annot"><span class="annottext">filterActive :: CLong
</span><a href="Sound.PortMidi.html#filterActive"><span class="hs-identifier hs-var hs-var">filterActive</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x0e</span></span><span>
</span><span id="line-157"></span><span id="filterSysex"><span class="annot"><span class="annottext">filterSysex :: CLong
</span><a href="Sound.PortMidi.html#filterSysex"><span class="hs-identifier hs-var hs-var">filterSysex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x00</span></span><span>
</span><span id="line-158"></span><span id="filterClock"><span class="annot"><span class="annottext">filterClock :: CLong
</span><a href="Sound.PortMidi.html#filterClock"><span class="hs-identifier hs-var hs-var">filterClock</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x08</span></span><span>
</span><span id="line-159"></span><span id="filterPlay"><span class="annot"><span class="annottext">filterPlay :: CLong
</span><a href="Sound.PortMidi.html#filterPlay"><span class="hs-identifier hs-var hs-var">filterPlay</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x0A</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x0C</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x0B</span></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span id="filterTick"><span class="annot"><span class="annottext">filterTick :: CLong
</span><a href="Sound.PortMidi.html#filterTick"><span class="hs-identifier hs-var hs-var">filterTick</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x09</span></span><span>
</span><span id="line-161"></span><span id="filterFD"><span class="annot"><span class="annottext">filterFD :: CLong
</span><a href="Sound.PortMidi.html#filterFD"><span class="hs-identifier hs-var hs-var">filterFD</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x0D</span></span><span>
</span><span id="line-162"></span><span id="filterUndefined"><span class="annot"><span class="annottext">filterUndefined :: CLong
</span><a href="Sound.PortMidi.html#filterUndefined"><span class="hs-identifier hs-var hs-var">filterUndefined</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterFD"><span class="hs-identifier hs-var">filterFD</span></a></span><span>
</span><span id="line-163"></span><span id="filterReset"><span class="annot"><span class="annottext">filterReset :: CLong
</span><a href="Sound.PortMidi.html#filterReset"><span class="hs-identifier hs-var hs-var">filterReset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x0F</span></span><span>
</span><span id="line-164"></span><span id="filterRealtime"><span class="annot"><span class="annottext">filterRealtime :: CLong
</span><a href="Sound.PortMidi.html#filterRealtime"><span class="hs-identifier hs-var hs-var">filterRealtime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterActive"><span class="hs-identifier hs-var">filterActive</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterSysex"><span class="hs-identifier hs-var">filterSysex</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterClock"><span class="hs-identifier hs-var">filterClock</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterPlay"><span class="hs-identifier hs-var">filterPlay</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterUndefined"><span class="hs-identifier hs-var">filterUndefined</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterReset"><span class="hs-identifier hs-var">filterReset</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterTick"><span class="hs-identifier hs-var">filterTick</span></a></span><span>
</span><span id="line-165"></span><span id="filterNote"><span class="annot"><span class="annottext">filterNote :: CLong
</span><a href="Sound.PortMidi.html#filterNote"><span class="hs-identifier hs-var hs-var">filterNote</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x19</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x18</span></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span id="filterChannelAftertouch"><span class="annot"><span class="annottext">filterChannelAftertouch :: CLong
</span><a href="Sound.PortMidi.html#filterChannelAftertouch"><span class="hs-identifier hs-var hs-var">filterChannelAftertouch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x1D</span></span><span>
</span><span id="line-167"></span><span id="filterPolyAftertouch"><span class="annot"><span class="annottext">filterPolyAftertouch :: CLong
</span><a href="Sound.PortMidi.html#filterPolyAftertouch"><span class="hs-identifier hs-var hs-var">filterPolyAftertouch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x1A</span></span><span>
</span><span id="line-168"></span><span id="filterAftertouch"><span class="annot"><span class="annottext">filterAftertouch :: CLong
</span><a href="Sound.PortMidi.html#filterAftertouch"><span class="hs-identifier hs-var hs-var">filterAftertouch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterChannelAftertouch"><span class="hs-identifier hs-var">filterChannelAftertouch</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterPolyAftertouch"><span class="hs-identifier hs-var">filterPolyAftertouch</span></a></span><span>
</span><span id="line-169"></span><span id="filterProgram"><span class="annot"><span class="annottext">filterProgram :: CLong
</span><a href="Sound.PortMidi.html#filterProgram"><span class="hs-identifier hs-var hs-var">filterProgram</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x1C</span></span><span>
</span><span id="line-170"></span><span id="filterControl"><span class="annot"><span class="annottext">filterControl :: CLong
</span><a href="Sound.PortMidi.html#filterControl"><span class="hs-identifier hs-var hs-var">filterControl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x1B</span></span><span>
</span><span id="line-171"></span><span id="filterPitchBend"><span class="annot"><span class="annottext">filterPitchBend :: CLong
</span><a href="Sound.PortMidi.html#filterPitchBend"><span class="hs-identifier hs-var hs-var">filterPitchBend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x1E</span></span><span>
</span><span id="line-172"></span><span id="filterMTC"><span class="annot"><span class="annottext">filterMTC :: CLong
</span><a href="Sound.PortMidi.html#filterMTC"><span class="hs-identifier hs-var hs-var">filterMTC</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x01</span></span><span>
</span><span id="line-173"></span><span id="filterSongPosition"><span class="annot"><span class="annottext">filterSongPosition :: CLong
</span><a href="Sound.PortMidi.html#filterSongPosition"><span class="hs-identifier hs-var hs-var">filterSongPosition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x02</span></span><span>
</span><span id="line-174"></span><span id="filterSongSelect"><span class="annot"><span class="annottext">filterSongSelect :: CLong
</span><a href="Sound.PortMidi.html#filterSongSelect"><span class="hs-identifier hs-var hs-var">filterSongSelect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x03</span></span><span>
</span><span id="line-175"></span><span id="filterTune"><span class="annot"><span class="annottext">filterTune :: CLong
</span><a href="Sound.PortMidi.html#filterTune"><span class="hs-identifier hs-var hs-var">filterTune</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x06</span></span><span>
</span><span id="line-176"></span><span id="filterSystemCommon"><span class="annot"><span class="annottext">filterSystemCommon :: CLong
</span><a href="Sound.PortMidi.html#filterSystemCommon"><span class="hs-identifier hs-var hs-var">filterSystemCommon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterMTC"><span class="hs-identifier hs-var">filterMTC</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterSongPosition"><span class="hs-identifier hs-var">filterSongPosition</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterSongSelect"><span class="hs-identifier hs-var">filterSongSelect</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="Sound.PortMidi.html#filterTune"><span class="hs-identifier hs-var">filterTune</span></a></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-keyword">data</span><span> </span><span id="PMMsg"><span class="annot"><a href="Sound.PortMidi.html#PMMsg"><span class="hs-identifier hs-var">PMMsg</span></a></span></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span id="PMMsg"><span class="annot"><a href="Sound.PortMidi.html#PMMsg"><span class="hs-identifier hs-var">PMMsg</span></a></span></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="status"><span class="annot"><span class="annottext">PMMsg -&gt; CLong
</span><a href="Sound.PortMidi.html#status"><span class="hs-identifier hs-var hs-var">status</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="data1"><span class="annot"><span class="annottext">PMMsg -&gt; CLong
</span><a href="Sound.PortMidi.html#data1"><span class="hs-identifier hs-var hs-var">data1</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="data2"><span class="annot"><span class="annottext">PMMsg -&gt; CLong
</span><a href="Sound.PortMidi.html#data2"><span class="hs-identifier hs-var hs-var">data2</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679033153"><span id="local-6989586621679033155"><span class="annot"><span class="annottext">PMMsg -&gt; PMMsg -&gt; Bool
(PMMsg -&gt; PMMsg -&gt; Bool) -&gt; (PMMsg -&gt; PMMsg -&gt; Bool) -&gt; Eq PMMsg
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PMMsg -&gt; PMMsg -&gt; Bool
$c/= :: PMMsg -&gt; PMMsg -&gt; Bool
== :: PMMsg -&gt; PMMsg -&gt; Bool
$c== :: PMMsg -&gt; PMMsg -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033147"><span id="local-6989586621679033149"><span id="local-6989586621679033151"><span class="annot"><span class="annottext">Int -&gt; PMMsg -&gt; ShowS
[PMMsg] -&gt; ShowS
PMMsg -&gt; String
(Int -&gt; PMMsg -&gt; ShowS)
-&gt; (PMMsg -&gt; String) -&gt; ([PMMsg] -&gt; ShowS) -&gt; Show PMMsg
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PMMsg] -&gt; ShowS
$cshowList :: [PMMsg] -&gt; ShowS
show :: PMMsg -&gt; String
$cshow :: PMMsg -&gt; String
showsPrec :: Int -&gt; PMMsg -&gt; ShowS
$cshowsPrec :: Int -&gt; PMMsg -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><a href="Sound.PortMidi.html#encodeMsg"><span class="hs-identifier hs-type">encodeMsg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMMsg"><span class="hs-identifier hs-type">PMMsg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-186"></span><span id="encodeMsg"><span class="annot"><span class="annottext">encodeMsg :: PMMsg -&gt; CLong
</span><a href="Sound.PortMidi.html#encodeMsg"><span class="hs-identifier hs-var hs-var">encodeMsg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Sound.PortMidi.html#PMMsg"><span class="hs-identifier hs-type">PMMsg</span></a></span><span> </span><span id="local-6989586621679033146"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033146"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679033145"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033145"><span class="hs-identifier hs-var">d1</span></a></span></span><span> </span><span id="local-6989586621679033144"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033144"><span class="hs-identifier hs-var">d2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033144"><span class="hs-identifier hs-var">d2</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0xFF</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033145"><span class="hs-identifier hs-var">d1</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0xFF</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033146"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0xFF</span></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span class="annot"><a href="Sound.PortMidi.html#decodeMsg"><span class="hs-identifier hs-type">decodeMsg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMMsg"><span class="hs-identifier hs-type">PMMsg</span></a></span><span>
</span><span id="line-188"></span><span id="decodeMsg"><span class="annot"><span class="annottext">decodeMsg :: CLong -&gt; PMMsg
</span><a href="Sound.PortMidi.html#decodeMsg"><span class="hs-identifier hs-var hs-var">decodeMsg</span></a></span></span><span> </span><span id="local-6989586621679033142"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033142"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong -&gt; PMMsg
</span><a href="Sound.PortMidi.html#PMMsg"><span class="hs-identifier hs-var">PMMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033142"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0xFF</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033142"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3E."><span class="hs-operator hs-var">.&gt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0xFF</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033142"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3E."><span class="hs-operator hs-var">.&gt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; CLong -&gt; CLong
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0xFF</span></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">-- | Time with millisecond precision.</span><span>
</span><span id="line-191"></span><span class="hs-keyword">type</span><span> </span><span id="Timestamp"><span class="annot"><a href="Sound.PortMidi.html#Timestamp"><span class="hs-identifier hs-var">Timestamp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CULong</span></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-keyword">data</span><span> </span><span id="PMEvent"><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-var">PMEvent</span></a></span></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span id="PMEvent"><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-var">PMEvent</span></a></span></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="message"><span class="annot"><span class="annottext">PMEvent -&gt; CLong
</span><a href="Sound.PortMidi.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="timestamp"><span class="annot"><span class="annottext">PMEvent -&gt; Timestamp
</span><a href="Sound.PortMidi.html#timestamp"><span class="hs-identifier hs-var hs-var">timestamp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Sound.PortMidi.html#Timestamp"><span class="hs-identifier hs-type">Timestamp</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679033134"><span id="local-6989586621679033136"><span class="annot"><span class="annottext">PMEvent -&gt; PMEvent -&gt; Bool
(PMEvent -&gt; PMEvent -&gt; Bool)
-&gt; (PMEvent -&gt; PMEvent -&gt; Bool) -&gt; Eq PMEvent
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PMEvent -&gt; PMEvent -&gt; Bool
$c/= :: PMEvent -&gt; PMEvent -&gt; Bool
== :: PMEvent -&gt; PMEvent -&gt; Bool
$c== :: PMEvent -&gt; PMEvent -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679033128"><span id="local-6989586621679033130"><span id="local-6989586621679033132"><span class="annot"><span class="annottext">Int -&gt; PMEvent -&gt; ShowS
[PMEvent] -&gt; ShowS
PMEvent -&gt; String
(Int -&gt; PMEvent -&gt; ShowS)
-&gt; (PMEvent -&gt; String) -&gt; ([PMEvent] -&gt; ShowS) -&gt; Show PMEvent
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PMEvent] -&gt; ShowS
$cshowList :: [PMEvent] -&gt; ShowS
show :: PMEvent -&gt; String
$cshow :: PMEvent -&gt; String
showsPrec :: Int -&gt; PMEvent -&gt; ShowS
$cshowsPrec :: Int -&gt; PMEvent -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679033118"><span id="local-6989586621679033120"><span id="local-6989586621679033122"><span id="local-6989586621679033124"><span class="annot"><span class="hs-identifier hs-type">Storable</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>  </span><span id="local-6989586621679033114"><span class="annot"><span class="annottext">sizeOf :: PMEvent -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sizeOf</span></span></span><span> </span><span class="annot"><span class="annottext">PMEvent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621679033111"><span class="annot"><span class="annottext">alignment :: PMEvent -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">alignment</span></span></span><span> </span><span class="annot"><span class="annottext">PMEvent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">alignment</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>  </span><span id="local-6989586621679033109"><span class="annot"><span class="annottext">peek :: Ptr PMEvent -&gt; IO PMEvent
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">peek</span></span></span><span> </span><span id="local-6989586621679033107"><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033107"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-203"></span><span>    </span><span id="local-6989586621679033106"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033106"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent -&gt; Int -&gt; IO CLong
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; IO a
</span><span class="hs-identifier hs-var">peekByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033107"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-204"></span><span>    </span><span id="local-6989586621679033104"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679033104"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent -&gt; Int -&gt; IO Timestamp
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; IO a
</span><span class="hs-identifier hs-var">peekByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033107"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033106"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><span class="annottext">PMEvent -&gt; IO PMEvent
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(PMEvent -&gt; IO PMEvent) -&gt; PMEvent -&gt; IO PMEvent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Timestamp -&gt; PMEvent
</span><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-var">PMEvent</span></a></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033106"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679033104"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-206"></span><span>  </span><span id="local-6989586621679033103"><span class="annot"><span class="annottext">poke :: Ptr PMEvent -&gt; PMEvent -&gt; IO ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">poke</span></span></span><span> </span><span id="local-6989586621679033101"><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033101"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span><span> </span><span id="local-6989586621679033100"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033100"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679033099"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679033099"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-207"></span><span>    </span><span class="annot"><span class="annottext">Ptr PMEvent -&gt; Int -&gt; CLong -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033101"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033100"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="annot"><span class="annottext">Ptr PMEvent -&gt; Int -&gt; Timestamp -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033101"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong -&gt; Int
forall a. Storable a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">sizeOf</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033100"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679033099"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_Initialize&quot;</span></span><span> </span><span id="pm_Initialize"><span class="annot"><a href="Sound.PortMidi.html#pm_Initialize"><span class="hs-identifier hs-var">pm_Initialize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-212"></span><span class="annot"><a href="Sound.PortMidi.html#initialize"><span class="hs-identifier hs-type">initialize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span id="initialize"><span class="annot"><span class="annottext">initialize :: IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#initialize"><span class="hs-identifier hs-var hs-var">initialize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO CInt
</span><a href="Sound.PortMidi.html#pm_Initialize"><span class="hs-identifier hs-var">pm_Initialize</span></a></span><span> </span><span class="annot"><span class="annottext">IO CInt
-&gt; (CInt -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Either PMError PMSuccess -&gt; IO (Either PMError PMSuccess)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either PMError PMSuccess -&gt; IO (Either PMError PMSuccess))
-&gt; (CInt -&gt; Either PMError PMSuccess)
-&gt; CInt
-&gt; IO (Either PMError PMSuccess)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_Terminate&quot;</span></span><span> </span><span id="pm_Terminate"><span class="annot"><a href="Sound.PortMidi.html#pm_Terminate"><span class="hs-identifier hs-var">pm_Terminate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-216"></span><span class="annot"><a href="Sound.PortMidi.html#terminate"><span class="hs-identifier hs-type">terminate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span id="terminate"><span class="annot"><span class="annottext">terminate :: IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#terminate"><span class="hs-identifier hs-var hs-var">terminate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO CInt
</span><a href="Sound.PortMidi.html#pm_Terminate"><span class="hs-identifier hs-var">pm_Terminate</span></a></span><span> </span><span class="annot"><span class="annottext">IO CInt
-&gt; (CInt -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Either PMError PMSuccess -&gt; IO (Either PMError PMSuccess)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either PMError PMSuccess -&gt; IO (Either PMError PMSuccess))
-&gt; (CInt -&gt; Either PMError PMSuccess)
-&gt; CInt
-&gt; IO (Either PMError PMSuccess)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_HasHostError&quot;</span></span><span> </span><span id="pm_HasHostError"><span class="annot"><a href="Sound.PortMidi.html#pm_HasHostError"><span class="hs-identifier hs-var">pm_HasHostError</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-220"></span><span class="annot"><a href="Sound.PortMidi.html#hasHostError"><span class="hs-identifier hs-type">hasHostError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-221"></span><span id="hasHostError"><span class="annot"><span class="annottext">hasHostError :: PMStream -&gt; IO Bool
</span><a href="Sound.PortMidi.html#hasHostError"><span class="hs-identifier hs-var hs-var">hasHostError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PMStream -&gt; (Ptr PortMidiStream -&gt; IO Bool) -&gt; IO Bool)
-&gt; (Ptr PortMidiStream -&gt; IO Bool) -&gt; PMStream -&gt; IO Bool
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">PMStream -&gt; (Ptr PortMidiStream -&gt; IO Bool) -&gt; IO Bool
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679033091"><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033091"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_HasHostError"><span class="hs-identifier hs-var">pm_HasHostError</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033091"><span class="hs-identifier hs-var">stream</span></a></span><span> </span><span class="annot"><span class="annottext">IO CInt -&gt; (CInt -&gt; IO Bool) -&gt; IO Bool
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; IO Bool
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; IO Bool) -&gt; (CInt -&gt; Bool) -&gt; CInt -&gt; IO Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool
forall a. Enum a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; (CInt -&gt; Int) -&gt; CInt -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_GetErrorText&quot;</span></span><span> </span><span id="pm_GetErrorText"><span class="annot"><a href="Sound.PortMidi.html#pm_GetErrorText"><span class="hs-identifier hs-var">pm_GetErrorText</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CString</span></span><span>
</span><span id="line-224"></span><span class="annot"><a href="Sound.PortMidi.html#getErrorText"><span class="hs-identifier hs-type">getErrorText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-225"></span><span id="getErrorText"><span class="annot"><span class="annottext">getErrorText :: PMError -&gt; IO String
</span><a href="Sound.PortMidi.html#getErrorText"><span class="hs-identifier hs-var hs-var">getErrorText</span></a></span></span><span> </span><span id="local-6989586621679033089"><span class="annot"><span class="annottext">PMError
</span><a href="#local-6989586621679033089"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt -&gt; IO CString
</span><a href="Sound.PortMidi.html#pm_GetErrorText"><span class="hs-identifier hs-var">pm_GetErrorText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; CInt) -&gt; Int -&gt; CInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PMError -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMError
</span><a href="#local-6989586621679033089"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO CString -&gt; (CString -&gt; IO String) -&gt; IO String
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CString -&gt; IO String
</span><span class="hs-identifier hs-var">peekCString</span></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="annot"><a href="Sound.PortMidi.html#getSuccessText"><span class="hs-identifier hs-type">getSuccessText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-228"></span><span id="getSuccessText"><span class="annot"><span class="annottext">getSuccessText :: PMSuccess -&gt; IO String
</span><a href="Sound.PortMidi.html#getSuccessText"><span class="hs-identifier hs-var hs-var">getSuccessText</span></a></span></span><span> </span><span id="local-6989586621679033087"><span class="annot"><span class="annottext">PMSuccess
</span><a href="#local-6989586621679033087"><span class="hs-identifier hs-var">success</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt -&gt; IO CString
</span><a href="Sound.PortMidi.html#pm_GetErrorText"><span class="hs-identifier hs-var">pm_GetErrorText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; CInt) -&gt; Int -&gt; CInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PMSuccess -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">PMSuccess
</span><a href="#local-6989586621679033087"><span class="hs-identifier hs-var">success</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO CString -&gt; (CString -&gt; IO String) -&gt; IO String
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CString -&gt; IO String
</span><span class="hs-identifier hs-var">peekCString</span></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="annot"><a href="Sound.PortMidi.html#getText"><span class="hs-identifier hs-type">getText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-231"></span><span id="getText"><span class="annot"><span class="annottext">getText :: Either PMError PMSuccess -&gt; IO String
</span><a href="Sound.PortMidi.html#getText"><span class="hs-identifier hs-var hs-var">getText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PMError -&gt; IO String)
-&gt; (PMSuccess -&gt; IO String)
-&gt; Either PMError PMSuccess
-&gt; IO String
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">PMError -&gt; IO String
</span><a href="Sound.PortMidi.html#getErrorText"><span class="hs-identifier hs-var">getErrorText</span></a></span><span> </span><span class="annot"><span class="annottext">PMSuccess -&gt; IO String
</span><a href="Sound.PortMidi.html#getSuccessText"><span class="hs-identifier hs-var">getSuccessText</span></a></span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_CountDevices&quot;</span></span><span> </span><span id="pm_countDevices"><span class="annot"><a href="Sound.PortMidi.html#pm_countDevices"><span class="hs-identifier hs-var">pm_countDevices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-234"></span><span class="annot"><a href="Sound.PortMidi.html#countDevices"><span class="hs-identifier hs-type">countDevices</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#DeviceID"><span class="hs-identifier hs-type">DeviceID</span></a></span><span>
</span><span id="line-235"></span><span id="countDevices"><span class="annot"><span class="annottext">countDevices :: IO Int
</span><a href="Sound.PortMidi.html#countDevices"><span class="hs-identifier hs-var hs-var">countDevices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO CInt
</span><a href="Sound.PortMidi.html#pm_countDevices"><span class="hs-identifier hs-var">pm_countDevices</span></a></span><span> </span><span class="annot"><span class="annottext">IO CInt -&gt; (CInt -&gt; IO Int) -&gt; IO Int
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO Int
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; IO Int) -&gt; (CInt -&gt; Int) -&gt; CInt -&gt; IO Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_GetDefaultInputDeviceID&quot;</span></span><span> </span><span id="pm_GetDefaultInputDeviceID"><span class="annot"><a href="Sound.PortMidi.html#pm_GetDefaultInputDeviceID"><span class="hs-identifier hs-var">pm_GetDefaultInputDeviceID</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-238"></span><span class="annot"><a href="Sound.PortMidi.html#getDefaultInputDeviceID"><span class="hs-identifier hs-type">getDefaultInputDeviceID</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#DeviceID"><span class="hs-identifier hs-type">DeviceID</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span id="getDefaultInputDeviceID"><span class="annot"><span class="annottext">getDefaultInputDeviceID :: IO (Maybe Int)
</span><a href="Sound.PortMidi.html#getDefaultInputDeviceID"><span class="hs-identifier hs-var hs-var">getDefaultInputDeviceID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-240"></span><span>  </span><span id="local-6989586621679033083"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033083"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO CInt
</span><a href="Sound.PortMidi.html#pm_GetDefaultInputDeviceID"><span class="hs-identifier hs-var">pm_GetDefaultInputDeviceID</span></a></span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><span class="annottext">Maybe Int -&gt; IO (Maybe Int)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Int -&gt; IO (Maybe Int)) -&gt; Maybe Int -&gt; IO (Maybe Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033083"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033083"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_GetDefaultOutputDeviceID&quot;</span></span><span> </span><span id="pm_GetDefaultOutputDeviceID"><span class="annot"><a href="Sound.PortMidi.html#pm_GetDefaultOutputDeviceID"><span class="hs-identifier hs-var">pm_GetDefaultOutputDeviceID</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-243"></span><span class="annot"><a href="Sound.PortMidi.html#getDefaultOutputDeviceID"><span class="hs-identifier hs-type">getDefaultOutputDeviceID</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#DeviceID"><span class="hs-identifier hs-type">DeviceID</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span id="getDefaultOutputDeviceID"><span class="annot"><span class="annottext">getDefaultOutputDeviceID :: IO (Maybe Int)
</span><a href="Sound.PortMidi.html#getDefaultOutputDeviceID"><span class="hs-identifier hs-var hs-var">getDefaultOutputDeviceID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-245"></span><span>  </span><span id="local-6989586621679033081"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033081"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO CInt
</span><a href="Sound.PortMidi.html#pm_GetDefaultOutputDeviceID"><span class="hs-identifier hs-var">pm_GetDefaultOutputDeviceID</span></a></span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><span class="annottext">Maybe Int -&gt; IO (Maybe Int)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Int -&gt; IO (Maybe Int)) -&gt; Maybe Int -&gt; IO (Maybe Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033081"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679033081"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_GetDeviceInfo&quot;</span></span><span> </span><span id="pm_GetDeviceInfo"><span class="annot"><a href="Sound.PortMidi.html#pm_GetDeviceInfo"><span class="hs-identifier hs-var">pm_GetDeviceInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span class="annot"><a href="Sound.PortMidi.html#getDeviceInfo"><span class="hs-identifier hs-type">getDeviceInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#DeviceID"><span class="hs-identifier hs-type">DeviceID</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.DeviceInfo.html#DeviceInfo"><span class="hs-identifier hs-type">DeviceInfo</span></a></span><span>
</span><span id="line-250"></span><span id="getDeviceInfo"><span class="annot"><span class="annottext">getDeviceInfo :: Int -&gt; IO DeviceInfo
</span><a href="Sound.PortMidi.html#getDeviceInfo"><span class="hs-identifier hs-var hs-var">getDeviceInfo</span></a></span></span><span> </span><span id="local-6989586621679033079"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033079"><span class="hs-identifier hs-var">deviceID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt -&gt; IO (Ptr ())
</span><a href="Sound.PortMidi.html#pm_GetDeviceInfo"><span class="hs-identifier hs-var">pm_GetDeviceInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033079"><span class="hs-identifier hs-var">deviceID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO (Ptr ()) -&gt; (Ptr () -&gt; IO DeviceInfo) -&gt; IO DeviceInfo
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Ptr () -&gt; IO DeviceInfo
forall a. Ptr a -&gt; IO DeviceInfo
</span><a href="Sound.PortMidi.DeviceInfo.html#peekDeviceInfo"><span class="hs-identifier hs-var">peekDeviceInfo</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_OpenInput&quot;</span></span><span> </span><span id="pm_OpenInput"><span class="annot"><a href="Sound.PortMidi.html#pm_OpenInput"><span class="hs-identifier hs-var">pm_OpenInput</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-253"></span><span class="annot"><a href="Sound.PortMidi.html#openInput"><span class="hs-identifier hs-type">openInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#DeviceID"><span class="hs-identifier hs-type">DeviceID</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span id="openInput"><span class="annot"><span class="annottext">openInput :: Int -&gt; IO (Either PMError PMStream)
</span><a href="Sound.PortMidi.html#openInput"><span class="hs-identifier hs-var hs-var">openInput</span></a></span></span><span> </span><span id="local-6989586621679033076"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033076"><span class="hs-identifier hs-var">inputDevice</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-255"></span><span>  </span><span class="annot"><span class="annottext">Ptr PortMidiStream
-&gt; (Ptr (Ptr PortMidiStream) -&gt; IO (Either PMError PMStream))
-&gt; IO (Either PMError PMStream)
forall a b. Storable a =&gt; a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">with</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
forall a. Ptr a
</span><span class="hs-identifier hs-var">nullPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679033073"><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream)
</span><a href="#local-6989586621679033073"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream)
-&gt; CInt -&gt; Ptr () -&gt; CLong -&gt; Ptr () -&gt; Ptr () -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_OpenInput"><span class="hs-identifier hs-var">pm_OpenInput</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream)
</span><a href="#local-6989586621679033073"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033076"><span class="hs-identifier hs-var">inputDevice</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr ()
forall a. Ptr a
</span><span class="hs-identifier hs-var">nullPtr</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Ptr ()
forall a. Ptr a
</span><span class="hs-identifier hs-var">nullPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr ()
forall a. Ptr a
</span><span class="hs-identifier hs-var">nullPtr</span></span><span> </span><span class="annot"><span class="annottext">IO (Either PMError PMSuccess)
-&gt; (Either PMError PMSuccess -&gt; IO (Either PMError PMStream))
-&gt; IO (Either PMError PMStream)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">(PMError -&gt; IO (Either PMError PMStream))
-&gt; (PMSuccess -&gt; IO (Either PMError PMStream))
-&gt; Either PMError PMSuccess
-&gt; IO (Either PMError PMStream)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span>
</span><span id="line-257"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either PMError PMStream -&gt; IO (Either PMError PMStream)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either PMError PMStream -&gt; IO (Either PMError PMStream))
-&gt; (PMError -&gt; Either PMError PMStream)
-&gt; PMError
-&gt; IO (Either PMError PMStream)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PMError -&gt; Either PMError PMStream
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PMSuccess
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-259"></span><span>        </span><span id="local-6989586621679033071"><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033071"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream) -&gt; IO (Ptr PortMidiStream)
forall a. Storable a =&gt; Ptr a -&gt; IO a
</span><span class="hs-identifier hs-var">peek</span></span><span> </span><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream)
</span><a href="#local-6989586621679033073"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-260"></span><span>        </span><span class="annot"><span class="annottext">PMStream -&gt; Either PMError PMStream
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(PMStream -&gt; Either PMError PMStream)
-&gt; IO PMStream -&gt; IO (Either PMError PMStream)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; IO PMStream
forall a. Ptr a -&gt; IO (ForeignPtr a)
</span><span class="hs-identifier hs-var">newForeignPtr_</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033071"><span class="hs-identifier hs-var">stream</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_OpenOutput&quot;</span></span><span> </span><span id="pm_OpenOutput"><span class="annot"><a href="Sound.PortMidi.html#pm_OpenOutput"><span class="hs-identifier hs-var">pm_OpenOutput</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-263"></span><span class="annot"><a href="Sound.PortMidi.html#openOutput"><span class="hs-identifier hs-type">openOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#DeviceID"><span class="hs-identifier hs-type">DeviceID</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span id="openOutput"><span class="annot"><span class="annottext">openOutput :: Int -&gt; Int -&gt; IO (Either PMError PMStream)
</span><a href="Sound.PortMidi.html#openOutput"><span class="hs-identifier hs-var hs-var">openOutput</span></a></span></span><span> </span><span id="local-6989586621679033068"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033068"><span class="hs-identifier hs-var">outputDevice</span></a></span></span><span> </span><span id="local-6989586621679033067"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033067"><span class="hs-identifier hs-var">latency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-265"></span><span>  </span><span class="annot"><span class="annottext">Ptr PortMidiStream
-&gt; (Ptr (Ptr PortMidiStream) -&gt; IO (Either PMError PMStream))
-&gt; IO (Either PMError PMStream)
forall a b. Storable a =&gt; a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">with</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
forall a. Ptr a
</span><span class="hs-identifier hs-var">nullPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679033066"><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream)
</span><a href="#local-6989586621679033066"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-266"></span><span>    </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream)
-&gt; CInt -&gt; Ptr () -&gt; CLong -&gt; Ptr () -&gt; Ptr () -&gt; CLong -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_OpenOutput"><span class="hs-identifier hs-var">pm_OpenOutput</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream)
</span><a href="#local-6989586621679033066"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033068"><span class="hs-identifier hs-var">outputDevice</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr ()
forall a. Ptr a
</span><span class="hs-identifier hs-var">nullPtr</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Ptr ()
forall a. Ptr a
</span><span class="hs-identifier hs-var">nullPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr ()
forall a. Ptr a
</span><span class="hs-identifier hs-var">nullPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CLong
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033067"><span class="hs-identifier hs-var">latency</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO (Either PMError PMSuccess)
-&gt; (Either PMError PMSuccess -&gt; IO (Either PMError PMStream))
-&gt; IO (Either PMError PMStream)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">(PMError -&gt; IO (Either PMError PMStream))
-&gt; (PMSuccess -&gt; IO (Either PMError PMStream))
-&gt; Either PMError PMSuccess
-&gt; IO (Either PMError PMStream)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span>
</span><span id="line-267"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either PMError PMStream -&gt; IO (Either PMError PMStream)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either PMError PMStream -&gt; IO (Either PMError PMStream))
-&gt; (PMError -&gt; Either PMError PMStream)
-&gt; PMError
-&gt; IO (Either PMError PMStream)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PMError -&gt; Either PMError PMStream
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PMSuccess
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-269"></span><span>        </span><span id="local-6989586621679033065"><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033065"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream) -&gt; IO (Ptr PortMidiStream)
forall a. Storable a =&gt; Ptr a -&gt; IO a
</span><span class="hs-identifier hs-var">peek</span></span><span> </span><span class="annot"><span class="annottext">Ptr (Ptr PortMidiStream)
</span><a href="#local-6989586621679033066"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-270"></span><span>        </span><span class="annot"><span class="annottext">PMStream -&gt; Either PMError PMStream
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(PMStream -&gt; Either PMError PMStream)
-&gt; IO PMStream -&gt; IO (Either PMError PMStream)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; IO PMStream
forall a. Ptr a -&gt; IO (ForeignPtr a)
</span><span class="hs-identifier hs-var">newForeignPtr_</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033065"><span class="hs-identifier hs-var">stream</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_SetFilter&quot;</span></span><span> </span><span id="pm_SetFilter"><span class="annot"><a href="Sound.PortMidi.html#pm_SetFilter"><span class="hs-identifier hs-var">pm_SetFilter</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-273"></span><span class="annot"><a href="Sound.PortMidi.html#setFilter"><span class="hs-identifier hs-type">setFilter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span id="setFilter"><span class="annot"><span class="annottext">setFilter :: PMStream -&gt; CLong -&gt; IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#setFilter"><span class="hs-identifier hs-var hs-var">setFilter</span></a></span></span><span> </span><span id="local-6989586621679033063"><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033063"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span id="local-6989586621679033062"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033062"><span class="hs-identifier hs-var">theFilter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033063"><span class="hs-identifier hs-var">stream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO (Either PMError PMSuccess))
-&gt; (Ptr PortMidiStream -&gt; IO CInt)
-&gt; Ptr PortMidiStream
-&gt; IO (Either PMError PMSuccess)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Ptr PortMidiStream -&gt; CLong -&gt; IO CInt)
-&gt; CLong -&gt; Ptr PortMidiStream -&gt; IO CInt
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; CLong -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_SetFilter"><span class="hs-identifier hs-var">pm_SetFilter</span></a></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033062"><span class="hs-identifier hs-var">theFilter</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="annot"><a href="Sound.PortMidi.html#channel"><span class="hs-identifier hs-type">channel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-277"></span><span id="channel"><span class="annot"><span class="annottext">channel :: Int -&gt; CLong
</span><a href="Sound.PortMidi.html#channel"><span class="hs-identifier hs-var hs-var">channel</span></a></span></span><span> </span><span id="local-6989586621679033061"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033061"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; CLong
</span><a href="Sound.PortMidi.html#.%3C."><span class="hs-operator hs-var">.&lt;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033061"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_SetChannelMask&quot;</span></span><span> </span><span id="pm_SetChannelMask"><span class="annot"><a href="Sound.PortMidi.html#pm_SetChannelMask"><span class="hs-identifier hs-var">pm_SetChannelMask</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-280"></span><span class="annot"><a href="Sound.PortMidi.html#setChannelMask"><span class="hs-identifier hs-type">setChannelMask</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span id="setChannelMask"><span class="annot"><span class="annottext">setChannelMask :: PMStream -&gt; CLong -&gt; IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#setChannelMask"><span class="hs-identifier hs-var hs-var">setChannelMask</span></a></span></span><span> </span><span id="local-6989586621679033059"><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033059"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span id="local-6989586621679033058"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033058"><span class="hs-identifier hs-var">mask</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033059"><span class="hs-identifier hs-var">stream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO (Either PMError PMSuccess))
-&gt; (Ptr PortMidiStream -&gt; IO CInt)
-&gt; Ptr PortMidiStream
-&gt; IO (Either PMError PMSuccess)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Ptr PortMidiStream -&gt; CLong -&gt; IO CInt)
-&gt; CLong -&gt; Ptr PortMidiStream -&gt; IO CInt
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; CLong -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_SetChannelMask"><span class="hs-identifier hs-var">pm_SetChannelMask</span></a></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033058"><span class="hs-identifier hs-var">mask</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_Abort&quot;</span></span><span> </span><span id="pm_Abort"><span class="annot"><a href="Sound.PortMidi.html#pm_Abort"><span class="hs-identifier hs-var">pm_Abort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-284"></span><span class="annot"><a href="Sound.PortMidi.html#abort"><span class="hs-identifier hs-type">abort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span id="abort"><span class="annot"><span class="annottext">abort :: PMStream -&gt; IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#abort"><span class="hs-identifier hs-var hs-var">abort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PMStream
 -&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
 -&gt; IO (Either PMError PMSuccess))
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; PMStream
-&gt; IO (Either PMError PMSuccess)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO (Either PMError PMSuccess))
-&gt; (Ptr PortMidiStream -&gt; IO CInt)
-&gt; Ptr PortMidiStream
-&gt; IO (Either PMError PMSuccess)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_Abort"><span class="hs-identifier hs-var">pm_Abort</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_Close&quot;</span></span><span> </span><span id="pm_Close"><span class="annot"><a href="Sound.PortMidi.html#pm_Close"><span class="hs-identifier hs-var">pm_Close</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-288"></span><span class="annot"><a href="Sound.PortMidi.html#close"><span class="hs-identifier hs-type">close</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span id="close"><span class="annot"><span class="annottext">close :: PMStream -&gt; IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#close"><span class="hs-identifier hs-var hs-var">close</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PMStream
 -&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
 -&gt; IO (Either PMError PMSuccess))
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; PMStream
-&gt; IO (Either PMError PMSuccess)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO (Either PMError PMSuccess))
-&gt; (Ptr PortMidiStream -&gt; IO CInt)
-&gt; Ptr PortMidiStream
-&gt; IO (Either PMError PMSuccess)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_Close"><span class="hs-identifier hs-var">pm_Close</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_Poll&quot;</span></span><span> </span><span id="pm_Poll"><span class="annot"><a href="Sound.PortMidi.html#pm_Poll"><span class="hs-identifier hs-var">pm_Poll</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-292"></span><span class="hs-comment">-- | Returns wether or not a subsequent call to 'readEvents' would return</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- some 'PMEvent's or not.</span><span>
</span><span id="line-294"></span><span class="annot"><a href="Sound.PortMidi.html#poll"><span class="hs-identifier hs-type">poll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span id="poll"><span class="annot"><span class="annottext">poll :: PMStream -&gt; IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#poll"><span class="hs-identifier hs-var hs-var">poll</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PMStream
 -&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
 -&gt; IO (Either PMError PMSuccess))
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; PMStream
-&gt; IO (Either PMError PMSuccess)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO (Either PMError PMSuccess))
-&gt; (Ptr PortMidiStream -&gt; IO CInt)
-&gt; Ptr PortMidiStream
-&gt; IO (Either PMError PMSuccess)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_Poll"><span class="hs-identifier hs-var">pm_Poll</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_Read&quot;</span></span><span> </span><span id="pm_Read"><span class="annot"><a href="Sound.PortMidi.html#pm_Read"><span class="hs-identifier hs-var">pm_Read</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-298"></span><span class="hs-comment">-- | Reads at most 256 'PMEvent's, using a dynamically allocated buffer.</span><span>
</span><span id="line-299"></span><span class="annot"><a href="Sound.PortMidi.html#readEvents"><span class="hs-identifier hs-type">readEvents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span id="readEvents"><span class="annot"><span class="annottext">readEvents :: PMStream -&gt; IO (Either PMError [PMEvent])
</span><a href="Sound.PortMidi.html#readEvents"><span class="hs-identifier hs-var hs-var">readEvents</span></a></span></span><span> </span><span id="local-6989586621679033053"><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033053"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-301"></span><span>  </span><span class="annot"><span class="annottext">Int
-&gt; (Ptr PMEvent -&gt; IO (Either PMError [PMEvent]))
-&gt; IO (Either PMError [PMEvent])
forall a b. Storable a =&gt; Int -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">allocaArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033051"><span class="hs-identifier hs-var">defaultBufferSize</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Ptr PMEvent -&gt; IO (Either PMError [PMEvent]))
 -&gt; IO (Either PMError [PMEvent]))
-&gt; (Ptr PMEvent -&gt; IO (Either PMError [PMEvent]))
-&gt; IO (Either PMError [PMEvent])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679033050"><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033050"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-302"></span><span>    </span><span class="annot"><span class="annottext">PMStream
-&gt; Ptr PMEvent -&gt; CLong -&gt; IO (Either PMError PMEventCount)
</span><a href="Sound.PortMidi.html#readEventsToBuffer"><span class="hs-identifier hs-var">readEventsToBuffer</span></a></span><span> </span><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033053"><span class="hs-identifier hs-var">stream</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033050"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033051"><span class="hs-identifier hs-var">defaultBufferSize</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either PMError PMEventCount)
-&gt; (Either PMError PMEventCount -&gt; IO (Either PMError [PMEvent]))
-&gt; IO (Either PMError [PMEvent])
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">(PMError -&gt; IO (Either PMError [PMEvent]))
-&gt; (PMEventCount -&gt; IO (Either PMError [PMEvent]))
-&gt; Either PMError PMEventCount
-&gt; IO (Either PMError [PMEvent])
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span>
</span><span id="line-303"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either PMError [PMEvent] -&gt; IO (Either PMError [PMEvent])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either PMError [PMEvent] -&gt; IO (Either PMError [PMEvent]))
-&gt; (PMError -&gt; Either PMError [PMEvent])
-&gt; PMError
-&gt; IO (Either PMError [PMEvent])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PMError -&gt; Either PMError [PMEvent]
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([PMEvent] -&gt; Either PMError [PMEvent])
-&gt; IO [PMEvent] -&gt; IO (Either PMError [PMEvent])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[PMEvent] -&gt; Either PMError [PMEvent]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(IO [PMEvent] -&gt; IO (Either PMError [PMEvent]))
-&gt; (PMEventCount -&gt; IO [PMEvent])
-&gt; PMEventCount
-&gt; IO (Either PMError [PMEvent])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Ptr PMEvent -&gt; IO [PMEvent])
-&gt; Ptr PMEvent -&gt; Int -&gt; IO [PMEvent]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Ptr PMEvent -&gt; IO [PMEvent]
forall a. Storable a =&gt; Int -&gt; Ptr a -&gt; IO [a]
</span><span class="hs-identifier hs-var">peekArray</span></span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033050"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; IO [PMEvent])
-&gt; (PMEventCount -&gt; Int) -&gt; PMEventCount -&gt; IO [PMEvent]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PMEventCount -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-306"></span><span>  </span><span id="local-6989586621679033051"><span class="annot"><span class="annottext">defaultBufferSize :: CLong
</span><a href="#local-6989586621679033051"><span class="hs-identifier hs-var hs-var">defaultBufferSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLong
</span><span class="hs-number">256</span></span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="hs-comment">-- | Reads 'PMEvent's and writes them to the buffer passed as argument.</span><span>
</span><span id="line-309"></span><span class="annot"><a href="Sound.PortMidi.html#readEventsToBuffer"><span class="hs-identifier hs-type">readEventsToBuffer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span>
</span><span id="line-310"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span><span>
</span><span id="line-311"></span><span>                   </span><span class="hs-comment">-- ^ The 'PMEvent's buffer which will contain the results.</span><span>
</span><span id="line-312"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span>
</span><span id="line-313"></span><span>                   </span><span class="hs-comment">-- ^ The size of the 'PMEvent' buffer, in number of elements.</span><span>
</span><span id="line-314"></span><span>                   </span><span class="hs-comment">-- No more that this number of 'PMEvent's can be read at once.</span><span>
</span><span id="line-315"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEventCount"><span class="hs-identifier hs-type">PMEventCount</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>                   </span><span class="hs-comment">-- ^ When 'Right', returns the number of elements written</span><span>
</span><span id="line-317"></span><span>                   </span><span class="hs-comment">-- to the 'PMEvent' buffer.</span><span>
</span><span id="line-318"></span><span id="readEventsToBuffer"><span class="annot"><span class="annottext">readEventsToBuffer :: PMStream
-&gt; Ptr PMEvent -&gt; CLong -&gt; IO (Either PMError PMEventCount)
</span><a href="Sound.PortMidi.html#readEventsToBuffer"><span class="hs-identifier hs-var hs-var">readEventsToBuffer</span></a></span></span><span> </span><span id="local-6989586621679033048"><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033048"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span id="local-6989586621679033047"><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033047"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span id="local-6989586621679033046"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033046"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-319"></span><span>  </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMEventCount))
-&gt; IO (Either PMError PMEventCount)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033048"><span class="hs-identifier hs-var">stream</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr PortMidiStream -&gt; IO (Either PMError PMEventCount))
 -&gt; IO (Either PMError PMEventCount))
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMEventCount))
-&gt; IO (Either PMError PMEventCount)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679033045"><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033045"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMEventCount
</span><a href="Sound.PortMidi.html#eitherErrorOrCount"><span class="hs-identifier hs-var">eitherErrorOrCount</span></a></span><span> </span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMEventCount)
-&gt; IO CInt -&gt; IO (Either PMError PMEventCount)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; Ptr PMEvent -&gt; CLong -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_Read"><span class="hs-identifier hs-var">pm_Read</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033045"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033047"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033046"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_Write&quot;</span></span><span> </span><span id="pm_Write"><span class="annot"><a href="Sound.PortMidi.html#pm_Write"><span class="hs-identifier hs-var">pm_Write</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-323"></span><span class="annot"><a href="Sound.PortMidi.html#writeEvents"><span class="hs-identifier hs-type">writeEvents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span id="writeEvents"><span class="annot"><span class="annottext">writeEvents :: PMStream -&gt; [PMEvent] -&gt; IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#writeEvents"><span class="hs-identifier hs-var hs-var">writeEvents</span></a></span></span><span> </span><span id="local-6989586621679033043"><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033043"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span id="local-6989586621679033042"><span class="annot"><span class="annottext">[PMEvent]
</span><a href="#local-6989586621679033042"><span class="hs-identifier hs-var">events</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033043"><span class="hs-identifier hs-var">stream</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679033041"><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033041"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-325"></span><span>  </span><span class="annot"><span class="annottext">[PMEvent]
-&gt; (Int -&gt; Ptr PMEvent -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. Storable a =&gt; [a] -&gt; (Int -&gt; Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withArrayLen</span></span><span> </span><span class="annot"><span class="annottext">[PMEvent]
</span><a href="#local-6989586621679033042"><span class="hs-identifier hs-var">events</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679033039"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033039"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span id="local-6989586621679033038"><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033038"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; Ptr PMEvent -&gt; CLong -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_Write"><span class="hs-identifier hs-var">pm_Write</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033041"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PMEvent
</span><a href="#local-6989586621679033038"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CLong
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679033039"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_WriteShort&quot;</span></span><span> </span><span id="pm_WriteShort"><span class="annot"><a href="Sound.PortMidi.html#pm_WriteShort"><span class="hs-identifier hs-var">pm_WriteShort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CULong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-328"></span><span class="annot"><a href="Sound.PortMidi.html#writeShort"><span class="hs-identifier hs-type">writeShort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span id="writeShort"><span class="annot"><span class="annottext">writeShort :: PMStream -&gt; PMEvent -&gt; IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#writeShort"><span class="hs-identifier hs-var hs-var">writeShort</span></a></span></span><span> </span><span id="local-6989586621679033036"><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033036"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Sound.PortMidi.html#PMEvent"><span class="hs-identifier hs-type">PMEvent</span></a></span><span> </span><span id="local-6989586621679033035"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033035"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621679033034"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679033034"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033036"><span class="hs-identifier hs-var">stream</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679033033"><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033033"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-330"></span><span>  </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; Timestamp -&gt; CLong -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_WriteShort"><span class="hs-identifier hs-var">pm_WriteShort</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033033"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679033034"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679033035"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;portmidi.h Pm_WriteSysEx&quot;</span></span><span> </span><span id="pm_WriteSysEx"><span class="annot"><a href="Sound.PortMidi.html#pm_WriteSysEx"><span class="hs-identifier hs-var">pm_WriteSysEx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStreamPtr"><span class="hs-identifier hs-type">PMStreamPtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CULong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span>
</span><span id="line-333"></span><span class="annot"><a href="Sound.PortMidi.html#writeSysEx"><span class="hs-identifier hs-type">writeSysEx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMStream"><span class="hs-identifier hs-type">PMStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Sound.PortMidi.html#Timestamp"><span class="hs-identifier hs-type">Timestamp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMError"><span class="hs-identifier hs-type">PMError</span></a></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#PMSuccess"><span class="hs-identifier hs-type">PMSuccess</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span id="writeSysEx"><span class="annot"><span class="annottext">writeSysEx :: PMStream -&gt; Timestamp -&gt; String -&gt; IO (Either PMError PMSuccess)
</span><a href="Sound.PortMidi.html#writeSysEx"><span class="hs-identifier hs-var hs-var">writeSysEx</span></a></span></span><span> </span><span id="local-6989586621679033031"><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033031"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span id="local-6989586621679033030"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679033030"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679033029"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679033029"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMStream
-&gt; (Ptr PortMidiStream -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">PMStream
</span><a href="#local-6989586621679033031"><span class="hs-identifier hs-var">stream</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679033028"><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033028"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-335"></span><span>  </span><span class="annot"><span class="annottext">String
-&gt; (CString -&gt; IO (Either PMError PMSuccess))
-&gt; IO (Either PMError PMSuccess)
forall a. String -&gt; (CString -&gt; IO a) -&gt; IO a
</span><span class="hs-identifier hs-var">withCAString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679033029"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679033026"><span class="annot"><span class="annottext">CString
</span><a href="#local-6989586621679033026"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Either PMError PMSuccess
</span><a href="Sound.PortMidi.html#eitherErrorOrSuccess"><span class="hs-identifier hs-var">eitherErrorOrSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">(CInt -&gt; Either PMError PMSuccess)
-&gt; IO CInt -&gt; IO (Either PMError PMSuccess)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream -&gt; Timestamp -&gt; CString -&gt; IO CInt
</span><a href="Sound.PortMidi.html#pm_WriteSysEx"><span class="hs-identifier hs-var">pm_WriteSysEx</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PortMidiStream
</span><a href="#local-6989586621679033028"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679033030"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">CString
</span><a href="#local-6989586621679033026"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;porttime.h Pt_Time&quot;</span></span><span> </span><span id="time"><span class="annot"><a href="Sound.PortMidi.html#time"><span class="hs-identifier hs-var">time</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Sound.PortMidi.html#Timestamp"><span class="hs-identifier hs-type">Timestamp</span></a></span><span>
</span><span id="line-338"></span></pre></body></html>