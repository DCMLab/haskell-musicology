<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module      :  Graphics.Rendering.Chart.Grid</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Copyright   :  (c) Tim Docker 2010, 2014</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- License     :  BSD-style (see chart/COPYRIGHT)</span><span>
</span><span id="line-6"></span><span class="hs-comment">--</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- A container type for values that can be composed by horizonal</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- and vertical layout.</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Graphics.Rendering.Chart.Grid</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier">Grid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier">Span</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier">SpaceWeight</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tval"><span class="hs-identifier">tval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier">tspan</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#empty"><span class="hs-identifier">empty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier">nullt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#.%7C."><span class="hs-operator">(.|.)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#.%2F."><span class="hs-operator">(./.)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier">above</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#aboveN"><span class="hs-identifier">aboveN</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier">beside</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#besideN"><span class="hs-identifier">besideN</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier">overlay</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier">width</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier">height</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#gridToRenderable"><span class="hs-identifier">gridToRenderable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier">weights</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#aboveWide"><span class="hs-identifier">aboveWide</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#wideAbove"><span class="hs-identifier">wideAbove</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tallBeside"><span class="hs-identifier">tallBeside</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#besideTall"><span class="hs-identifier">besideTall</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayUnder"><span class="hs-identifier">fullOverlayUnder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayOver"><span class="hs-identifier">fullOverlayOver</span></a></span><span>
</span><span id="line-27"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Array</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html"><span class="hs-identifier">Graphics.Rendering.Chart.Renderable</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html"><span class="hs-identifier">Graphics.Rendering.Chart.Geometry</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#x0"><span class="hs-identifier">x0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#y0"><span class="hs-identifier">y0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Drawing.html"><span class="hs-identifier">Graphics.Rendering.Chart.Drawing</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">type</span><span> </span><span id="Span"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-var">Span</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">type</span><span> </span><span id="Size"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Size"><span class="hs-identifier hs-var">Size</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-comment">-- | When more space is available for an item than the total width of items,</span><span>
</span><span id="line-39"></span><span class="hs-comment">--   extra added space is proportional to 'space weight'.</span><span>
</span><span id="line-40"></span><span class="hs-keyword">type</span><span> </span><span id="SpaceWeight"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-var">SpaceWeight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">type</span><span> </span><span id="Cell"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Cell"><span class="hs-identifier hs-var">Cell</span></a></span></span><span> </span><span id="local-6989586621679373634"><span class="annot"><a href="#local-6989586621679373634"><span class="hs-identifier hs-type">a</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679373634"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-type">SpaceWeight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-comment">-- | Abstract datatype representing a grid.</span><span>
</span><span id="line-45"></span><span class="hs-keyword">data</span><span> </span><span id="Grid"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-var">Grid</span></a></span></span><span> </span><span id="local-6989586621679373804"><span class="annot"><a href="#local-6989586621679373804"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Value"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679373804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-type">SpaceWeight</span></a></span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- ^ A singleton grid item &quot;a&quot; spanning</span><span>
</span><span id="line-47"></span><span>                                       </span><span class="hs-comment">--   a given rectangle (measured in grid</span><span>
</span><span id="line-48"></span><span>                                       </span><span class="hs-comment">--   cells), with given space weight.</span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Above"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span>     </span><span class="hs-comment">-- ^ One grid above the other. &quot;Size&quot; is</span><span>
</span><span id="line-50"></span><span>                                       </span><span class="hs-comment">--   their cached total size (so it is</span><span>
</span><span id="line-51"></span><span>                                       </span><span class="hs-comment">--   NOT specified manually).</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Beside"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span>    </span><span class="hs-comment">-- ^ One grid horizontally beside</span><span>
</span><span id="line-53"></span><span>                                       </span><span class="hs-comment">--   the other.</span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Overlay"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span>   </span><span class="hs-comment">-- ^ Two grids positioned one over</span><span>
</span><span id="line-55"></span><span>                                       </span><span class="hs-comment">--   the other.</span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Empty"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span></span><span>                            </span><span class="hs-comment">-- ^ An empty 1x1 grid cell.</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Null"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span></span><span>                             </span><span class="hs-comment">-- ^ An empty 0x0 grid cell.</span><span>
</span><span id="line-58"></span><span>   </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373622"><span id="local-6989586621679373624"><span id="local-6989586621679373626"><span class="annot"><span class="annottext">Int -&gt; Grid a -&gt; ShowS
[Grid a] -&gt; ShowS
Grid a -&gt; String
(Int -&gt; Grid a -&gt; ShowS)
-&gt; (Grid a -&gt; String) -&gt; ([Grid a] -&gt; ShowS) -&gt; Show (Grid a)
forall a. Show a =&gt; Int -&gt; Grid a -&gt; ShowS
forall a. Show a =&gt; [Grid a] -&gt; ShowS
forall a. Show a =&gt; Grid a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Grid a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [Grid a] -&gt; ShowS
show :: Grid a -&gt; String
$cshow :: forall a. Show a =&gt; Grid a -&gt; String
showsPrec :: Int -&gt; Grid a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; Grid a -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span id="local-6989586621679373798"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-type">width</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373798"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-61"></span><span id="width"><span class="annot"><span class="annottext">width :: Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-62"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-63"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-64"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373620"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373620"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373620"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-65"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373619"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373619"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373619"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-66"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373618"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373618"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373618"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span id="local-6989586621679373617"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-type">height</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373617"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-69"></span><span id="height"><span class="annot"><span class="annottext">height :: Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var hs-var">height</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-70"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-71"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-72"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679373616"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373616"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373616"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-73"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679373615"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373615"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373615"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-74"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679373614"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373614"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373614"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | A 1x1 grid from a given value, with no extra space.</span><span>
</span><span id="line-77"></span><span id="local-6989586621679373613"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tval"><span class="hs-identifier hs-type">tval</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679373613"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373613"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-78"></span><span id="tval"><span class="annot"><span class="annottext">tval :: a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tval"><span class="hs-identifier hs-var hs-var">tval</span></a></span></span><span> </span><span id="local-6989586621679373612"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373612"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight) -&gt; Grid a
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373612"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-comment">-- | A WxH (measured in cells) grid from a given value, with space weight (1,1).</span><span>
</span><span id="line-81"></span><span id="local-6989586621679373794"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-type">tspan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679373794"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373794"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-82"></span><span id="tspan"><span class="annot"><span class="annottext">tspan :: a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var hs-var">tspan</span></a></span></span><span> </span><span id="local-6989586621679373611"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373611"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679373610"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373610"><span class="hs-identifier hs-var">spn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight) -&gt; Grid a
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373611"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373610"><span class="hs-identifier hs-var">spn</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-comment">-- | A 1x1 empty grid.</span><span>
</span><span id="line-85"></span><span id="local-6989586621679373609"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#empty"><span class="hs-identifier hs-type">empty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373609"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-86"></span><span id="empty"><span class="annot"><span class="annottext">empty :: Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#empty"><span class="hs-identifier hs-var hs-var">empty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- | A 0x0 empty grid.</span><span>
</span><span id="line-89"></span><span id="local-6989586621679373608"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier hs-type">nullt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373608"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-90"></span><span id="nullt"><span class="annot"><span class="annottext">nullt :: Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier hs-var hs-var">nullt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span id="local-6989586621679373793"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-type">above</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-type">beside</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373793"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373793"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373793"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-93"></span><span id="above"><span class="annot"><span class="annottext">above :: Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span id="local-6989586621679373607"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373607"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373607"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-94"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span id="local-6989586621679373606"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373606"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373606"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-95"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span id="local-6989586621679373605"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373605"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373604"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373604"><span class="hs-identifier hs-var">t2</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373605"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373604"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373603"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679373603"><span class="annot"><span class="annottext">size :: Span
</span><a href="#local-6989586621679373603"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373605"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373604"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373605"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373604"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-comment">-- | A value occupying 1 row with the same  horizontal span as the grid.</span><span>
</span><span id="line-99"></span><span id="local-6989586621679373600"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#wideAbove"><span class="hs-identifier hs-type">wideAbove</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679373600"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373600"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373600"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-100"></span><span id="wideAbove"><span class="annot"><span class="annottext">wideAbove :: a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#wideAbove"><span class="hs-identifier hs-var hs-var">wideAbove</span></a></span></span><span> </span><span id="local-6989586621679373599"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373599"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679373598"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373598"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373599"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373598"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-operator hs-var">`above`</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373598"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-comment">-- | A value placed below the grid, occupying 1 row with the same</span><span>
</span><span id="line-103"></span><span class="hs-comment">--   horizontal span as the grid.</span><span>
</span><span id="line-104"></span><span id="local-6989586621679373597"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#aboveWide"><span class="hs-identifier hs-type">aboveWide</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373597"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679373597"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373597"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-105"></span><span id="aboveWide"><span class="annot"><span class="annottext">aboveWide :: Grid a -&gt; a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#aboveWide"><span class="hs-identifier hs-var hs-var">aboveWide</span></a></span></span><span> </span><span id="local-6989586621679373596"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373596"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679373595"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373595"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373596"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-operator hs-var">`above`</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373595"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373596"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- | A value placed to the left of the grid, occupying 1 column with</span><span>
</span><span id="line-108"></span><span class="hs-comment">--   the same vertical span as the grid.</span><span>
</span><span id="line-109"></span><span id="local-6989586621679373594"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tallBeside"><span class="hs-identifier hs-type">tallBeside</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679373594"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373594"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373594"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-110"></span><span id="tallBeside"><span class="annot"><span class="annottext">tallBeside :: a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tallBeside"><span class="hs-identifier hs-var hs-var">tallBeside</span></a></span></span><span>  </span><span id="local-6989586621679373593"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373593"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679373592"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373592"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373593"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373592"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-operator hs-var">`beside`</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373592"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">-- | A value placed to the right of the grid, occupying 1 column with</span><span>
</span><span id="line-113"></span><span class="hs-comment">--   the same vertical span as the grid.</span><span>
</span><span id="line-114"></span><span id="local-6989586621679373591"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#besideTall"><span class="hs-identifier hs-type">besideTall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373591"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679373591"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373591"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-115"></span><span id="besideTall"><span class="annot"><span class="annottext">besideTall :: Grid a -&gt; a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#besideTall"><span class="hs-identifier hs-var hs-var">besideTall</span></a></span></span><span> </span><span id="local-6989586621679373590"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373590"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679373589"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373589"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373590"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-operator hs-var">`beside`</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373589"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373590"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-comment">-- | A value placed under a grid, with the same span as the grid.</span><span>
</span><span id="line-118"></span><span id="local-6989586621679373588"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayUnder"><span class="hs-identifier hs-type">fullOverlayUnder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679373588"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373588"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373588"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-119"></span><span id="fullOverlayUnder"><span class="annot"><span class="annottext">fullOverlayUnder :: a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayUnder"><span class="hs-identifier hs-var hs-var">fullOverlayUnder</span></a></span></span><span> </span><span id="local-6989586621679373587"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373587"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679373586"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373586"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373586"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-operator hs-var">`overlay`</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373587"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373586"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373586"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-comment">-- | A value placed over a grid, with the same span as the grid.</span><span>
</span><span id="line-122"></span><span id="local-6989586621679373585"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayOver"><span class="hs-identifier hs-type">fullOverlayOver</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679373585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373585"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-123"></span><span id="fullOverlayOver"><span class="annot"><span class="annottext">fullOverlayOver :: a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayOver"><span class="hs-identifier hs-var hs-var">fullOverlayOver</span></a></span></span><span>  </span><span id="local-6989586621679373584"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373584"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679373583"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373583"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373584"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373583"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373583"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-operator hs-var">`overlay`</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373583"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span id="beside"><span class="annot"><span class="annottext">beside :: Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var hs-var">beside</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span id="local-6989586621679373582"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373582"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373582"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var">beside</span></a></span><span> </span><span id="local-6989586621679373581"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373581"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373581"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-127"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var">beside</span></a></span><span> </span><span id="local-6989586621679373580"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373580"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373579"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373579"><span class="hs-identifier hs-var">t2</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373580"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373579"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373578"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679373578"><span class="annot"><span class="annottext">size :: Span
</span><a href="#local-6989586621679373578"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373580"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373579"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373580"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373579"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span id="local-6989586621679373577"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#aboveN"><span class="hs-identifier hs-type">aboveN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#besideN"><span class="hs-identifier hs-type">besideN</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373577"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373577"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-131"></span><span id="aboveN"><span class="annot"><span class="annottext">aboveN :: [Grid a] -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#aboveN"><span class="hs-identifier hs-var hs-var">aboveN</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Grid a -&gt; Grid a -&gt; Grid a) -&gt; Grid a -&gt; [Grid a] -&gt; Grid a
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier hs-var">nullt</span></a></span><span>
</span><span id="line-132"></span><span id="besideN"><span class="annot"><span class="annottext">besideN :: [Grid a] -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#besideN"><span class="hs-identifier hs-var hs-var">besideN</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Grid a -&gt; Grid a -&gt; Grid a) -&gt; Grid a -&gt; [Grid a] -&gt; Grid a
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var">beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier hs-var">nullt</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-comment">-- | One grid over the other. The first argument is shallow, the second is deep.</span><span>
</span><span id="line-135"></span><span id="local-6989586621679373575"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier hs-type">overlay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373575"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373575"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373575"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-136"></span><span id="overlay"><span class="annot"><span class="annottext">overlay :: Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier hs-var hs-var">overlay</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span id="local-6989586621679373574"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373574"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373574"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-137"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier hs-var">overlay</span></a></span><span> </span><span id="local-6989586621679373573"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373573"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373573"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-138"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier hs-var">overlay</span></a></span><span> </span><span id="local-6989586621679373572"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373572"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373571"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373571"><span class="hs-identifier hs-var">t2</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373572"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373571"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373570"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679373570"><span class="annot"><span class="annottext">size :: Span
</span><a href="#local-6989586621679373570"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373572"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373571"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373572"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373571"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- | A synonym for 'beside'.</span><span>
</span><span id="line-142"></span><span id="local-6989586621679373569"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#.%7C."><span class="hs-operator hs-type">(.|.)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373569"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373569"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373569"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-143"></span><span id=".%7C."><span class="annot"><span class="annottext">.|. :: Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#.%7C."><span class="hs-operator hs-var hs-var">(.|.)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var">beside</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-comment">-- | A synonym for 'above'.</span><span>
</span><span id="line-146"></span><span id="local-6989586621679373568"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#.%2F."><span class="hs-operator hs-type">(./.)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373568"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-147"></span><span id=".%2F."><span class="annot"><span class="annottext">./. :: Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#.%2F."><span class="hs-operator hs-var hs-var">(./.)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var">above</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- | Sets the space weight of *every* cell of the grid to given value.</span><span>
</span><span id="line-150"></span><span id="local-6989586621679373795"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-type">weights</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-type">SpaceWeight</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373795"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373795"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-151"></span><span id="weights"><span class="annot"><span class="annottext">weights :: SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var hs-var">weights</span></a></span></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-152"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span id="local-6989586621679373567"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373567"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373566"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373566"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373565"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373565"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight) -&gt; Grid a
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373566"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373565"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373567"><span class="hs-identifier hs-var">sw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span id="local-6989586621679373564"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373564"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679373563"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373563"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373562"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373562"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373561"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373561"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373564"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373563"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373564"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373562"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373561"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-155"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span id="local-6989586621679373560"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373560"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679373559"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373559"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373558"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373558"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373557"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373557"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373560"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373559"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373560"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373558"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373557"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span id="local-6989586621679373556"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373556"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679373555"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373555"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373554"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373554"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373553"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373553"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373556"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373555"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373556"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373554"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373553"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">-- fix me, need to make .|. and .||. higher precedence</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- than ./. and .//.</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679373550"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-162"></span><span>    </span><span id="local-6989586621679373548"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; Grid a -&gt; Grid b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679373547"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373547"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373546"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373546"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373545"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373545"><span class="hs-identifier hs-var">spn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373544"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373544"><span class="hs-identifier hs-var">ew</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b, Span, SpaceWeight) -&gt; Grid b
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373547"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373546"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373545"><span class="hs-identifier hs-var">spn</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373544"><span class="hs-identifier hs-var">ew</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span id="local-6989586621679373543"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373543"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679373542"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373542"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373541"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373541"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373540"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373540"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373543"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373542"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373543"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373541"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373540"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span id="local-6989586621679373539"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373539"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679373538"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373538"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373537"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373537"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373536"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373536"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373539"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373538"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373539"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373537"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373536"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span id="local-6989586621679373535"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373535"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679373534"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373534"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373533"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373533"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373532"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373532"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373535"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373534"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679373535"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373533"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373532"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span id="local-6989586621679373761"><span id="local-6989586621679373762"><span id="local-6989586621679373763"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-type">mapGridM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679373763"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679373762"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679373763"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373761"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373762"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679373763"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373761"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-170"></span><span id="mapGridM"><span class="annot"><span class="annottext">mapGridM :: (a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var hs-var">mapGridM</span></a></span></span><span> </span><span id="local-6989586621679373530"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373530"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373529"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373529"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373528"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373528"><span class="hs-identifier hs-var">spn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373527"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373527"><span class="hs-identifier hs-var">ew</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679373526"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373526"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373530"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373529"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-171"></span><span>                                   </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b, Span, SpaceWeight) -&gt; Grid b
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373526"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373528"><span class="hs-identifier hs-var">spn</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679373527"><span class="hs-identifier hs-var">ew</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span id="local-6989586621679373525"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373525"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679373524"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373524"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373523"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373523"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373522"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373522"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679373521"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373521"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373525"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373524"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-173"></span><span>                                   </span><span id="local-6989586621679373520"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373520"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373525"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373523"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-174"></span><span>                                   </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373521"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373520"><span class="hs-identifier hs-var">t2'</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373522"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span id="local-6989586621679373519"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373519"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679373518"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373518"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373517"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373517"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373516"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373516"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679373515"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373515"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373519"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373518"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-176"></span><span>                                   </span><span id="local-6989586621679373514"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373514"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373519"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373517"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-177"></span><span>                                   </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373515"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373514"><span class="hs-identifier hs-var">t2'</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373516"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span id="local-6989586621679373513"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373513"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679373512"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373512"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373511"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373511"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679373510"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373510"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679373509"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373509"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373513"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373512"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-179"></span><span>                                   </span><span id="local-6989586621679373508"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373508"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679373513"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373511"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-180"></span><span>                                   </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373509"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679373508"><span class="hs-identifier hs-var">t2'</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373510"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Grid b
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-182"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Grid b
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-comment">----------------------------------------------------------------------</span><span>
</span><span id="line-185"></span><span class="hs-keyword">type</span><span> </span><span id="FlatGrid"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatGrid"><span class="hs-identifier hs-var">FlatGrid</span></a></span></span><span> </span><span id="local-6989586621679373507"><span class="annot"><a href="#local-6989586621679373507"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Array</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679373507"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-type">SpaceWeight</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span id="local-6989586621679373728"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten"><span class="hs-identifier hs-type">flatten</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373728"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatGrid"><span class="hs-identifier hs-type">FlatGrid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373728"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-188"></span><span id="flatten"><span class="annot"><span class="annottext">flatten :: Grid a -&gt; FlatGrid a
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten"><span class="hs-identifier hs-var hs-var">flatten</span></a></span></span><span> </span><span id="local-6989586621679373505"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373505"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Cell a] -&gt; Cell a -&gt; [Cell a])
-&gt; [Cell a] -&gt; (Span, Span) -&gt; [(Span, Cell a)] -&gt; FlatGrid a
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Cell a -&gt; [Cell a] -&gt; [Cell a]) -&gt; [Cell a] -&gt; Cell a -&gt; [Cell a]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373505"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373505"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [(Span, Cell a)] -&gt; [(Span, Cell a)]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373505"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">type</span><span> </span><span id="FlatEl"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatEl"><span class="hs-identifier hs-var">FlatEl</span></a></span></span><span> </span><span id="local-6989586621679373501"><span class="annot"><a href="#local-6989586621679373501"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Cell"><span class="hs-identifier hs-type">Cell</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373501"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span id="local-6989586621679373749"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-type">flatten2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373749"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatEl"><span class="hs-identifier hs-type">FlatEl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373749"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatEl"><span class="hs-identifier hs-type">FlatEl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373749"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-194"></span><span id="flatten2"><span class="annot"><span class="annottext">flatten2 :: Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var hs-var">flatten2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>        </span><span id="local-6989586621679373500"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373500"><span class="hs-identifier hs-var">els</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373500"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-195"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>         </span><span id="local-6989586621679373499"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373499"><span class="hs-identifier hs-var">els</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373499"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span id="local-6989586621679373498"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373498"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span id="local-6989586621679373497"><span class="annot"><span class="annottext">(a, Span, SpaceWeight)
</span><a href="#local-6989586621679373497"><span class="hs-identifier hs-var">cell</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679373496"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373496"><span class="hs-identifier hs-var">els</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373498"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">(a, Span, SpaceWeight)
</span><a href="#local-6989586621679373497"><span class="hs-identifier hs-var">cell</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">FlatEl a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373496"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span id="local-6989586621679373495"><span class="annot"><span class="annottext">i :: Span
</span><a href="#local-6989586621679373495"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679373494"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373494"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373493"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373493"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679373492"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373492"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373491"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373491"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679373490"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373490"><span class="hs-identifier hs-var">els</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373489"><span class="hs-identifier hs-var">f1</span></a></span><span class="annot"><span class="annottext">([FlatEl a] -&gt; [FlatEl a])
-&gt; ([FlatEl a] -&gt; [FlatEl a]) -&gt; [FlatEl a] -&gt; [FlatEl a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373487"><span class="hs-identifier hs-var">f2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373490"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621679373489"><span class="annot"><span class="annottext">f1 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373489"><span class="hs-identifier hs-var hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373495"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373492"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span id="local-6989586621679373487"><span class="annot"><span class="annottext">f2 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373487"><span class="hs-identifier hs-var hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373494"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373493"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373492"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373491"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span id="local-6989586621679373486"><span class="annot"><span class="annottext">i :: Span
</span><a href="#local-6989586621679373486"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679373485"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373485"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373484"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373484"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679373483"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373483"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373482"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373482"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679373481"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373481"><span class="hs-identifier hs-var">els</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373480"><span class="hs-identifier hs-var">f1</span></a></span><span class="annot"><span class="annottext">([FlatEl a] -&gt; [FlatEl a])
-&gt; ([FlatEl a] -&gt; [FlatEl a]) -&gt; [FlatEl a] -&gt; [FlatEl a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373479"><span class="hs-identifier hs-var">f2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373481"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621679373480"><span class="annot"><span class="annottext">f1 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373480"><span class="hs-identifier hs-var hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373486"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373483"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621679373479"><span class="annot"><span class="annottext">f2 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373479"><span class="hs-identifier hs-var hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373485"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373483"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373484"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373482"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span id="local-6989586621679373478"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373478"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679373477"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373477"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373476"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373476"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679373475"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373475"><span class="hs-identifier hs-var">els</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373474"><span class="hs-identifier hs-var">f1</span></a></span><span class="annot"><span class="annottext">([FlatEl a] -&gt; [FlatEl a])
-&gt; ([FlatEl a] -&gt; [FlatEl a]) -&gt; [FlatEl a] -&gt; [FlatEl a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373473"><span class="hs-identifier hs-var">f2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679373475"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>    </span><span id="local-6989586621679373474"><span class="annot"><span class="annottext">f1 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373474"><span class="hs-identifier hs-var hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373478"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373477"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621679373473"><span class="annot"><span class="annottext">f2 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679373473"><span class="hs-identifier hs-var hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373478"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679373476"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span id="local-6989586621679373726"><span id="local-6989586621679373727"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-type">foldT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Cell"><span class="hs-identifier hs-type">Cell</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679373726"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679373726"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679373726"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatGrid"><span class="hs-identifier hs-type">FlatGrid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679373726"><span class="hs-identifier hs-type">r</span></a></span></span></span><span>
</span><span id="line-214"></span><span id="foldT"><span class="annot"><span class="annottext">foldT :: (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var hs-var">foldT</span></a></span></span><span> </span><span id="local-6989586621679373471"><span class="annot"><span class="annottext">Span -&gt; Cell a -&gt; r -&gt; r
</span><a href="#local-6989586621679373471"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679373470"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679373470"><span class="hs-identifier hs-var">iv</span></a></span></span><span> </span><span id="local-6989586621679373469"><span class="annot"><span class="annottext">FlatGrid a
</span><a href="#local-6989586621679373469"><span class="hs-identifier hs-var">ft</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Span, [Cell a]) -&gt; r -&gt; r) -&gt; r -&gt; [(Span, [Cell a])] -&gt; r
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">(Span, [Cell a]) -&gt; r -&gt; r
forall (t :: * -&gt; *). Foldable t =&gt; (Span, t (Cell a)) -&gt; r -&gt; r
</span><a href="#local-6989586621679373467"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679373470"><span class="hs-identifier hs-var">iv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FlatGrid a -&gt; [(Span, [Cell a])]
forall i e. Ix i =&gt; Array i e -&gt; [(i, e)]
</span><span class="hs-identifier hs-var">assocs</span></span><span> </span><span class="annot"><span class="annottext">FlatGrid a
</span><a href="#local-6989586621679373469"><span class="hs-identifier hs-var">ft</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-216"></span><span>    </span><span id="local-6989586621679373467"><span class="annot"><span class="annottext">f' :: (Span, t (Cell a)) -&gt; r -&gt; r
</span><a href="#local-6989586621679373467"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373465"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373465"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373464"><span class="annot"><span class="annottext">t (Cell a)
</span><a href="#local-6989586621679373464"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679373463"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679373463"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Cell a -&gt; r -&gt; r) -&gt; r -&gt; t (Cell a) -&gt; r
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Cell a -&gt; r -&gt; r
</span><a href="#local-6989586621679373471"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373465"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679373463"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">t (Cell a)
</span><a href="#local-6989586621679373464"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">----------------------------------------------------------------------</span><span>
</span><span id="line-219"></span><span class="hs-keyword">type</span><span> </span><span id="DArray"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-var">DArray</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Array</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span id="local-6989586621679373688"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#getSizes"><span class="hs-identifier hs-type">getSizes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#Renderable"><span class="hs-identifier hs-type">Renderable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373688"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-222"></span><span id="getSizes"><span class="annot"><span class="annottext">getSizes :: Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
</span><a href="Graphics.Rendering.Chart.Grid.html#getSizes"><span class="hs-identifier hs-var hs-var">getSizes</span></a></span></span><span> </span><span id="local-6989586621679373461"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373461"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621679373460"><span class="annot"><span class="annottext">Grid SpaceWeight
</span><a href="#local-6989586621679373460"><span class="hs-identifier hs-var">szs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Renderable a -&gt; ProgramT ChartBackendInstr Identity SpaceWeight)
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Grid SpaceWeight)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">Renderable a -&gt; ProgramT ChartBackendInstr Identity SpaceWeight
forall a.
Renderable a -&gt; ProgramT ChartBackendInstr Identity SpaceWeight
</span><a href="Graphics.Rendering.Chart.Renderable.html#minsize"><span class="hs-identifier hs-var hs-var">minsize</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373461"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#RectSize"><span class="hs-identifier hs-type">RectSize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373457"><span class="annot"><span class="annottext">szs' :: FlatGrid SpaceWeight
</span><a href="#local-6989586621679373457"><span class="hs-identifier hs-var hs-var">szs'</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid SpaceWeight -&gt; FlatGrid SpaceWeight
forall a. Grid a -&gt; FlatGrid a
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten"><span class="hs-identifier hs-var">flatten</span></a></span><span> </span><span class="annot"><span class="annottext">Grid SpaceWeight
</span><a href="#local-6989586621679373460"><span class="hs-identifier hs-var">szs</span></a></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373456"><span class="annot"><span class="annottext">widths :: DArray
</span><a href="#local-6989586621679373456"><span class="hs-identifier hs-var hs-var">widths</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Double -&gt; Span -&gt; [(Int, Double)] -&gt; DArray
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span>  </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373461"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; Cell SpaceWeight -&gt; [(Int, Double)] -&gt; [(Int, Double)])
-&gt; [(Int, Double)] -&gt; FlatGrid SpaceWeight -&gt; [(Int, Double)]
forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var">foldT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double))
-&gt; (Span -&gt; Int)
-&gt; Span
-&gt; Cell SpaceWeight
-&gt; [(Int, Double)]
-&gt; [(Int, Double)]
forall a t t t a t.
(Eq a, Num a) =&gt;
(t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679373455"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double)
forall a b b b p. (a, b) -&gt; (b, b) -&gt; p -&gt; (a, b)
</span><a href="#local-6989586621679373454"><span class="hs-identifier hs-var">wf</span></a></span><span>  </span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">FlatGrid SpaceWeight
</span><a href="#local-6989586621679373457"><span class="hs-identifier hs-var">szs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373453"><span class="annot"><span class="annottext">heights :: DArray
</span><a href="#local-6989586621679373453"><span class="hs-identifier hs-var hs-var">heights</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Double -&gt; Span -&gt; [(Int, Double)] -&gt; DArray
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373461"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; Cell SpaceWeight -&gt; [(Int, Double)] -&gt; [(Int, Double)])
-&gt; [(Int, Double)] -&gt; FlatGrid SpaceWeight -&gt; [(Int, Double)]
forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var">foldT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double))
-&gt; (Span -&gt; Int)
-&gt; Span
-&gt; Cell SpaceWeight
-&gt; [(Int, Double)]
-&gt; [(Int, Double)]
forall a t t t a t.
(Eq a, Num a) =&gt;
(t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679373455"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double)
forall a a a b p. (a, a) -&gt; (a, b) -&gt; p -&gt; (a, b)
</span><a href="#local-6989586621679373452"><span class="hs-identifier hs-var">hf</span></a></span><span>  </span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">FlatGrid SpaceWeight
</span><a href="#local-6989586621679373457"><span class="hs-identifier hs-var">szs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373451"><span class="annot"><span class="annottext">xweights :: DArray
</span><a href="#local-6989586621679373451"><span class="hs-identifier hs-var hs-var">xweights</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Double -&gt; Span -&gt; [(Int, Double)] -&gt; DArray
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span>  </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373461"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; Cell SpaceWeight -&gt; [(Int, Double)] -&gt; [(Int, Double)])
-&gt; [(Int, Double)] -&gt; FlatGrid SpaceWeight -&gt; [(Int, Double)]
forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var">foldT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double))
-&gt; (Span -&gt; Int)
-&gt; Span
-&gt; Cell SpaceWeight
-&gt; [(Int, Double)]
-&gt; [(Int, Double)]
forall a t t t a t.
(Eq a, Num a) =&gt;
(t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679373455"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double)
forall a b p b b. (a, b) -&gt; p -&gt; (b, b) -&gt; (a, b)
</span><a href="#local-6989586621679373450"><span class="hs-identifier hs-var">xwf</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">FlatGrid SpaceWeight
</span><a href="#local-6989586621679373457"><span class="hs-identifier hs-var">szs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373449"><span class="annot"><span class="annottext">yweights :: DArray
</span><a href="#local-6989586621679373449"><span class="hs-identifier hs-var hs-var">yweights</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Double -&gt; Span -&gt; [(Int, Double)] -&gt; DArray
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373461"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; Cell SpaceWeight -&gt; [(Int, Double)] -&gt; [(Int, Double)])
-&gt; [(Int, Double)] -&gt; FlatGrid SpaceWeight -&gt; [(Int, Double)]
forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var">foldT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double))
-&gt; (Span -&gt; Int)
-&gt; Span
-&gt; Cell SpaceWeight
-&gt; [(Int, Double)]
-&gt; [(Int, Double)]
forall a t t t a t.
(Eq a, Num a) =&gt;
(t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679373455"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double)
forall a a p a b. (a, a) -&gt; p -&gt; (a, b) -&gt; (a, b)
</span><a href="#local-6989586621679373448"><span class="hs-identifier hs-var">ywf</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">FlatGrid SpaceWeight
</span><a href="#local-6989586621679373457"><span class="hs-identifier hs-var">szs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><span class="annottext">(DArray, DArray, DArray, DArray)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373456"><span class="hs-identifier hs-var">widths</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373453"><span class="hs-identifier hs-var">heights</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373451"><span class="hs-identifier hs-var">xweights</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373449"><span class="hs-identifier hs-var">yweights</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>      </span><span id="local-6989586621679373454"><span class="annot"><span class="annottext">wf :: (a, b) -&gt; (b, b) -&gt; p -&gt; (a, b)
</span><a href="#local-6989586621679373454"><span class="hs-identifier hs-var hs-var">wf</span></a></span></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679373447"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373447"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373446"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373446"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373447"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373446"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>      </span><span id="local-6989586621679373452"><span class="annot"><span class="annottext">hf :: (a, a) -&gt; (a, b) -&gt; p -&gt; (a, b)
</span><a href="#local-6989586621679373452"><span class="hs-identifier hs-var hs-var">hf</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679373445"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373445"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679373444"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373444"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373445"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373444"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>      </span><span id="local-6989586621679373450"><span class="annot"><span class="annottext">xwf :: (a, b) -&gt; p -&gt; (b, b) -&gt; (a, b)
</span><a href="#local-6989586621679373450"><span class="hs-identifier hs-var hs-var">xwf</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373443"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373443"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-special">(</span><span id="local-6989586621679373442"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373442"><span class="hs-identifier hs-var">xw</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373443"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373442"><span class="hs-identifier hs-var">xw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>      </span><span id="local-6989586621679373448"><span class="annot"><span class="annottext">ywf :: (a, a) -&gt; p -&gt; (a, b) -&gt; (a, b)
</span><a href="#local-6989586621679373448"><span class="hs-identifier hs-var hs-var">ywf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679373441"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373441"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679373440"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373440"><span class="hs-identifier hs-var">yw</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679373441"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679373440"><span class="hs-identifier hs-var">yw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>      </span><span id="local-6989586621679373455"><span class="annot"><span class="annottext">ef :: (t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679373455"><span class="hs-identifier hs-var hs-var">ef</span></a></span></span><span> </span><span id="local-6989586621679373439"><span class="annot"><span class="annottext">t -&gt; t -&gt; t -&gt; a
</span><a href="#local-6989586621679373439"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679373438"><span class="annot"><span class="annottext">t -&gt; a
</span><a href="#local-6989586621679373438"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621679373437"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679373437"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373436"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679373436"><span class="hs-identifier hs-var">size</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373435"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679373435"><span class="hs-identifier hs-var">spn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373434"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679373434"><span class="hs-identifier hs-var">ew</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679373433"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679373433"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">t -&gt; a
</span><a href="#local-6989586621679373438"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679373435"><span class="hs-identifier hs-var">spn</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t -&gt; a
</span><a href="#local-6989586621679373439"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679373437"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679373436"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679373434"><span class="hs-identifier hs-var">ew</span></a></span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679373433"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-241"></span><span>                                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679373433"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span id="local-6989586621679373432"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#ToRenderable"><span class="hs-identifier hs-type">ToRenderable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373432"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#ToRenderable"><span class="hs-identifier hs-type">ToRenderable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373432"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>  </span><span id="local-6989586621679373429"><span class="annot"><span class="annottext">toRenderable :: Grid a -&gt; Renderable ()
</span><a href="Graphics.Rendering.Chart.Renderable.html#toRenderable"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRenderable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable ()) -&gt; Renderable ()
forall a. Grid (Renderable a) -&gt; Renderable a
</span><a href="Graphics.Rendering.Chart.Grid.html#gridToRenderable"><span class="hs-identifier hs-var">gridToRenderable</span></a></span><span> </span><span class="annot"><span class="annottext">(Grid (Renderable ()) -&gt; Renderable ())
-&gt; (Grid a -&gt; Grid (Renderable ())) -&gt; Grid a -&gt; Renderable ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Renderable ()) -&gt; Grid a -&gt; Grid (Renderable ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Renderable ()
forall a. ToRenderable a =&gt; a -&gt; Renderable ()
</span><a href="Graphics.Rendering.Chart.Renderable.html#toRenderable"><span class="hs-identifier hs-var">toRenderable</span></a></span></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span id="local-6989586621679373691"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#gridToRenderable"><span class="hs-identifier hs-type">gridToRenderable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#Renderable"><span class="hs-identifier hs-type">Renderable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373691"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#Renderable"><span class="hs-identifier hs-type">Renderable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679373691"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-247"></span><span id="gridToRenderable"><span class="annot"><span class="annottext">gridToRenderable :: Grid (Renderable a) -&gt; Renderable a
</span><a href="Graphics.Rendering.Chart.Grid.html#gridToRenderable"><span class="hs-identifier hs-var hs-var">gridToRenderable</span></a></span></span><span> </span><span id="local-6989586621679373427"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373427"><span class="hs-identifier hs-var">gt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ProgramT ChartBackendInstr Identity SpaceWeight
-&gt; (SpaceWeight -&gt; BackendProgram (PickFn a)) -&gt; Renderable a
forall a.
ProgramT ChartBackendInstr Identity SpaceWeight
-&gt; (SpaceWeight -&gt; BackendProgram (PickFn a)) -&gt; Renderable a
</span><a href="Graphics.Rendering.Chart.Renderable.html#Renderable"><span class="hs-identifier hs-var">Renderable</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramT ChartBackendInstr Identity SpaceWeight
</span><a href="#local-6989586621679373425"><span class="hs-identifier hs-var">minsizef</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; BackendProgram (PickFn a)
</span><a href="#local-6989586621679373424"><span class="hs-identifier hs-var">renderf</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="#local-6989586621679373425"><span class="hs-identifier hs-type">minsizef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#RectSize"><span class="hs-identifier hs-type">RectSize</span></a></span><span>
</span><span id="line-250"></span><span>    </span><span id="local-6989586621679373425"><span class="annot"><span class="annottext">minsizef :: ProgramT ChartBackendInstr Identity SpaceWeight
</span><a href="#local-6989586621679373425"><span class="hs-identifier hs-var hs-var">minsizef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-251"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679373423"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373423"><span class="hs-identifier hs-var">widths</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679373422"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373422"><span class="hs-identifier hs-var">heights</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DArray
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DArray
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
forall a.
Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
</span><a href="Graphics.Rendering.Chart.Grid.html#getSizes"><span class="hs-identifier hs-var">getSizes</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373427"><span class="hs-identifier hs-var">gt</span></a></span><span>
</span><span id="line-252"></span><span>        </span><span class="annot"><span class="annottext">SpaceWeight -&gt; ProgramT ChartBackendInstr Identity SpaceWeight
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Double] -&gt; Double
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373423"><span class="hs-identifier hs-var">widths</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Double] -&gt; Double
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373422"><span class="hs-identifier hs-var">heights</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679373424"><span class="annot"><span class="annottext">renderf :: SpaceWeight -&gt; BackendProgram (PickFn a)
</span><a href="#local-6989586621679373424"><span class="hs-identifier hs-var hs-var">renderf</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373419"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373419"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373418"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373418"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-255"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679373417"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373417"><span class="hs-identifier hs-var">widths</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679373416"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373416"><span class="hs-identifier hs-var">heights</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679373415"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373415"><span class="hs-identifier hs-var">xweights</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679373414"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373414"><span class="hs-identifier hs-var">yweights</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
forall a.
Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
</span><a href="Graphics.Rendering.Chart.Grid.html#getSizes"><span class="hs-identifier hs-var">getSizes</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373427"><span class="hs-identifier hs-var">gt</span></a></span><span>
</span><span id="line-256"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373413"><span class="annot"><span class="annottext">widths' :: DArray
</span><a href="#local-6989586621679373413"><span class="hs-identifier hs-var hs-var">widths'</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; DArray -&gt; DArray -&gt; DArray
</span><a href="#local-6989586621679373412"><span class="hs-identifier hs-var">addExtraSpace</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373419"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373417"><span class="hs-identifier hs-var">widths</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373415"><span class="hs-identifier hs-var">xweights</span></a></span><span>
</span><span id="line-257"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373411"><span class="annot"><span class="annottext">heights' :: DArray
</span><a href="#local-6989586621679373411"><span class="hs-identifier hs-var hs-var">heights'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; DArray -&gt; DArray -&gt; DArray
</span><a href="#local-6989586621679373412"><span class="hs-identifier hs-var">addExtraSpace</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373418"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373416"><span class="hs-identifier hs-var">heights</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373414"><span class="hs-identifier hs-var">yweights</span></a></span><span>
</span><span id="line-258"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373410"><span class="annot"><span class="annottext">borders :: (DArray, DArray)
</span><a href="#local-6989586621679373410"><span class="hs-identifier hs-var hs-var">borders</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; DArray
</span><a href="#local-6989586621679373409"><span class="hs-identifier hs-var">ctotal</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373413"><span class="hs-identifier hs-var">widths'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DArray -&gt; DArray
</span><a href="#local-6989586621679373409"><span class="hs-identifier hs-var">ctotal</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373411"><span class="hs-identifier hs-var">heights'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>        </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span -&gt; Grid (Renderable a) -&gt; BackendProgram (PickFn a)
forall a.
(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
</span><a href="#local-6989586621679373408"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373410"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373427"><span class="hs-identifier hs-var">gt</span></a></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-comment">-- (x borders, y borders) -&gt; (x,y) -&gt; grid -&gt; drawing</span><span>
</span><span id="line-262"></span><span>    </span><span id="local-6989586621679373408"><span class="annot"><span class="annottext">rf1 :: (DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
</span><a href="#local-6989586621679373408"><span class="hs-identifier hs-var hs-var">rf1</span></a></span></span><span> </span><span id="local-6989586621679373407"><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span></span><span> </span><span id="local-6989586621679373406"><span class="annot"><span class="annottext">loc :: Span
</span><a href="#local-6989586621679373406"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679373405"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373405"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373404"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373404"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679373403"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373403"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373403"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-263"></span><span>        </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PickFn a -&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">PickFn a
forall a. PickFn a
</span><a href="Graphics.Rendering.Chart.Renderable.html#nullPickFn"><span class="hs-identifier hs-var">nullPickFn</span></a></span><span>
</span><span id="line-264"></span><span>        </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PickFn a -&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">PickFn a
forall a. PickFn a
</span><a href="Graphics.Rendering.Chart.Renderable.html#nullPickFn"><span class="hs-identifier hs-var">nullPickFn</span></a></span><span>
</span><span id="line-265"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373401"><span class="annot"><span class="annottext">Renderable a
</span><a href="#local-6989586621679373401"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373400"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373400"><span class="hs-identifier hs-var">spn</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-266"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span id="local-6989586621679373398"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373398"><span class="hs-identifier hs-var">p0</span></a></span></span><span> </span><span id="local-6989586621679373397"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373397"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray) -&gt; Span -&gt; Span -&gt; Rect
</span><a href="#local-6989586621679373396"><span class="hs-identifier hs-var">mkRect</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373406"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679373400"><span class="hs-identifier hs-var">spn</span></a></span><span>
</span><span id="line-267"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679373394"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373394"><span class="hs-identifier hs-var">x0</span></a></span></span><span> </span><span id="local-6989586621679373393"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373393"><span class="hs-identifier hs-var">y0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Point -&gt; BackendProgram Point
</span><a href="Graphics.Rendering.Chart.Drawing.html#alignFillPoint"><span class="hs-identifier hs-var">alignFillPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373398"><span class="hs-identifier hs-var">p0</span></a></span><span>
</span><span id="line-268"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679373391"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373391"><span class="hs-identifier hs-var">x1</span></a></span></span><span> </span><span id="local-6989586621679373390"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373390"><span class="hs-identifier hs-var">y1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Point -&gt; BackendProgram Point
</span><a href="Graphics.Rendering.Chart.Drawing.html#alignFillPoint"><span class="hs-identifier hs-var">alignFillPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373397"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-269"></span><span>            </span><span class="annot"><span class="annottext">Point
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall a. Point -&gt; BackendProgram a -&gt; BackendProgram a
</span><a href="Graphics.Rendering.Chart.Drawing.html#withTranslation"><span class="hs-identifier hs-var">withTranslation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Point
</span><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-var">Point</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373394"><span class="hs-identifier hs-var">x0</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373393"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ProgramT ChartBackendInstr Identity (PickFn a)
 -&gt; ProgramT ChartBackendInstr Identity (PickFn a))
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-270"></span><span>              </span><span id="local-6989586621679373388"><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373388"><span class="hs-identifier hs-var">pf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Renderable a
-&gt; SpaceWeight -&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall a. Renderable a -&gt; SpaceWeight -&gt; BackendProgram (PickFn a)
</span><a href="Graphics.Rendering.Chart.Renderable.html#render"><span class="hs-identifier hs-var hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">Renderable a
</span><a href="#local-6989586621679373401"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373391"><span class="hs-identifier hs-var">x1</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373394"><span class="hs-identifier hs-var">x0</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373390"><span class="hs-identifier hs-var">y1</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373393"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>              </span><span class="annot"><span class="annottext">PickFn a -&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PickFn a -&gt; Double -&gt; Double -&gt; PickFn a
forall t. (Point -&gt; t) -&gt; Double -&gt; Double -&gt; Point -&gt; t
</span><a href="#local-6989586621679373386"><span class="hs-identifier hs-var">newpf</span></a></span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373388"><span class="hs-identifier hs-var">pf</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373394"><span class="hs-identifier hs-var">x0</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373393"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679373385"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373385"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373384"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373384"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-273"></span><span>             </span><span id="local-6989586621679373383"><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373383"><span class="hs-identifier hs-var">pf1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
</span><a href="#local-6989586621679373408"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373405"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373404"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373385"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-274"></span><span>             </span><span id="local-6989586621679373382"><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373382"><span class="hs-identifier hs-var">pf2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
</span><a href="#local-6989586621679373408"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373405"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373404"><span class="hs-identifier hs-var">j</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373385"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373384"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-275"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373381"><span class="annot"><span class="annottext">pf :: PickFn a
</span><a href="#local-6989586621679373381"><span class="hs-identifier hs-var hs-var">pf</span></a></span></span><span> </span><span id="local-6989586621679373380"><span class="annot"><span class="annottext">p :: Point
</span><a href="#local-6989586621679373380"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679373379"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373379"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373379"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DArray, DArray) -&gt; DArray
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-glyph hs-var">!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373404"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373385"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>                                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373383"><span class="hs-identifier hs-var">pf1</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373380"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373382"><span class="hs-identifier hs-var">pf2</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373380"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-277"></span><span>             </span><span class="annot"><span class="annottext">PickFn a -&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373381"><span class="hs-identifier hs-var">pf</span></a></span><span>
</span><span id="line-278"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679373376"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373376"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373375"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373375"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-279"></span><span>             </span><span id="local-6989586621679373374"><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373374"><span class="hs-identifier hs-var">pf1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
</span><a href="#local-6989586621679373408"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373405"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373404"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373376"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-280"></span><span>             </span><span id="local-6989586621679373373"><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373373"><span class="hs-identifier hs-var">pf2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
</span><a href="#local-6989586621679373408"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373405"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373376"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373404"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373375"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-281"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373372"><span class="annot"><span class="annottext">pf :: PickFn a
</span><a href="#local-6989586621679373372"><span class="hs-identifier hs-var hs-var">pf</span></a></span></span><span> </span><span id="local-6989586621679373371"><span class="annot"><span class="annottext">p :: Point
</span><a href="#local-6989586621679373371"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679373370"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373370"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373370"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DArray, DArray) -&gt; DArray
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-glyph hs-var">!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373405"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373376"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>                                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373374"><span class="hs-identifier hs-var">pf1</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373371"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373373"><span class="hs-identifier hs-var">pf2</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373371"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-283"></span><span>             </span><span class="annot"><span class="annottext">PickFn a -&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373372"><span class="hs-identifier hs-var">pf</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679373369"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373369"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679373368"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373368"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="hs-keyword">do</span><span>
</span><span id="line-285"></span><span>             </span><span id="local-6989586621679373367"><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373367"><span class="hs-identifier hs-var">pf2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
</span><a href="#local-6989586621679373408"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373405"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373404"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373368"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-286"></span><span>             </span><span id="local-6989586621679373366"><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373366"><span class="hs-identifier hs-var">pf1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (PickFn a)
</span><a href="#local-6989586621679373408"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679373407"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373405"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373404"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679373369"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-287"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679373365"><span class="annot"><span class="annottext">pf :: PickFn a
</span><a href="#local-6989586621679373365"><span class="hs-identifier hs-var hs-var">pf</span></a></span></span><span> </span><span id="local-6989586621679373364"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373364"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373366"><span class="hs-identifier hs-var">pf1</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373364"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a -&gt; Maybe a
forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a -&gt; m a -&gt; m a
</span><span class="hs-operator hs-var">`mplus`</span></span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373367"><span class="hs-identifier hs-var">pf2</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679373364"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-288"></span><span>             </span><span class="annot"><span class="annottext">PickFn a -&gt; ProgramT ChartBackendInstr Identity (PickFn a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">PickFn a
</span><a href="#local-6989586621679373365"><span class="hs-identifier hs-var">pf</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621679373386"><span class="annot"><span class="annottext">newpf :: (Point -&gt; t) -&gt; Double -&gt; Double -&gt; Point -&gt; t
</span><a href="#local-6989586621679373386"><span class="hs-identifier hs-var hs-var">newpf</span></a></span></span><span> </span><span id="local-6989586621679373362"><span class="annot"><span class="annottext">Point -&gt; t
</span><a href="#local-6989586621679373362"><span class="hs-identifier hs-var">pf</span></a></span></span><span> </span><span id="local-6989586621679373361"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373361"><span class="hs-identifier hs-var">x0</span></a></span></span><span> </span><span id="local-6989586621679373360"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373360"><span class="hs-identifier hs-var">y0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679373359"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373359"><span class="hs-identifier hs-var">x1</span></a></span></span><span> </span><span id="local-6989586621679373358"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373358"><span class="hs-identifier hs-var">y1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point -&gt; t
</span><a href="#local-6989586621679373362"><span class="hs-identifier hs-var">pf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Point
</span><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-var">Point</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373359"><span class="hs-identifier hs-var">x1</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373361"><span class="hs-identifier hs-var">x0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373358"><span class="hs-identifier hs-var">y1</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373360"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-comment">-- (x borders, y borders) -&gt; (x,y) -&gt; (w,h)</span><span>
</span><span id="line-293"></span><span>    </span><span class="hs-comment">--     -&gt; rectangle of grid[x..x+w, y..y+h]</span><span>
</span><span id="line-294"></span><span>    </span><span class="annot"><a href="#local-6989586621679373396"><span class="hs-identifier hs-type">mkRect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621679373396"><span class="annot"><span class="annottext">mkRect :: (DArray, DArray) -&gt; Span -&gt; Span -&gt; Rect
</span><a href="#local-6989586621679373396"><span class="hs-identifier hs-var hs-var">mkRect</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373357"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373357"><span class="hs-identifier hs-var">cwidths</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373356"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373356"><span class="hs-identifier hs-var">cheights</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373355"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373355"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373354"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373354"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373353"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373353"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373352"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373352"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point -&gt; Point -&gt; Rect
</span><a href="Graphics.Rendering.Chart.Geometry.html#Rect"><span class="hs-identifier hs-var">Rect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Point
</span><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-var">Point</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373351"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373350"><span class="hs-identifier hs-var">y1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Point
</span><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-var">Point</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373349"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373348"><span class="hs-identifier hs-var">y2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-297"></span><span>        </span><span id="local-6989586621679373351"><span class="annot"><span class="annottext">x1 :: Double
</span><a href="#local-6989586621679373351"><span class="hs-identifier hs-var hs-var">x1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373357"><span class="hs-identifier hs-var">cwidths</span></a></span><span>  </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-glyph hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373355"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-298"></span><span>        </span><span id="local-6989586621679373350"><span class="annot"><span class="annottext">y1 :: Double
</span><a href="#local-6989586621679373350"><span class="hs-identifier hs-var hs-var">y1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373356"><span class="hs-identifier hs-var">cheights</span></a></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-glyph hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373354"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-299"></span><span>        </span><span id="local-6989586621679373349"><span class="annot"><span class="annottext">x2 :: Double
</span><a href="#local-6989586621679373349"><span class="hs-identifier hs-var hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373357"><span class="hs-identifier hs-var">cwidths</span></a></span><span>  </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-glyph hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373355"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373353"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(Span -&gt; Int) -&gt; Span -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Span
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">bounds</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373357"><span class="hs-identifier hs-var">cwidths</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>        </span><span id="local-6989586621679373348"><span class="annot"><span class="annottext">y2 :: Double
</span><a href="#local-6989586621679373348"><span class="hs-identifier hs-var hs-var">y2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373356"><span class="hs-identifier hs-var">cheights</span></a></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-glyph hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373354"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373352"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(Span -&gt; Int) -&gt; Span -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Span
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">bounds</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373356"><span class="hs-identifier hs-var">cheights</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>        </span><span class="hs-comment">-- mx = fst (bounds cwidths)</span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-comment">-- my = fst (bounds cheights)</span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-comment">-- total size -&gt; item sizes -&gt; item weights -&gt; new item sizes such that</span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-comment">-- their sum == total size, and added size is proportional to weight</span><span>
</span><span id="line-306"></span><span>    </span><span class="annot"><a href="#local-6989586621679373412"><span class="hs-identifier hs-type">addExtraSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span>
</span><span id="line-307"></span><span>    </span><span id="local-6989586621679373412"><span class="annot"><span class="annottext">addExtraSpace :: Double -&gt; DArray -&gt; DArray -&gt; DArray
</span><a href="#local-6989586621679373412"><span class="hs-identifier hs-var hs-var">addExtraSpace</span></a></span></span><span> </span><span id="local-6989586621679373345"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373345"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span id="local-6989586621679373344"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373344"><span class="hs-identifier hs-var">sizes</span></a></span></span><span> </span><span id="local-6989586621679373343"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373343"><span class="hs-identifier hs-var">weights'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-308"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373342"><span class="hs-identifier hs-var">totalws</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373344"><span class="hs-identifier hs-var">sizes</span></a></span><span>
</span><span id="line-309"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Span -&gt; [Double] -&gt; DArray
forall i e. Ix i =&gt; (i, i) -&gt; [e] -&gt; Array i e
</span><span class="hs-identifier hs-var">listArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; Span
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">bounds</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373344"><span class="hs-identifier hs-var">sizes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Double]
</span><a href="#local-6989586621679373340"><span class="hs-identifier hs-var">sizes'</span></a></span><span>
</span><span id="line-310"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-311"></span><span>        </span><span id="local-6989586621679373339"><span class="annot"><span class="annottext">ws :: [Double]
</span><a href="#local-6989586621679373339"><span class="hs-identifier hs-var hs-var">ws</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373343"><span class="hs-identifier hs-var">weights'</span></a></span><span>
</span><span id="line-312"></span><span>        </span><span id="local-6989586621679373342"><span class="annot"><span class="annottext">totalws :: Double
</span><a href="#local-6989586621679373342"><span class="hs-identifier hs-var hs-var">totalws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Double] -&gt; Double
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="annot"><span class="annottext">[Double]
</span><a href="#local-6989586621679373339"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-313"></span><span>        </span><span id="local-6989586621679373338"><span class="annot"><span class="annottext">extra :: Double
</span><a href="#local-6989586621679373338"><span class="hs-identifier hs-var hs-var">extra</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373345"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">[Double] -&gt; Double
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373344"><span class="hs-identifier hs-var">sizes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>        </span><span id="local-6989586621679373337"><span class="annot"><span class="annottext">extras :: [Double]
</span><a href="#local-6989586621679373337"><span class="hs-identifier hs-var hs-var">extras</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; [Double] -&gt; [Double]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373338"><span class="hs-identifier hs-var">extra</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679373342"><span class="hs-identifier hs-var">totalws</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Double]
</span><a href="#local-6989586621679373339"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-315"></span><span>        </span><span id="local-6989586621679373340"><span class="annot"><span class="annottext">sizes' :: [Double]
</span><a href="#local-6989586621679373340"><span class="hs-identifier hs-var hs-var">sizes'</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double) -&gt; [Double] -&gt; [Double] -&gt; [Double]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">[Double]
</span><a href="#local-6989586621679373337"><span class="hs-identifier hs-var">extras</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373344"><span class="hs-identifier hs-var">sizes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-comment">-- [1,2,3] -&gt; [0,1,3,6].</span><span>
</span><span id="line-318"></span><span>    </span><span class="annot"><a href="#local-6989586621679373409"><span class="hs-identifier hs-type">ctotal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span>
</span><span id="line-319"></span><span>    </span><span id="local-6989586621679373409"><span class="annot"><span class="annottext">ctotal :: DArray -&gt; DArray
</span><a href="#local-6989586621679373409"><span class="hs-identifier hs-var hs-var">ctotal</span></a></span></span><span> </span><span id="local-6989586621679373333"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373333"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; [Double] -&gt; DArray
forall i e. Ix i =&gt; (i, i) -&gt; [e] -&gt; Array i e
</span><span class="hs-identifier hs-var">listArray</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679373332"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373332"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679373331"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373331"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Span
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">bounds</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373333"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373332"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679373331"><span class="hs-identifier hs-var">j</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double) -&gt; Double -&gt; [Double] -&gt; [Double]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">scanl</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679373333"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-321"></span></pre></body></html>