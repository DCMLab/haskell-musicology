<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Module      :  Graphics.Rendering.Chart.Backend.Impl</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Copyright   :  (c) Tim Docker 2014</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- License     :  BSD-style (see chart/COPYRIGHT)</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- This module provides the implementation details common to all 'ChartBackend's.</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Graphics.Rendering.Chart.Backend.Impl</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Reader</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Operational</span></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html"><span class="hs-identifier">Graphics.Rendering.Chart.Geometry</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html"><span class="hs-identifier">Graphics.Rendering.Chart.Backend.Types</span></a></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-comment">-- -----------------------------------------------------------------------</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- Rendering Backend Class</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- -----------------------------------------------------------------------</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-comment">-- | The abstract drawing operation generated when using the</span><span>
</span><span id="line-24"></span><span class="hs-comment">--   the chart drawing API.</span><span>
</span><span id="line-25"></span><span class="hs-comment">--   </span><span>
</span><span id="line-26"></span><span class="hs-comment">--   See the documentation of the different function for the correct semantics</span><span>
</span><span id="line-27"></span><span class="hs-comment">--   of each instruction:</span><span>
</span><span id="line-28"></span><span class="hs-comment">--   </span><span>
</span><span id="line-29"></span><span class="hs-comment">--   * 'strokePath', 'fillPath'</span><span>
</span><span id="line-30"></span><span class="hs-comment">--   </span><span>
</span><span id="line-31"></span><span class="hs-comment">--   * 'drawText', 'textSize'</span><span>
</span><span id="line-32"></span><span class="hs-comment">--   </span><span>
</span><span id="line-33"></span><span class="hs-comment">--   * 'getPointAlignFn', 'getCoordAlignFn', 'AlignmentFns'</span><span>
</span><span id="line-34"></span><span class="hs-comment">--   </span><span>
</span><span id="line-35"></span><span class="hs-comment">--   * 'withTransform', 'withClipRegion'</span><span>
</span><span id="line-36"></span><span class="hs-comment">--   </span><span>
</span><span id="line-37"></span><span class="hs-comment">--   * 'withLineStyle', 'withFillStyle', 'withFontStyle'</span><span>
</span><span id="line-38"></span><span class="hs-comment">--   </span><span>
</span><span id="line-39"></span><span class="hs-keyword">data</span><span> </span><span id="ChartBackendInstr"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-var">ChartBackendInstr</span></a></span></span><span> </span><span id="local-6989586621679370493"><span class="annot"><a href="#local-6989586621679370493"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-40"></span><span>  </span><span id="StrokePath"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#StrokePath"><span class="hs-identifier hs-var">StrokePath</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>  </span><span id="FillPath"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#FillPath"><span class="hs-identifier hs-var">FillPath</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>  </span><span id="GetTextSize"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#GetTextSize"><span class="hs-identifier hs-var">GetTextSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#TextSize"><span class="hs-identifier hs-type">TextSize</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span id="DrawText"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#DrawText"><span class="hs-identifier hs-var">DrawText</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>  </span><span id="GetAlignments"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#GetAlignments"><span class="hs-identifier hs-var">GetAlignments</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#AlignmentFns"><span class="hs-identifier hs-type">AlignmentFns</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span id="local-6989586621679370512"><span id="WithTransform"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithTransform"><span class="hs-identifier hs-var">WithTransform</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Matrix"><span class="hs-identifier hs-type">Matrix</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Program</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370512"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370512"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-46"></span><span>  </span><span id="local-6989586621679370508"><span id="WithFontStyle"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithFontStyle"><span class="hs-identifier hs-var">WithFontStyle</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#FontStyle"><span class="hs-identifier hs-type">FontStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Program</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370508"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370508"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-47"></span><span>  </span><span id="local-6989586621679370505"><span id="WithFillStyle"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithFillStyle"><span class="hs-identifier hs-var">WithFillStyle</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#FillStyle"><span class="hs-identifier hs-type">FillStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Program</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370505"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370505"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-48"></span><span>  </span><span id="local-6989586621679370502"><span id="WithLineStyle"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithLineStyle"><span class="hs-identifier hs-var">WithLineStyle</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#LineStyle"><span class="hs-identifier hs-type">LineStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Program</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370502"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370502"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-49"></span><span>  </span><span id="local-6989586621679370499"><span id="WithClipRegion"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithClipRegion"><span class="hs-identifier hs-var">WithClipRegion</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Program</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370499"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370499"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-comment">-- | A 'BackendProgram' provides the capability to render a chart somewhere.</span><span>
</span><span id="line-52"></span><span class="hs-comment">--   </span><span>
</span><span id="line-53"></span><span class="hs-comment">--   The coordinate system of the backend has its initial origin (0,0)</span><span>
</span><span id="line-54"></span><span class="hs-comment">--   in the top left corner of the drawing plane. The x-axis points </span><span>
</span><span id="line-55"></span><span class="hs-comment">--   towards the top right corner and the y-axis points towards </span><span>
</span><span id="line-56"></span><span class="hs-comment">--   the bottom left corner. The unit used by coordinates, the font size,</span><span>
</span><span id="line-57"></span><span class="hs-comment">--   and lengths is the always the same, but depends on the backend.</span><span>
</span><span id="line-58"></span><span class="hs-comment">--   All angles are measured in radians.</span><span>
</span><span id="line-59"></span><span class="hs-comment">--   </span><span>
</span><span id="line-60"></span><span class="hs-comment">--   The line, fill and font style are set to their default values </span><span>
</span><span id="line-61"></span><span class="hs-comment">--   initially.</span><span>
</span><span id="line-62"></span><span class="hs-comment">--   </span><span>
</span><span id="line-63"></span><span class="hs-comment">--   Information about the semantics of the instructions can be </span><span>
</span><span id="line-64"></span><span class="hs-comment">--   found in the documentation of 'ChartBackendInstr'.</span><span>
</span><span id="line-65"></span><span class="hs-keyword">type</span><span> </span><span id="BackendProgram"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-var">BackendProgram</span></a></span></span><span> </span><span id="local-6989586621679370482"><span class="annot"><a href="#local-6989586621679370482"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Program</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#ChartBackendInstr"><span class="hs-identifier hs-type">ChartBackendInstr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370482"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | Stroke the outline of the given path using the </span><span>
</span><span id="line-68"></span><span class="hs-comment">--   current 'LineStyle'. This function does /not/ perform</span><span>
</span><span id="line-69"></span><span class="hs-comment">--   alignment operations on the path. See 'Path' for the exact semantic</span><span>
</span><span id="line-70"></span><span class="hs-comment">--   of paths.</span><span>
</span><span id="line-71"></span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#strokePath"><span class="hs-identifier hs-type">strokePath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span id="strokePath"><span class="annot"><span class="annottext">strokePath :: Path -&gt; BackendProgram ()
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#strokePath"><span class="hs-identifier hs-var hs-var">strokePath</span></a></span></span><span> </span><span id="local-6989586621679370480"><span class="annot"><span class="annottext">Path
</span><a href="#local-6989586621679370480"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr () -&gt; BackendProgram ()
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Path -&gt; ChartBackendInstr ()
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#StrokePath"><span class="hs-identifier hs-var">StrokePath</span></a></span><span> </span><span class="annot"><span class="annottext">Path
</span><a href="#local-6989586621679370480"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">-- | Fill the given path using the current 'FillStyle'.</span><span>
</span><span id="line-75"></span><span class="hs-comment">--   The given path will be closed prior to filling.</span><span>
</span><span id="line-76"></span><span class="hs-comment">--   This function does /not/ perform</span><span>
</span><span id="line-77"></span><span class="hs-comment">--   alignment operations on the path.</span><span>
</span><span id="line-78"></span><span class="hs-comment">--   See 'Path' for the exact semantic of paths.</span><span>
</span><span id="line-79"></span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#fillPath"><span class="hs-identifier hs-type">fillPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span id="fillPath"><span class="annot"><span class="annottext">fillPath :: Path -&gt; BackendProgram ()
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#fillPath"><span class="hs-identifier hs-var hs-var">fillPath</span></a></span></span><span> </span><span id="local-6989586621679370477"><span class="annot"><span class="annottext">Path
</span><a href="#local-6989586621679370477"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr () -&gt; BackendProgram ()
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Path -&gt; ChartBackendInstr ()
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#FillPath"><span class="hs-identifier hs-var">FillPath</span></a></span><span> </span><span class="annot"><span class="annottext">Path
</span><a href="#local-6989586621679370477"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- | Calculate a 'TextSize' object with rendering information</span><span>
</span><span id="line-83"></span><span class="hs-comment">--   about the given string without actually rendering it.</span><span>
</span><span id="line-84"></span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#textSize"><span class="hs-identifier hs-type">textSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#TextSize"><span class="hs-identifier hs-type">TextSize</span></a></span><span>
</span><span id="line-85"></span><span id="textSize"><span class="annot"><span class="annottext">textSize :: String -&gt; BackendProgram TextSize
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#textSize"><span class="hs-identifier hs-var hs-var">textSize</span></a></span></span><span> </span><span id="local-6989586621679370475"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679370475"><span class="hs-identifier hs-var">text</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr TextSize -&gt; BackendProgram TextSize
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ChartBackendInstr TextSize
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#GetTextSize"><span class="hs-identifier hs-var">GetTextSize</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679370475"><span class="hs-identifier hs-var">text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">-- | Draw a single-line textual label anchored by the baseline (vertical) </span><span>
</span><span id="line-88"></span><span class="hs-comment">--   left (horizontal) point. Uses the current 'FontStyle' for drawing.</span><span>
</span><span id="line-89"></span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#drawText"><span class="hs-identifier hs-type">drawText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span id="drawText"><span class="annot"><span class="annottext">drawText :: Point -&gt; String -&gt; BackendProgram ()
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#drawText"><span class="hs-identifier hs-var hs-var">drawText</span></a></span></span><span> </span><span id="local-6989586621679370473"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679370473"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679370472"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679370472"><span class="hs-identifier hs-var">text</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr () -&gt; BackendProgram ()
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Point -&gt; String -&gt; ChartBackendInstr ()
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#DrawText"><span class="hs-identifier hs-var">DrawText</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679370473"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679370472"><span class="hs-identifier hs-var">text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-comment">-- | Apply the given transformation in this local</span><span>
</span><span id="line-93"></span><span class="hs-comment">--   environment when drawing. The given transformation </span><span>
</span><span id="line-94"></span><span class="hs-comment">--   is applied after the current transformation. This</span><span>
</span><span id="line-95"></span><span class="hs-comment">--   means both are combined.</span><span>
</span><span id="line-96"></span><span id="local-6989586621679370471"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#withTransform"><span class="hs-identifier hs-type">withTransform</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Matrix"><span class="hs-identifier hs-type">Matrix</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370471"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370471"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-97"></span><span id="withTransform"><span class="annot"><span class="annottext">withTransform :: Matrix -&gt; BackendProgram a -&gt; BackendProgram a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#withTransform"><span class="hs-identifier hs-var hs-var">withTransform</span></a></span></span><span> </span><span id="local-6989586621679370469"><span class="annot"><span class="annottext">Matrix
</span><a href="#local-6989586621679370469"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679370468"><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370468"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr a -&gt; BackendProgram a
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Matrix -&gt; BackendProgram a -&gt; ChartBackendInstr a
forall a.
Matrix -&gt; Program ChartBackendInstr a -&gt; ChartBackendInstr a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithTransform"><span class="hs-identifier hs-var">WithTransform</span></a></span><span> </span><span class="annot"><span class="annottext">Matrix
</span><a href="#local-6989586621679370469"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370468"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- | Use the given font style in this local</span><span>
</span><span id="line-100"></span><span class="hs-comment">--   environment when drawing text.</span><span>
</span><span id="line-101"></span><span class="hs-comment">--   </span><span>
</span><span id="line-102"></span><span class="hs-comment">--   An implementing backend is expected to guarentee</span><span>
</span><span id="line-103"></span><span class="hs-comment">--   to support the following font families: @serif@, @sans-serif@ and @monospace@;</span><span>
</span><span id="line-104"></span><span class="hs-comment">--   </span><span>
</span><span id="line-105"></span><span class="hs-comment">--   If the backend is not able to find or load a given font </span><span>
</span><span id="line-106"></span><span class="hs-comment">--   it is required to fall back to a custom fail-safe font</span><span>
</span><span id="line-107"></span><span class="hs-comment">--   and use it instead.</span><span>
</span><span id="line-108"></span><span id="local-6989586621679370467"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#withFontStyle"><span class="hs-identifier hs-type">withFontStyle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#FontStyle"><span class="hs-identifier hs-type">FontStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370467"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370467"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-109"></span><span id="withFontStyle"><span class="annot"><span class="annottext">withFontStyle :: FontStyle -&gt; BackendProgram a -&gt; BackendProgram a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#withFontStyle"><span class="hs-identifier hs-var hs-var">withFontStyle</span></a></span></span><span> </span><span id="local-6989586621679370465"><span class="annot"><span class="annottext">FontStyle
</span><a href="#local-6989586621679370465"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span id="local-6989586621679370464"><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370464"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr a -&gt; BackendProgram a
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FontStyle -&gt; BackendProgram a -&gt; ChartBackendInstr a
forall a.
FontStyle -&gt; Program ChartBackendInstr a -&gt; ChartBackendInstr a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithFontStyle"><span class="hs-identifier hs-var">WithFontStyle</span></a></span><span> </span><span class="annot"><span class="annottext">FontStyle
</span><a href="#local-6989586621679370465"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370464"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- | Use the given fill style in this local</span><span>
</span><span id="line-112"></span><span class="hs-comment">--   environment when filling paths.</span><span>
</span><span id="line-113"></span><span id="local-6989586621679370463"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#withFillStyle"><span class="hs-identifier hs-type">withFillStyle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#FillStyle"><span class="hs-identifier hs-type">FillStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370463"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370463"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-114"></span><span id="withFillStyle"><span class="annot"><span class="annottext">withFillStyle :: FillStyle -&gt; BackendProgram a -&gt; BackendProgram a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#withFillStyle"><span class="hs-identifier hs-var hs-var">withFillStyle</span></a></span></span><span> </span><span id="local-6989586621679370461"><span class="annot"><span class="annottext">FillStyle
</span><a href="#local-6989586621679370461"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span id="local-6989586621679370460"><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370460"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr a -&gt; BackendProgram a
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FillStyle -&gt; BackendProgram a -&gt; ChartBackendInstr a
forall a.
FillStyle -&gt; Program ChartBackendInstr a -&gt; ChartBackendInstr a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithFillStyle"><span class="hs-identifier hs-var">WithFillStyle</span></a></span><span> </span><span class="annot"><span class="annottext">FillStyle
</span><a href="#local-6989586621679370461"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370460"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | Use the given line style in this local</span><span>
</span><span id="line-117"></span><span class="hs-comment">--   environment when stroking paths.</span><span>
</span><span id="line-118"></span><span id="local-6989586621679370459"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#withLineStyle"><span class="hs-identifier hs-type">withLineStyle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Types.html#LineStyle"><span class="hs-identifier hs-type">LineStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370459"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-119"></span><span id="withLineStyle"><span class="annot"><span class="annottext">withLineStyle :: LineStyle -&gt; BackendProgram a -&gt; BackendProgram a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#withLineStyle"><span class="hs-identifier hs-var hs-var">withLineStyle</span></a></span></span><span> </span><span id="local-6989586621679370457"><span class="annot"><span class="annottext">LineStyle
</span><a href="#local-6989586621679370457"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679370456"><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370456"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr a -&gt; BackendProgram a
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LineStyle -&gt; BackendProgram a -&gt; ChartBackendInstr a
forall a.
LineStyle -&gt; Program ChartBackendInstr a -&gt; ChartBackendInstr a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithLineStyle"><span class="hs-identifier hs-var">WithLineStyle</span></a></span><span> </span><span class="annot"><span class="annottext">LineStyle
</span><a href="#local-6989586621679370457"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370456"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-comment">-- | Use the given clipping rectangle when drawing</span><span>
</span><span id="line-122"></span><span class="hs-comment">--   in this local environment. The new clipping region</span><span>
</span><span id="line-123"></span><span class="hs-comment">--   is intersected with the given clip region. You cannot </span><span>
</span><span id="line-124"></span><span class="hs-comment">--   escape the clip!</span><span>
</span><span id="line-125"></span><span id="local-6989586621679370455"><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#withClipRegion"><span class="hs-identifier hs-type">withClipRegion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370455"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679370455"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-126"></span><span id="withClipRegion"><span class="annot"><span class="annottext">withClipRegion :: Rect -&gt; BackendProgram a -&gt; BackendProgram a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#withClipRegion"><span class="hs-identifier hs-var hs-var">withClipRegion</span></a></span></span><span> </span><span id="local-6989586621679370453"><span class="annot"><span class="annottext">Rect
</span><a href="#local-6989586621679370453"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679370452"><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370452"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr a -&gt; BackendProgram a
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rect -&gt; BackendProgram a -&gt; ChartBackendInstr a
forall a.
Rect -&gt; Program ChartBackendInstr a -&gt; ChartBackendInstr a
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#WithClipRegion"><span class="hs-identifier hs-var">WithClipRegion</span></a></span><span> </span><span class="annot"><span class="annottext">Rect
</span><a href="#local-6989586621679370453"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">BackendProgram a
</span><a href="#local-6989586621679370452"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-- -----------------------------------------------------------------------</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- Rendering Utility Functions</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- -----------------------------------------------------------------------</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- | Get the point alignment function</span><span>
</span><span id="line-133"></span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#getPointAlignFn"><span class="hs-identifier hs-type">getPointAlignFn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span id="getPointAlignFn"><span class="annot"><span class="annottext">getPointAlignFn :: BackendProgram (Point -&gt; Point)
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#getPointAlignFn"><span class="hs-identifier hs-var hs-var">getPointAlignFn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AlignmentFns -&gt; Point -&gt; Point)
-&gt; ProgramT ChartBackendInstr Identity AlignmentFns
-&gt; BackendProgram (Point -&gt; Point)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">AlignmentFns -&gt; Point -&gt; Point
</span><a href="Graphics.Rendering.Chart.Backend.Types.html#afPointAlignFn"><span class="hs-identifier hs-var hs-var">afPointAlignFn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChartBackendInstr AlignmentFns
-&gt; ProgramT ChartBackendInstr Identity AlignmentFns
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr AlignmentFns
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#GetAlignments"><span class="hs-identifier hs-var">GetAlignments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- | Get the coordinate alignment function</span><span>
</span><span id="line-137"></span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#getCoordAlignFn"><span class="hs-identifier hs-type">getCoordAlignFn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span id="getCoordAlignFn"><span class="annot"><span class="annottext">getCoordAlignFn :: BackendProgram (Point -&gt; Point)
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#getCoordAlignFn"><span class="hs-identifier hs-var hs-var">getCoordAlignFn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AlignmentFns -&gt; Point -&gt; Point)
-&gt; ProgramT ChartBackendInstr Identity AlignmentFns
-&gt; BackendProgram (Point -&gt; Point)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">AlignmentFns -&gt; Point -&gt; Point
</span><a href="Graphics.Rendering.Chart.Backend.Types.html#afCoordAlignFn"><span class="hs-identifier hs-var hs-var">afCoordAlignFn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChartBackendInstr AlignmentFns
-&gt; ProgramT ChartBackendInstr Identity AlignmentFns
forall (instr :: * -&gt; *) a (m :: * -&gt; *).
instr a -&gt; ProgramT instr m a
</span><span class="hs-identifier hs-var">singleton</span></span><span> </span><span class="annot"><span class="annottext">ChartBackendInstr AlignmentFns
</span><a href="Graphics.Rendering.Chart.Backend.Impl.html#GetAlignments"><span class="hs-identifier hs-var">GetAlignments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span></pre></body></html>