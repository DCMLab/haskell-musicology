<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds  #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances  #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs      #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds  #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- | Commonly used 'Rec' instantiations.</span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Vinyl.Derived</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.ARec.html"><span class="hs-identifier">Data.Vinyl.ARec</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html"><span class="hs-identifier">Data.Vinyl.Core</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html"><span class="hs-identifier">Data.Vinyl.Functor</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html"><span class="hs-identifier">Data.Vinyl.Lens</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html"><span class="hs-identifier">Data.Vinyl.TypeLevel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Fst"><span class="hs-identifier">Fst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Snd"><span class="hs-identifier">Snd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RIndex"><span class="hs-identifier">RIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.OverloadedLabels</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-comment">-- | Alias for Field spec</span><span>
</span><span id="line-28"></span><span class="hs-keyword">type</span><span> </span><span id="local-6989586621679070931"><span class="annot"><a href="#local-6989586621679070931"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="%3A%3A%3A"><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-var">:::</span></a></span></span><span> </span><span id="local-6989586621679070930"><span class="annot"><a href="#local-6989586621679070930"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070931"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679070930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-comment">-- | A record of named fields.</span><span>
</span><span id="line-31"></span><span class="hs-keyword">type</span><span> </span><span id="FieldRec"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-var">FieldRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-comment">-- | An 'ARec' of named fields to provide constant-time field access.</span><span>
</span><span id="line-34"></span><span class="hs-keyword">type</span><span> </span><span id="AFieldRec"><span class="annot"><a href="Data.Vinyl.Derived.html#AFieldRec"><span class="hs-identifier hs-var">AFieldRec</span></a></span></span><span> </span><span id="local-6989586621679070928"><span class="annot"><a href="#local-6989586621679070928"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.ARec.html#ARec"><span class="hs-identifier hs-type">ARec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070928"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-comment">-- | Heterogeneous list whose elements are evaluated during list</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- construction.</span><span>
</span><span id="line-38"></span><span class="hs-keyword">type</span><span> </span><span id="HList"><span class="annot"><a href="Data.Vinyl.Derived.html#HList"><span class="hs-identifier hs-var">HList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-comment">-- | Heterogeneous list whose elements are left as-is during list</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- construction (cf. 'HList').</span><span>
</span><span id="line-42"></span><span class="hs-keyword">type</span><span> </span><span id="LazyHList"><span class="annot"><a href="Data.Vinyl.Derived.html#LazyHList"><span class="hs-identifier hs-var">LazyHList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Thunk"><span class="hs-identifier hs-type">Thunk</span></a></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-comment">-- | Get the data payload of an 'ElField'.</span><span>
</span><span id="line-45"></span><span id="local-6989586621679071157"><span id="local-6989586621679071158"><span class="annot"><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-type">getField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679071158"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679071157"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679071157"><span class="hs-identifier hs-type">t</span></a></span></span></span><span>
</span><span id="line-46"></span><span id="getField"><span class="annot"><span class="annottext">getField :: ElField '(s, t) -&gt; t
</span><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-var hs-var">getField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679070921"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679070921"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
t
</span><a href="#local-6989586621679070921"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-comment">-- | Get the label name of an 'ElField'.</span><span>
</span><span id="line-49"></span><span class="annot"><a href="Data.Vinyl.Derived.html#getLabel"><span class="hs-identifier hs-type">getLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070919"><span class="annot"><a href="#local-6989586621679070919"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679070918"><span class="annot"><a href="#local-6989586621679070918"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070919"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679070918"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-50"></span><span id="getLabel"><span class="annot"><span class="annottext">getLabel :: ElField '(s, t) -&gt; String
</span><a href="Data.Vinyl.Derived.html#getLabel"><span class="hs-identifier hs-var hs-var">getLabel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy s -&gt; String
forall (n :: Symbol) (proxy :: Symbol -&gt; *).
KnownSymbol n =&gt;
proxy n -&gt; String
</span><span class="hs-identifier hs-var">symbolVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy s
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679070919"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-comment">-- | 'ElField' is isomorphic to a functor something like @Compose</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- ElField ('(,) s)@.</span><span>
</span><span id="line-54"></span><span id="local-6989586621679070913"><span id="local-6989586621679070914"><span id="local-6989586621679070915"><span class="annot"><a href="Data.Vinyl.Derived.html#fieldMap"><span class="hs-identifier hs-type">fieldMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070915"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070914"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070913"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679070915"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070913"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679070914"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-55"></span><span id="fieldMap"><span class="annot"><span class="annottext">fieldMap :: (a -&gt; b) -&gt; ElField '(s, a) -&gt; ElField '(s, b)
</span><a href="Data.Vinyl.Derived.html#fieldMap"><span class="hs-identifier hs-var hs-var">fieldMap</span></a></span></span><span> </span><span id="local-6989586621679070911"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679070911"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679070910"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679070910"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; ElField '(s, b)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679070911"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
t
</span><a href="#local-6989586621679070910"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#fieldMap"><span class="hs-pragma hs-type">fieldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">-- | Something in the spirit of 'traverse' for 'ElField' whose kind</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- fights the standard library.</span><span>
</span><span id="line-60"></span><span id="local-6989586621679070906"><span id="local-6989586621679070907"><span id="local-6989586621679070908"><span id="local-6989586621679070909"><span class="annot"><a href="Data.Vinyl.Derived.html#traverseField"><span class="hs-identifier hs-type">traverseField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070909"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679070908"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070907"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070906"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070908"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070909"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679070907"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070909"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679070908"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070906"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-62"></span><span id="traverseField"><span class="annot"><span class="annottext">traverseField :: (a -&gt; b) -&gt; f (ElField '(s, a)) -&gt; ElField '(s, f b)
</span><a href="Data.Vinyl.Derived.html#traverseField"><span class="hs-identifier hs-var hs-var">traverseField</span></a></span></span><span> </span><span id="local-6989586621679070904"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679070904"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679070903"><span class="annot"><span class="annottext">f (ElField '(s, a))
</span><a href="#local-6989586621679070903"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; ElField '(s, f b)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ElField '(s, a) -&gt; b) -&gt; f (ElField '(s, a)) -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679070904"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (ElField '(s, a) -&gt; a) -&gt; ElField '(s, a) -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ElField '(s, a) -&gt; a
forall (s :: Symbol) t. ElField '(s, t) -&gt; t
</span><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-var">getField</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">f (ElField '(s, a))
</span><a href="#local-6989586621679070903"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-comment">-- | Lens for an 'ElField''s data payload.</span><span>
</span><span id="line-65"></span><span id="local-6989586621679071066"><span id="local-6989586621679071067"><span id="local-6989586621679071068"><span id="local-6989586621679071069"><span class="annot"><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-identifier hs-type">rfield</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679071069"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679071068"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679071069"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071067"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679071066"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679071068"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679071069"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679071066"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679071067"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-66"></span><span id="rfield"><span class="annot"><span class="annottext">rfield :: (a -&gt; f b) -&gt; ElField '(s, a) -&gt; f (ElField '(s, b))
</span><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-identifier hs-var hs-var">rfield</span></a></span></span><span> </span><span id="local-6989586621679070900"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679070900"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679070899"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679070899"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; ElField '(s, b)) -&gt; f b -&gt; f (ElField '(s, b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; ElField '(s, b)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679070900"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
t
</span><a href="#local-6989586621679070899"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-pragma hs-type">rfield</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">8</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3D%3A"><span class="hs-operator hs-type">=:</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- | Operator for creating an 'ElField'. With the @-XOverloadedLabels@</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- extension, this permits usage such as, @#foo =: 23@ to produce a</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- value of type @ElField (&quot;foo&quot; ::: Int)@.</span><span>
</span><span id="line-74"></span><span id="local-6989586621679070896"><span id="local-6989586621679070897"><span class="annot"><a href="Data.Vinyl.Derived.html#%3D%3A"><span class="hs-operator hs-type">(=:)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070897"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070897"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070896"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070897"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070896"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-75"></span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="%3D%3A"><span class="annot"><span class="annottext">=: :: Label l -&gt; v -&gt; ElField (l ::: v)
</span><a href="Data.Vinyl.Derived.html#%3D%3A"><span class="hs-operator hs-var hs-var">=:</span></a></span></span><span> </span><span id="local-6989586621679070895"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679070895"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; ElField (l ::: v)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679070895"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-comment">-- | Get a named field from a record.</span><span>
</span><span id="line-78"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rgetf"><span class="hs-identifier hs-type">rgetf</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679071127"><span class="annot"><a href="#local-6989586621679071127"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679071123"><span class="annot"><a href="#local-6989586621679071123"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679071125"><span class="annot"><a href="#local-6989586621679071125"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679071128"><span class="annot"><a href="#local-6989586621679071128"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679071126"><span class="annot"><a href="#local-6989586621679071126"><span class="hs-identifier hs-type">us</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-80"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071128"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071127"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071126"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071126"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071125"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071125"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071128"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071123"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071127"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679071128"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071123"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071126"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679071123"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679071127"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071125"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span id="rgetf"><span class="annot"><span class="annottext">rgetf :: Label l -&gt; record f us -&gt; f (l ::: v)
</span><a href="Data.Vinyl.Derived.html#rgetf"><span class="hs-identifier hs-var hs-var">rgetf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (rs :: [(Symbol, k)]) (f :: (Symbol, k) -&gt; *)
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *).
(RecElem record (l ::: v) (l ::: v) rs rs (RIndex (l ::: v) rs),
 RecElemFCtx record f) =&gt;
record f rs -&gt; f (l ::: v)
forall k (r :: k) (rs :: [k]) (f :: k -&gt; *)
       (record :: (k -&gt; *) -&gt; [k] -&gt; *).
(RecElem record r r rs rs (RIndex r rs), RecElemFCtx record f) =&gt;
record f rs -&gt; f r
</span><a href="Data.Vinyl.Lens.html#rget"><span class="hs-identifier hs-var">rget</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679071127"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071125"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-comment">-- | Get the value associated with a named field from a record.</span><span>
</span><span id="line-85"></span><span id="local-6989586621679070889"><span id="local-6989586621679070890"><span id="local-6989586621679070891"><span id="local-6989586621679070892"><span class="annot"><a href="Data.Vinyl.Derived.html#rvalf"><span class="hs-identifier hs-type">rvalf</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070892"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070891"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070890"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070890"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070889"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070889"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070892"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070891"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070892"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070890"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070889"><span class="hs-identifier hs-type">v</span></a></span></span></span></span></span><span>
</span><span id="line-88"></span><span id="rvalf"><span class="annot"><span class="annottext">rvalf :: Label l -&gt; record ElField us -&gt; v
</span><a href="Data.Vinyl.Derived.html#rvalf"><span class="hs-identifier hs-var hs-var">rvalf</span></a></span></span><span> </span><span id="local-6989586621679070887"><span class="annot"><span class="annottext">Label l
</span><a href="#local-6989586621679070887"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ElField '(l, v) -&gt; v
forall (s :: Symbol) t. ElField '(s, t) -&gt; t
</span><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="annot"><span class="annottext">(ElField '(l, v) -&gt; v)
-&gt; (record ElField us -&gt; ElField '(l, v)) -&gt; record ElField us -&gt; v
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Label l -&gt; record ElField us -&gt; ElField '(l, v)
forall k (l :: Symbol) (f :: (Symbol, k) -&gt; *) (v :: k)
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *)
       (us :: [(Symbol, k)]).
(HasField record l us us v v, RecElemFCtx record f) =&gt;
Label l -&gt; record f us -&gt; f (l ::: v)
</span><a href="Data.Vinyl.Derived.html#rgetf"><span class="hs-identifier hs-var">rgetf</span></a></span><span> </span><span class="annot"><span class="annottext">Label l
</span><a href="#local-6989586621679070887"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-comment">-- | Set a named field. @rputf' #foo 23@ sets the field named @#foo@ to</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- @23@.</span><span>
</span><span id="line-92"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rputf%27"><span class="hs-identifier hs-type">rputf'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070885"><span class="annot"><a href="#local-6989586621679070885"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070884"><span class="annot"><a href="#local-6989586621679070884"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679070883"><span class="annot"><a href="#local-6989586621679070883"><span class="hs-identifier hs-type">v'</span></a></span></span><span> </span><span id="local-6989586621679070882"><span class="annot"><a href="#local-6989586621679070882"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679070881"><span class="annot"><a href="#local-6989586621679070881"><span class="hs-identifier hs-type">us</span></a></span></span><span> </span><span id="local-6989586621679070880"><span class="annot"><a href="#local-6989586621679070880"><span class="hs-identifier hs-type">us'</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-93"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070882"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070885"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070881"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070880"><span class="hs-identifier hs-type">us'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070884"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070883"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070885"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070882"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070885"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070883"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070882"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070881"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070882"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070880"><span class="hs-identifier hs-type">us'</span></a></span><span>
</span><span id="line-95"></span><span id="rputf%27"><span class="annot"><span class="annottext">rputf' :: Label l -&gt; v' -&gt; record ElField us -&gt; record ElField us'
</span><a href="Data.Vinyl.Derived.html#rputf%27"><span class="hs-identifier hs-var hs-var">rputf'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (r :: k) (r' :: k) (rs :: [k]) (rs' :: [k])
       (record :: (k -&gt; *) -&gt; [k] -&gt; *) (f :: k -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f) =&gt;
f r' -&gt; record f rs -&gt; record f rs'
forall (r' :: (Symbol, *)) (rs :: [(Symbol, *)])
       (rs' :: [(Symbol, *)])
       (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *)
       (f :: (Symbol, *) -&gt; *).
(RecElem record (l ::: v) r' rs rs' (RIndex (l ::: v) rs),
 RecElemFCtx record f) =&gt;
f r' -&gt; record f rs -&gt; record f rs'
</span><a href="Data.Vinyl.Lens.html#rput%27"><span class="hs-identifier hs-var">rput'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070885"><span class="hs-identifier hs-type">l</span></a></span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span class="annot"><a href="#local-6989586621679070884"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ElField '(l, v') -&gt; record ElField us -&gt; record ElField us')
-&gt; (v' -&gt; ElField '(l, v'))
-&gt; v'
-&gt; record ElField us
-&gt; record ElField us'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v' -&gt; ElField '(l, v')
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679070883"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070885"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679070883"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- | Set a named field without changing its type. @rputf #foo 23@ sets</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- the field named @#foo@ to @23@.</span><span>
</span><span id="line-99"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rputf"><span class="hs-identifier hs-type">rputf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070877"><span class="annot"><a href="#local-6989586621679070877"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070876"><span class="annot"><a href="#local-6989586621679070876"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679070875"><span class="annot"><a href="#local-6989586621679070875"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679070874"><span class="annot"><a href="#local-6989586621679070874"><span class="hs-identifier hs-type">us</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-100"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070875"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070877"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070874"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070874"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070876"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070876"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070877"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070875"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070877"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070876"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070875"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070874"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070875"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070874"><span class="hs-identifier hs-type">us</span></a></span><span>
</span><span id="line-102"></span><span id="rputf"><span class="annot"><span class="annottext">rputf :: Label l -&gt; v -&gt; record ElField us -&gt; record ElField us
</span><a href="Data.Vinyl.Derived.html#rputf"><span class="hs-identifier hs-var hs-var">rputf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (rs :: [(Symbol, *)])
       (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *)
       (f :: (Symbol, *) -&gt; *).
(RecElem record (l ::: v) (l ::: v) rs rs (RIndex (l ::: v) rs),
 RecElemFCtx record f) =&gt;
f (l ::: v) -&gt; record f rs -&gt; record f rs
forall k (r :: k) (rs :: [k]) (record :: (k -&gt; *) -&gt; [k] -&gt; *)
       (f :: k -&gt; *).
(RecElem record r r rs rs (RIndex r rs), RecElemFCtx record f) =&gt;
f r -&gt; record f rs -&gt; record f rs
</span><a href="Data.Vinyl.Lens.html#rput"><span class="hs-identifier hs-var">rput</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070877"><span class="hs-identifier hs-type">l</span></a></span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span class="annot"><a href="#local-6989586621679070876"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ElField (l ::: v) -&gt; record ElField us -&gt; record ElField us)
-&gt; (v -&gt; ElField (l ::: v))
-&gt; v
-&gt; record ElField us
-&gt; record ElField us
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; ElField (l ::: v)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-comment">-- | A lens into a 'Rec' identified by a 'Label'.</span><span>
</span><span id="line-105"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rlensfL%27"><span class="hs-identifier hs-type">rlensfL'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070871"><span class="annot"><a href="#local-6989586621679070871"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070870"><span class="annot"><a href="#local-6989586621679070870"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679070869"><span class="annot"><a href="#local-6989586621679070869"><span class="hs-identifier hs-type">v'</span></a></span></span><span> </span><span id="local-6989586621679070868"><span class="annot"><a href="#local-6989586621679070868"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679070867"><span class="annot"><a href="#local-6989586621679070867"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679070866"><span class="annot"><a href="#local-6989586621679070866"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679070865"><span class="annot"><a href="#local-6989586621679070865"><span class="hs-identifier hs-type">us</span></a></span></span><span> </span><span id="local-6989586621679070864"><span class="annot"><a href="#local-6989586621679070864"><span class="hs-identifier hs-type">us'</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-106"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679070867"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070868"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070871"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070865"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070864"><span class="hs-identifier hs-type">us'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070870"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070869"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070868"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070866"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070871"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-108"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070866"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070871"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070870"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070867"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070866"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070871"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070869"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070868"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070866"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070865"><span class="hs-identifier hs-type">us</span></a></span><span>
</span><span id="line-110"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070867"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070868"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070866"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070864"><span class="hs-identifier hs-type">us'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span id="rlensfL%27"><span class="annot"><span class="annottext">rlensfL' :: Label l
-&gt; (f (l ::: v) -&gt; g (f (l ::: v')))
-&gt; record f us
-&gt; g (record f us')
</span><a href="Data.Vinyl.Derived.html#rlensfL%27"><span class="hs-identifier hs-var hs-var">rlensfL'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679070863"><span class="annot"><span class="annottext">f (l ::: v) -&gt; g (f (l ::: v'))
</span><a href="#local-6989586621679070863"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f (l ::: v) -&gt; g (f (l ::: v')))
-&gt; record f us -&gt; g (record f us')
forall k (r :: k) (r' :: k) (record :: (k -&gt; *) -&gt; [k] -&gt; *)
       (rs :: [k]) (rs' :: [k]) (f :: k -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
</span><a href="Data.Vinyl.Lens.html#rlens%27"><span class="hs-identifier hs-var">rlens'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070871"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070870"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (l ::: v) -&gt; g (f (l ::: v'))
</span><a href="#local-6989586621679070863"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- | A type-preserving lens into a 'Rec' identified by a 'Label'.</span><span>
</span><span id="line-114"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rlensfL"><span class="hs-identifier hs-type">rlensfL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070860"><span class="annot"><a href="#local-6989586621679070860"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070859"><span class="annot"><a href="#local-6989586621679070859"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679070858"><span class="annot"><a href="#local-6989586621679070858"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679070857"><span class="annot"><a href="#local-6989586621679070857"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679070856"><span class="annot"><a href="#local-6989586621679070856"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679070855"><span class="annot"><a href="#local-6989586621679070855"><span class="hs-identifier hs-type">us</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-115"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679070857"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070858"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070860"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070855"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070855"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070859"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070859"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070858"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070856"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070860"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-117"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070856"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070860"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070859"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070857"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070856"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070860"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070859"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070858"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070856"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070855"><span class="hs-identifier hs-type">us</span></a></span><span>
</span><span id="line-119"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070857"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070858"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070856"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070855"><span class="hs-identifier hs-type">us</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span id="rlensfL"><span class="annot"><span class="annottext">rlensfL :: Label l
-&gt; (f (l ::: v) -&gt; g (f (l ::: v)))
-&gt; record f us
-&gt; g (record f us)
</span><a href="Data.Vinyl.Derived.html#rlensfL"><span class="hs-identifier hs-var hs-var">rlensfL</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679070854"><span class="annot"><span class="annottext">f (l ::: v) -&gt; g (f (l ::: v))
</span><a href="#local-6989586621679070854"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f (l ::: v) -&gt; g (f (l ::: v))) -&gt; record f us -&gt; g (record f us)
forall k (r :: k) (r' :: k) (record :: (k -&gt; *) -&gt; [k] -&gt; *)
       (rs :: [k]) (rs' :: [k]) (f :: k -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
</span><a href="Data.Vinyl.Lens.html#rlens%27"><span class="hs-identifier hs-var">rlens'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070860"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070859"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (l ::: v) -&gt; g (f (l ::: v))
</span><a href="#local-6989586621679070854"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | A lens into the payload value of a 'Rec' field identified by a</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- 'Label'.</span><span>
</span><span id="line-124"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rlensf%27"><span class="hs-identifier hs-type">rlensf'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070852"><span class="annot"><a href="#local-6989586621679070852"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070851"><span class="annot"><a href="#local-6989586621679070851"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679070850"><span class="annot"><a href="#local-6989586621679070850"><span class="hs-identifier hs-type">v'</span></a></span></span><span> </span><span id="local-6989586621679070849"><span class="annot"><a href="#local-6989586621679070849"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679070848"><span class="annot"><a href="#local-6989586621679070848"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679070847"><span class="annot"><a href="#local-6989586621679070847"><span class="hs-identifier hs-type">us</span></a></span></span><span> </span><span id="local-6989586621679070846"><span class="annot"><a href="#local-6989586621679070846"><span class="hs-identifier hs-type">us'</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-125"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679070848"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070849"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070852"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070847"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070846"><span class="hs-identifier hs-type">us'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070851"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070850"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070849"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070852"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070851"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070848"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070850"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070849"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070847"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070848"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070849"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070846"><span class="hs-identifier hs-type">us'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span id="rlensf%27"><span class="annot"><span class="annottext">rlensf' :: Label l
-&gt; (v -&gt; g v') -&gt; record ElField us -&gt; g (record ElField us')
</span><a href="Data.Vinyl.Derived.html#rlensf%27"><span class="hs-identifier hs-var hs-var">rlensf'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679070845"><span class="annot"><span class="annottext">v -&gt; g v'
</span><a href="#local-6989586621679070845"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ElField (l ::: v) -&gt; g (ElField '(l, v')))
-&gt; record ElField us -&gt; g (record ElField us')
forall k (r :: k) (r' :: k) (record :: (k -&gt; *) -&gt; [k] -&gt; *)
       (rs :: [k]) (rs' :: [k]) (f :: k -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
</span><a href="Data.Vinyl.Lens.html#rlens%27"><span class="hs-identifier hs-var">rlens'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070852"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070851"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v -&gt; g v') -&gt; ElField (l ::: v) -&gt; g (ElField '(l, v'))
forall (f :: * -&gt; *) a b (s :: Symbol).
Functor f =&gt;
(a -&gt; f b) -&gt; ElField '(s, a) -&gt; f (ElField '(s, b))
</span><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-identifier hs-var">rfield</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; g v'
</span><a href="#local-6989586621679070845"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">-- | A type-preserving lens into the payload value of a 'Rec' field</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- identified by a 'Label'.</span><span>
</span><span id="line-131"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rlensf"><span class="hs-identifier hs-type">rlensf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070843"><span class="annot"><a href="#local-6989586621679070843"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070842"><span class="annot"><a href="#local-6989586621679070842"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679070841"><span class="annot"><a href="#local-6989586621679070841"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679070840"><span class="annot"><a href="#local-6989586621679070840"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679070839"><span class="annot"><a href="#local-6989586621679070839"><span class="hs-identifier hs-type">us</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-132"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679070840"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070841"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070843"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070839"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070839"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070842"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070842"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070841"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070843"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070842"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070840"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070842"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070841"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070839"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070840"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070841"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070839"><span class="hs-identifier hs-type">us</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span id="rlensf"><span class="annot"><span class="annottext">rlensf :: Label l -&gt; (v -&gt; g v) -&gt; record ElField us -&gt; g (record ElField us)
</span><a href="Data.Vinyl.Derived.html#rlensf"><span class="hs-identifier hs-var hs-var">rlensf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679070838"><span class="annot"><span class="annottext">v -&gt; g v
</span><a href="#local-6989586621679070838"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ElField (l ::: v) -&gt; g (ElField (l ::: v)))
-&gt; record ElField us -&gt; g (record ElField us)
forall k (r :: k) (record :: (k -&gt; *) -&gt; [k] -&gt; *) (rs :: [k])
       (f :: k -&gt; *) (g :: * -&gt; *).
(RecElem record r r rs rs (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r)) -&gt; record f rs -&gt; g (record f rs)
</span><a href="Data.Vinyl.Lens.html#rlens"><span class="hs-identifier hs-var">rlens</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070843"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070842"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v -&gt; g v) -&gt; ElField (l ::: v) -&gt; g (ElField (l ::: v))
forall (f :: * -&gt; *) a b (s :: Symbol).
Functor f =&gt;
(a -&gt; f b) -&gt; ElField '(s, a) -&gt; f (ElField '(s, b))
</span><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-identifier hs-var">rfield</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; g v
</span><a href="#local-6989586621679070838"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- | Shorthand for a 'FieldRec' with a single field.</span><span>
</span><span id="line-137"></span><span id="local-6989586621679070835"><span id="local-6989586621679070836"><span class="annot"><a href="Data.Vinyl.Derived.html#%3D%3A%3D"><span class="hs-operator hs-type">(=:=)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070836"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070836"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070835"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-type">FieldRec</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070836"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679070835"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span></span></span><span>
</span><span id="line-138"></span><span id="%3D%3A%3D"><span class="annot"><span class="annottext">=:= :: Label s -&gt; a -&gt; FieldRec '[ '(s, a)]
</span><a href="Data.Vinyl.Derived.html#%3D%3A%3D"><span class="hs-operator hs-var hs-var">(=:=)</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label s
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679070833"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679070833"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; ElField '(s, a)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679070833"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">ElField '(s, a) -&gt; Rec ElField '[] -&gt; FieldRec '[ '(s, a)]
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec ElField '[]
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- | A proxy for field types.</span><span>
</span><span id="line-141"></span><span class="hs-keyword">data</span><span> </span><span id="SField"><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-var">SField</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679070830"><span class="annot"><a href="#local-6989586621679070830"><span class="hs-identifier hs-type">field</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679070829"><span class="annot"><a href="#local-6989586621679070829"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SField"><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-var">SField</span></a></span></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span id="local-6989586621679070827"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679070824"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-type">SField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070827"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span> </span><span class="annot"><span class="annottext">SField a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679070822"><span class="annot"><span class="annottext">== :: SField a -&gt; SField a -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><span class="annottext">SField a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span></span><span>
</span><span id="line-144"></span><span id="local-6989586621679070821"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679070807"><span id="local-6989586621679070809"><span id="local-6989586621679070811"><span id="local-6989586621679070813"><span id="local-6989586621679070815"><span id="local-6989586621679070817"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-type">SField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070821"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679070805"><span class="annot"><span class="annottext">compare :: SField a -&gt; SField a -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></span></span><span> </span><span class="annot"><span class="annottext">SField a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SField a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span></span><span>
</span><span id="line-145"></span><span id="local-6989586621679070802"><span id="local-6989586621679070803"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679070797"><span id="local-6989586621679070800"><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070803"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-type">SField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070803"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679070802"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679070795"><span class="annot"><span class="annottext">show :: SField '(s, t) -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="annot"><span class="annottext">SField '(s, t)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SField &quot;</span></span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="annot"><span class="annottext">Proxy s -&gt; String
forall (n :: Symbol) (proxy :: Symbol -&gt; *).
KnownSymbol n =&gt;
proxy n -&gt; String
</span><span class="hs-identifier hs-var">symbolVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy s
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679070803"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FieldType"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span> </span><span id="local-6989586621679070792"><span class="annot"><a href="#local-6989586621679070792"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070791"><span class="annot"><a href="#local-6989586621679070791"><span class="hs-identifier hs-type">fs</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>  </span><span id="FieldType"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span> </span><span id="local-6989586621679070790"><span class="annot"><a href="#local-6989586621679070790"><span class="hs-identifier hs-type hs-type">l</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Cannot find label &quot;</span></span><span>
</span><span id="line-150"></span><span>                               </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679070790"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-151"></span><span>                               </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; in fields&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>  </span><span id="FieldType"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span> </span><span id="local-6989586621679070789"><span class="annot"><a href="#local-6989586621679070789"><span class="hs-identifier hs-type hs-type">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070789"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span id="local-6989586621679070788"><span class="annot"><a href="#local-6989586621679070788"><span class="hs-identifier hs-type hs-type">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679070787"><span class="annot"><a href="#local-6989586621679070787"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679070788"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-153"></span><span>  </span><span id="FieldType"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span> </span><span id="local-6989586621679070786"><span class="annot"><a href="#local-6989586621679070786"><span class="hs-identifier hs-type hs-type">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679070785"><span class="annot"><a href="#local-6989586621679070785"><span class="hs-identifier hs-type hs-type">l'</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span id="local-6989586621679070784"><span class="annot"><a href="#local-6989586621679070784"><span class="hs-identifier hs-type hs-type">v'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679070783"><span class="annot"><a href="#local-6989586621679070783"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070786"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070783"><span class="hs-identifier hs-type">fs</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-comment">-- | Constraint that a label is associated with a particular type in a</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- record.</span><span>
</span><span id="line-157"></span><span class="hs-keyword">type</span><span> </span><span id="HasField"><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-var">HasField</span></a></span></span><span> </span><span id="local-6989586621679070782"><span class="annot"><a href="#local-6989586621679070782"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679070781"><span class="annot"><a href="#local-6989586621679070781"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070780"><span class="annot"><a href="#local-6989586621679070780"><span class="hs-identifier hs-type">fs</span></a></span></span><span> </span><span id="local-6989586621679070779"><span class="annot"><a href="#local-6989586621679070779"><span class="hs-identifier hs-type">fs'</span></a></span></span><span> </span><span id="local-6989586621679070778"><span class="annot"><a href="#local-6989586621679070778"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679070777"><span class="annot"><a href="#local-6989586621679070777"><span class="hs-identifier hs-type">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElem"><span class="hs-identifier hs-type">RecElem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070782"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070781"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070778"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070781"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070777"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679070780"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070779"><span class="hs-identifier hs-type">fs'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RIndex"><span class="hs-identifier hs-type">RIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070781"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070778"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679070780"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070781"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070780"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679070778"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070781"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070779"><span class="hs-identifier hs-type">fs'</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679070777"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">-- | Proxy for label type</span><span>
</span><span id="line-161"></span><span class="hs-keyword">data</span><span> </span><span id="Label"><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-var">Label</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679071025"><span class="annot"><a href="#local-6989586621679071025"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Label"><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-var">Label</span></a></span></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679070772"><span id="local-6989586621679070774"><span class="annot"><span class="annottext">Label a -&gt; Label a -&gt; Bool
(Label a -&gt; Label a -&gt; Bool)
-&gt; (Label a -&gt; Label a -&gt; Bool) -&gt; Eq (Label a)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall (a :: Symbol). Label a -&gt; Label a -&gt; Bool
/= :: Label a -&gt; Label a -&gt; Bool
$c/= :: forall (a :: Symbol). Label a -&gt; Label a -&gt; Bool
== :: Label a -&gt; Label a -&gt; Bool
$c== :: forall (a :: Symbol). Label a -&gt; Label a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679070766"><span id="local-6989586621679070768"><span id="local-6989586621679070770"><span class="annot"><span class="annottext">Int -&gt; Label a -&gt; ShowS
[Label a] -&gt; ShowS
Label a -&gt; String
(Int -&gt; Label a -&gt; ShowS)
-&gt; (Label a -&gt; String) -&gt; ([Label a] -&gt; ShowS) -&gt; Show (Label a)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall (a :: Symbol). Int -&gt; Label a -&gt; ShowS
forall (a :: Symbol). [Label a] -&gt; ShowS
forall (a :: Symbol). Label a -&gt; String
showList :: [Label a] -&gt; ShowS
$cshowList :: forall (a :: Symbol). [Label a] -&gt; ShowS
show :: Label a -&gt; String
$cshow :: forall (a :: Symbol). Label a -&gt; String
showsPrec :: Int -&gt; Label a -&gt; ShowS
$cshowsPrec :: forall (a :: Symbol). Int -&gt; Label a -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span id="local-6989586621679070764"><span id="local-6989586621679070765"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679070765"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679070764"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsLabel</span></span><span> </span><span class="annot"><a href="#local-6989586621679070765"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070764"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if __GLASGOW_HASKELL__ &lt; 802
</span><span>  </span><span class="hs-identifier">fromLabel</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Label</span><span class="hs-cpp">
#else
</span><span>  </span><span id="local-6989586621679070761"><span class="annot"><span class="annottext">fromLabel :: Label s'
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromLabel</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Label s'
forall (a :: Symbol). Label a
</span><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-var">Label</span></a></span></span></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- | Defines a constraint that lets us extract the label from an</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- 'ElField'. Used in 'rmapf' and 'rpuref'.</span><span>
</span><span id="line-173"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Fst"><span class="hs-identifier hs-type">Fst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071017"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679071017"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Fst"><span class="hs-identifier hs-type">Fst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071017"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Snd"><span class="hs-identifier hs-type">Snd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071017"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="KnownField"><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-var">KnownField</span></a></span></span><span> </span><span id="local-6989586621679071017"><span class="annot"><a href="#local-6989586621679071017"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-174"></span><span id="local-6989586621679070758"><span id="local-6989586621679070759"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070759"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070759"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070758"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span></span></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-comment">-- | Shorthand for working with records of fields as in 'rmapf' and</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- 'rpuref'.</span><span>
</span><span id="line-178"></span><span class="hs-keyword">type</span><span> </span><span id="AllFields"><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-var">AllFields</span></a></span></span><span> </span><span id="local-6989586621679070754"><span class="annot"><a href="#local-6989586621679070754"><span class="hs-identifier hs-type">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Core.html#RPureConstrained"><span class="hs-identifier hs-type">RPureConstrained</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070754"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#RecApplicative"><span class="hs-identifier hs-type">RecApplicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070754"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070754"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- | Map a function between functors across a 'Rec' taking advantage</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- of knowledge that each element is an 'ElField'.</span><span>
</span><span id="line-182"></span><span id="local-6989586621679070947"><span id="local-6989586621679070948"><span id="local-6989586621679070950"><span class="annot"><a href="Data.Vinyl.Derived.html#rmapf"><span class="hs-identifier hs-type">rmapf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070950"><span class="hs-identifier hs-type">fs</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679071015"><span class="annot"><a href="#local-6989586621679071015"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071015"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070948"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071015"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070947"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679071015"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070948"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070950"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070947"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070950"><span class="hs-identifier hs-type">fs</span></a></span></span></span></span><span>
</span><span id="line-185"></span><span id="rmapf"><span class="annot"><span class="annottext">rmapf :: (forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a)
-&gt; Rec f fs -&gt; Rec g fs
</span><a href="Data.Vinyl.Derived.html#rmapf"><span class="hs-identifier hs-var hs-var">rmapf</span></a></span></span><span> </span><span id="local-6989586621679070751"><span class="annot"><span class="annottext">forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a
</span><a href="#local-6989586621679070751"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall (a :: (Symbol, k)). KnownField a =&gt; Lift (-&gt;) f g a)
-&gt; Rec (Lift (-&gt;) f g) fs
forall u (c :: u -&gt; Constraint) (ts :: [u]) (f :: u -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: u). c a =&gt; f a) -&gt; Rec f ts
</span><a href="Data.Vinyl.Core.html#rpureConstrained"><span class="hs-identifier hs-var">rpureConstrained</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f a -&gt; g a) -&gt; Lift (-&gt;) f g a
forall l l' k (op :: l -&gt; l' -&gt; *) (f :: k -&gt; l) (g :: k -&gt; l')
       (x :: k).
op (f x) (g x) -&gt; Lift op f g x
</span><a href="Data.Vinyl.Functor.html#Lift"><span class="hs-identifier hs-var">Lift</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; g a
forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a
</span><a href="#local-6989586621679070751"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rec (Lift (-&gt;) f g) fs -&gt; Rec f fs -&gt; Rec g fs
forall u (rs :: [u]) (f :: u -&gt; *) (g :: u -&gt; *).
RApply rs =&gt;
Rec (Lift (-&gt;) f g) rs -&gt; Rec f rs -&gt; Rec g rs
</span><a href="Data.Vinyl.Core.html#%3C%3C%2A%3E%3E"><span class="hs-operator hs-var">&lt;&lt;*&gt;&gt;</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- | Remove the first component (e.g. the label) from a type-level</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- list of pairs.</span><span>
</span><span id="line-189"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Unlabeled"><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-var">Unlabeled</span></a></span></span><span> </span><span id="local-6989586621679070747"><span class="annot"><a href="#local-6989586621679070747"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>  </span><span id="Unlabeled"><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-var">Unlabeled</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-191"></span><span>  </span><span id="Unlabeled"><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-var">Unlabeled</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-special">(</span><span id="local-6989586621679070746"><span class="annot"><a href="#local-6989586621679070746"><span class="hs-identifier hs-type hs-type">s</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679070745"><span class="annot"><a href="#local-6989586621679070745"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679070744"><span class="annot"><a href="#local-6989586621679070744"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679070745"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070744"><span class="hs-identifier hs-type">xs</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-comment">-- | Facilities for removing and replacing the type-level label, or</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- column name, part of a record.</span><span>
</span><span id="line-195"></span><span class="hs-keyword">class</span><span> </span><span id="StripFieldNames"><span class="annot"><a href="Data.Vinyl.Derived.html#StripFieldNames"><span class="hs-identifier hs-var">StripFieldNames</span></a></span></span><span> </span><span id="local-6989586621679070985"><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>  </span><span id="stripNames"><span class="annot"><a href="Data.Vinyl.Derived.html#stripNames"><span class="hs-identifier hs-type">stripNames</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>  </span><span id="local-6989586621679070989"><span id="stripNames%27"><span class="annot"><a href="Data.Vinyl.Derived.html#stripNames%27"><span class="hs-identifier hs-type">stripNames'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679070989"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070989"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070989"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-198"></span><span>  </span><span id="withNames"><span class="annot"><a href="Data.Vinyl.Derived.html#withNames"><span class="hs-identifier hs-type">withNames</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span id="local-6989586621679070987"><span id="withNames%27"><span class="annot"><a href="Data.Vinyl.Derived.html#withNames%27"><span class="hs-identifier hs-type">withNames'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679070987"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070987"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070987"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679070985"><span class="hs-identifier hs-type">ts</span></a></span></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#StripFieldNames"><span class="hs-identifier hs-type">StripFieldNames</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>  </span><span id="local-6989586621679070734"><span class="annot"><span class="annottext">stripNames :: Rec ElField '[] -&gt; Rec Identity (Unlabeled '[])
</span><a href="#local-6989586621679070734"><span class="hs-identifier hs-var hs-var hs-var hs-var">stripNames</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec ElField '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec Identity (Unlabeled '[])
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-203"></span><span>  </span><span id="local-6989586621679070733"><span class="annot"><span class="annottext">stripNames' :: Rec (f :. ElField) '[] -&gt; Rec f (Unlabeled '[])
</span><a href="#local-6989586621679070733"><span class="hs-identifier hs-var hs-var hs-var hs-var">stripNames'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec (f :. ElField) '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f (Unlabeled '[])
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span id="local-6989586621679070732"><span class="annot"><span class="annottext">withNames :: Rec Identity (Unlabeled '[]) -&gt; Rec ElField '[]
</span><a href="#local-6989586621679070732"><span class="hs-identifier hs-var hs-var hs-var hs-var">withNames</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec Identity (Unlabeled '[])
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec ElField '[]
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-205"></span><span>  </span><span id="local-6989586621679070731"><span class="annot"><span class="annottext">withNames' :: Rec f (Unlabeled '[]) -&gt; Rec (f :. ElField) '[]
</span><a href="#local-6989586621679070731"><span class="hs-identifier hs-var hs-var hs-var hs-var">withNames'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f (Unlabeled '[])
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec (f :. ElField) '[]
forall u (f :: u -&gt; *). Rec f '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span id="local-6989586621679070728"><span id="local-6989586621679070729"><span id="local-6989586621679070730"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070730"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#StripFieldNames"><span class="hs-identifier hs-type">StripFieldNames</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070729"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#StripFieldNames"><span class="hs-identifier hs-type">StripFieldNames</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070730"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679070728"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679070729"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span id="local-6989586621679070723"><span class="annot"><span class="annottext">stripNames :: Rec ElField ('(s, t) : ts)
-&gt; Rec Identity (Unlabeled ('(s, t) : ts))
</span><a href="#local-6989586621679070723"><span class="hs-identifier hs-var hs-var hs-var hs-var">stripNames</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679070722"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679070722"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679070721"><span class="annot"><span class="annottext">Rec ElField rs
</span><a href="#local-6989586621679070721"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Identity t
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679070722"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Identity t
-&gt; Rec Identity (Unlabeled ts) -&gt; Rec Identity (t : Unlabeled ts)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec ElField rs -&gt; Rec Identity (Unlabeled rs)
forall (ts :: [(Symbol, *)]).
StripFieldNames ts =&gt;
Rec ElField ts -&gt; Rec Identity (Unlabeled ts)
</span><a href="Data.Vinyl.Derived.html#stripNames"><span class="hs-identifier hs-var">stripNames</span></a></span><span> </span><span class="annot"><span class="annottext">Rec ElField rs
</span><a href="#local-6989586621679070721"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span id="local-6989586621679070720"><span class="annot"><span class="annottext">stripNames' :: Rec (f :. ElField) ('(s, t) : ts)
-&gt; Rec f (Unlabeled ('(s, t) : ts))
</span><a href="#local-6989586621679070720"><span class="hs-identifier hs-var hs-var hs-var hs-var">stripNames'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Compose"><span class="hs-identifier hs-type">Compose</span></a></span><span> </span><span id="local-6989586621679070718"><span class="annot"><span class="annottext">f (ElField r)
</span><a href="#local-6989586621679070718"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679070717"><span class="annot"><span class="annottext">Rec (f :. ElField) rs
</span><a href="#local-6989586621679070717"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ElField '(s, t) -&gt; t) -&gt; f (ElField '(s, t)) -&gt; f t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">ElField '(s, t) -&gt; t
forall (s :: Symbol) t. ElField '(s, t) -&gt; t
</span><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="annot"><span class="annottext">f (ElField r)
f (ElField '(s, t))
</span><a href="#local-6989586621679070718"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">f t -&gt; Rec f (Unlabeled ts) -&gt; Rec f (t : Unlabeled ts)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec (f :. ElField) rs -&gt; Rec f (Unlabeled rs)
forall (ts :: [(Symbol, *)]) (f :: * -&gt; *).
(StripFieldNames ts, Functor f) =&gt;
Rec (f :. ElField) ts -&gt; Rec f (Unlabeled ts)
</span><a href="Data.Vinyl.Derived.html#stripNames%27"><span class="hs-identifier hs-var">stripNames'</span></a></span><span> </span><span class="annot"><span class="annottext">Rec (f :. ElField) rs
</span><a href="#local-6989586621679070717"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-210"></span><span>  </span><span id="local-6989586621679070716"><span class="annot"><span class="annottext">withNames :: Rec Identity (Unlabeled ('(s, t) : ts))
-&gt; Rec ElField ('(s, t) : ts)
</span><a href="#local-6989586621679070716"><span class="hs-identifier hs-var hs-var hs-var hs-var">withNames</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span id="local-6989586621679070714"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679070714"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679070713"><span class="annot"><span class="annottext">Rec Identity rs
</span><a href="#local-6989586621679070713"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; ElField '(s, r)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679070714"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">ElField '(s, r) -&gt; Rec ElField ts -&gt; Rec ElField ('(s, r) : ts)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec Identity (Unlabeled ts) -&gt; Rec ElField ts
forall (ts :: [(Symbol, *)]).
StripFieldNames ts =&gt;
Rec Identity (Unlabeled ts) -&gt; Rec ElField ts
</span><a href="Data.Vinyl.Derived.html#withNames"><span class="hs-identifier hs-var">withNames</span></a></span><span> </span><span class="annot"><span class="annottext">Rec Identity rs
Rec Identity (Unlabeled ts)
</span><a href="#local-6989586621679070713"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-211"></span><span>  </span><span id="local-6989586621679070712"><span class="annot"><span class="annottext">withNames' :: Rec f (Unlabeled ('(s, t) : ts))
-&gt; Rec (f :. ElField) ('(s, t) : ts)
</span><a href="#local-6989586621679070712"><span class="hs-identifier hs-var hs-var hs-var hs-var">withNames'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679070711"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679070711"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679070710"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679070710"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (ElField '(s, r)) -&gt; Compose f ElField '(s, r)
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><a href="Data.Vinyl.Functor.html#Compose"><span class="hs-identifier hs-var">Compose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(r -&gt; ElField '(s, r)) -&gt; f r -&gt; f (ElField '(s, r))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; ElField '(s, r)
forall (s :: Symbol) t. KnownSymbol s =&gt; t -&gt; ElField '(s, t)
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679070711"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Compose f ElField '(s, r)
-&gt; Rec (f :. ElField) ts -&gt; Rec (f :. ElField) ('(s, r) : ts)
forall a (f :: a -&gt; *) (r :: a) (rs :: [a]).
f r -&gt; Rec f rs -&gt; Rec f (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f (Unlabeled ts) -&gt; Rec (f :. ElField) ts
forall (ts :: [(Symbol, *)]) (f :: * -&gt; *).
(StripFieldNames ts, Functor f) =&gt;
Rec f (Unlabeled ts) -&gt; Rec (f :. ElField) ts
</span><a href="Data.Vinyl.Derived.html#withNames%27"><span class="hs-identifier hs-var">withNames'</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
Rec f (Unlabeled ts)
</span><a href="#local-6989586621679070710"><span class="hs-identifier hs-var">xs</span></a></span></span></span></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-comment">-- | Construct a 'Rec' with 'ElField' elements.</span><span>
</span><span id="line-214"></span><span id="local-6989586621679070941"><span id="local-6989586621679070942"><span class="annot"><a href="Data.Vinyl.Derived.html#rpuref"><span class="hs-identifier hs-type">rpuref</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070942"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070959"><span class="annot"><a href="#local-6989586621679070959"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070959"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070941"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070959"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070941"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070942"><span class="hs-identifier hs-type">fs</span></a></span></span></span><span>
</span><span id="line-215"></span><span id="rpuref"><span class="annot"><span class="annottext">rpuref :: (forall (a :: (Symbol, k)). KnownField a =&gt; f a) -&gt; Rec f fs
</span><a href="Data.Vinyl.Derived.html#rpuref"><span class="hs-identifier hs-var hs-var">rpuref</span></a></span></span><span> </span><span id="local-6989586621679070708"><span class="annot"><span class="annottext">forall (a :: (Symbol, k)). KnownField a =&gt; f a
</span><a href="#local-6989586621679070708"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: (Symbol, k)). KnownField a =&gt; f a) -&gt; Rec f fs
forall u (c :: u -&gt; Constraint) (ts :: [u]) (f :: u -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: u). c a =&gt; f a) -&gt; Rec f ts
</span><a href="Data.Vinyl.Core.html#rpureConstrained"><span class="hs-identifier hs-var">rpureConstrained</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: (Symbol, k)). KnownField a =&gt; f a
</span><a href="#local-6989586621679070708"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-comment">-- | Operator synonym for 'rmapf'.</span><span>
</span><span id="line-218"></span><span id="local-6989586621679070705"><span id="local-6989586621679070706"><span id="local-6989586621679070707"><span class="annot"><a href="Data.Vinyl.Derived.html#%3C%3C%24%24%3E%3E"><span class="hs-operator hs-type">(&lt;&lt;$$&gt;&gt;)</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070707"><span class="hs-identifier hs-type">fs</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070955"><span class="annot"><a href="#local-6989586621679070955"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070955"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070706"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070955"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679070705"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070955"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070706"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070707"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070705"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070707"><span class="hs-identifier hs-type">fs</span></a></span></span></span></span><span>
</span><span id="line-221"></span><span id="%3C%3C%24%24%3E%3E"><span class="annot"><span class="annottext">&lt;&lt;$$&gt;&gt; :: (forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a)
-&gt; Rec f fs -&gt; Rec g fs
</span><a href="Data.Vinyl.Derived.html#%3C%3C%24%24%3E%3E"><span class="hs-operator hs-var hs-var">(&lt;&lt;$$&gt;&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a)
-&gt; Rec f fs -&gt; Rec g fs
forall k (fs :: [(Symbol, k)]) (f :: (Symbol, k) -&gt; *)
       (g :: (Symbol, k) -&gt; *).
AllFields fs =&gt;
(forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a)
-&gt; Rec f fs -&gt; Rec g fs
</span><a href="Data.Vinyl.Derived.html#rmapf"><span class="hs-identifier hs-var">rmapf</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-comment">-- | Produce a 'Rec' of the labels of a 'Rec' of 'ElField's.</span><span>
</span><span id="line-224"></span><span id="local-6989586621679070703"><span class="annot"><a href="Data.Vinyl.Derived.html#rlabels"><span class="hs-identifier hs-type">rlabels</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070703"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Const"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679070703"><span class="hs-identifier hs-type">fs</span></a></span></span><span>
</span><span id="line-225"></span><span id="rlabels"><span class="annot"><span class="annottext">rlabels :: Rec (Const String) fs
</span><a href="Data.Vinyl.Derived.html#rlabels"><span class="hs-identifier hs-var hs-var">rlabels</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: (Symbol, k)). KnownField a =&gt; Const String a)
-&gt; Rec (Const String) fs
forall k (fs :: [(Symbol, k)]) (f :: (Symbol, k) -&gt; *).
AllFields fs =&gt;
(forall (a :: (Symbol, k)). KnownField a =&gt; f a) -&gt; Rec f fs
</span><a href="Data.Vinyl.Derived.html#rpuref"><span class="hs-identifier hs-var">rpuref</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (l :: Symbol) (v :: k).
KnownSymbol l =&gt;
Const String (l ::: v)
forall (a :: (Symbol, k)). KnownField a =&gt; Const String a
</span><a href="#local-6989586621679070701"><span class="hs-identifier hs-var">getLabel'</span></a></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621679070701"><span class="hs-identifier hs-type">getLabel'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679070939"><span class="annot"><a href="#local-6989586621679070939"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679070938"><span class="annot"><a href="#local-6989586621679070938"><span class="hs-identifier hs-type">v</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679070939"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-227"></span><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Const"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679070939"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679070938"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>        </span><span id="local-6989586621679070701"><span class="annot"><span class="annottext">getLabel' :: Const String (l ::: v)
</span><a href="#local-6989586621679070701"><span class="hs-identifier hs-var hs-var">getLabel'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Const String (l ::: v)
forall k a (b :: k). a -&gt; Const a b
</span><a href="Data.Vinyl.Functor.html#Const"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy l -&gt; String
forall (n :: Symbol) (proxy :: Symbol -&gt; *).
KnownSymbol n =&gt;
proxy n -&gt; String
</span><span class="hs-identifier hs-var">symbolVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy l
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679070939"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="hs-comment">-- * Specializations for working with an 'ARec' of named fields.</span><span>
</span><span id="line-231"></span></pre></body></html>