<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module      :  Graphics.Rendering.Chart.Grid</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Copyright   :  (c) Tim Docker 2010, 2014</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- License     :  BSD-style (see chart/COPYRIGHT)</span><span>
</span><span id="line-6"></span><span class="hs-comment">--</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- A container type for values that can be composed by horizonal</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- and vertical layout.</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Graphics.Rendering.Chart.Grid</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier">Grid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier">Span</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier">SpaceWeight</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tval"><span class="hs-identifier">tval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier">tspan</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#empty"><span class="hs-identifier">empty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier">nullt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#.%7C."><span class="hs-operator">(.|.)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#.%2F."><span class="hs-operator">(./.)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier">above</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#aboveN"><span class="hs-identifier">aboveN</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier">beside</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#besideN"><span class="hs-identifier">besideN</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier">overlay</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier">width</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier">height</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#gridToRenderable"><span class="hs-identifier">gridToRenderable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier">weights</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#aboveWide"><span class="hs-identifier">aboveWide</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#wideAbove"><span class="hs-identifier">wideAbove</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tallBeside"><span class="hs-identifier">tallBeside</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#besideTall"><span class="hs-identifier">besideTall</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayUnder"><span class="hs-identifier">fullOverlayUnder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayOver"><span class="hs-identifier">fullOverlayOver</span></a></span><span>
</span><span id="line-27"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Array</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html"><span class="hs-identifier">Graphics.Rendering.Chart.Renderable</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html"><span class="hs-identifier">Graphics.Rendering.Chart.Geometry</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#x0"><span class="hs-identifier">x0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#y0"><span class="hs-identifier">y0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Drawing.html"><span class="hs-identifier">Graphics.Rendering.Chart.Drawing</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">type</span><span> </span><span id="Span"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-var">Span</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">type</span><span> </span><span id="Size"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Size"><span class="hs-identifier hs-var">Size</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-comment">-- | When more space is available for an item than the total width of items,</span><span>
</span><span id="line-39"></span><span class="hs-comment">--   extra added space is proportional to 'space weight'.</span><span>
</span><span id="line-40"></span><span class="hs-keyword">type</span><span> </span><span id="SpaceWeight"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-var">SpaceWeight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">type</span><span> </span><span id="Cell"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Cell"><span class="hs-identifier hs-var">Cell</span></a></span></span><span> </span><span id="local-6989586621679397209"><span class="annot"><a href="#local-6989586621679397209"><span class="hs-identifier hs-type">a</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679397209"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-type">SpaceWeight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="annot"><span class="hs-comment">-- | Abstract datatype representing a grid.</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">data</span><span> </span><span id="Grid"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-var">Grid</span></a></span></span><span> </span><span id="local-6989586621679397031"><span class="annot"><a href="#local-6989586621679397031"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Value"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679397031"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-type">SpaceWeight</span></a></span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- ^ A singleton grid item &quot;a&quot; spanning</span><span>
</span><span id="line-47"></span><span>                                       </span><span class="hs-comment">--   a given rectangle (measured in grid</span><span>
</span><span id="line-48"></span><span>                                       </span><span class="hs-comment">--   cells), with given space weight.</span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Above"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397031"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397031"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span>     </span><span class="hs-comment">-- ^ One grid above the other. &quot;Size&quot; is</span><span>
</span><span id="line-50"></span><span>                                       </span><span class="hs-comment">--   their cached total size (so it is</span><span>
</span><span id="line-51"></span><span>                                       </span><span class="hs-comment">--   NOT specified manually).</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Beside"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397031"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397031"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span>    </span><span class="hs-comment">-- ^ One grid horizontally beside</span><span>
</span><span id="line-53"></span><span>                                       </span><span class="hs-comment">--   the other.</span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Overlay"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397031"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397031"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Size"><span class="hs-identifier hs-type">Size</span></a></span><span>   </span><span class="hs-comment">-- ^ Two grids positioned one over</span><span>
</span><span id="line-55"></span><span>                                       </span><span class="hs-comment">--   the other.</span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Empty"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span></span><span>                            </span><span class="annot"><span class="hs-comment">-- ^ An empty 1x1 grid cell.</span></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Null"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span></span><span>                             </span><span class="annot"><span class="hs-comment">-- ^ An empty 0x0 grid cell.</span></span><span>
</span><span id="line-58"></span><span>   </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397218"><span id="local-6989586621679397239"><span id="local-6989586621679397242"><span class="annot"><span class="annottext">Int -&gt; Grid a -&gt; ShowS
[Grid a] -&gt; ShowS
Grid a -&gt; String
(Int -&gt; Grid a -&gt; ShowS)
-&gt; (Grid a -&gt; String) -&gt; ([Grid a] -&gt; ShowS) -&gt; Show (Grid a)
forall a. Show a =&gt; Int -&gt; Grid a -&gt; ShowS
forall a. Show a =&gt; [Grid a] -&gt; ShowS
forall a. Show a =&gt; Grid a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; Grid a -&gt; ShowS
showsPrec :: Int -&gt; Grid a -&gt; ShowS
$cshow :: forall a. Show a =&gt; Grid a -&gt; String
show :: Grid a -&gt; String
$cshowList :: forall a. Show a =&gt; [Grid a] -&gt; ShowS
showList :: [Grid a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span id="local-6989586621679397026"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-type">width</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397026"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-61"></span><span id="width"><span class="annot"><span class="annottext">width :: forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-62"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-63"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-64"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397252"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397252"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397252"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-65"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397253"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397253"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397253"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-66"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397254"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397254"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397254"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span id="local-6989586621679397255"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-type">height</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397255"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-69"></span><span id="height"><span class="annot"><span class="annottext">height :: forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var hs-var">height</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-70"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-71"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-72"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679397256"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397256"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397256"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-73"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679397257"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397257"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397257"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-74"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679397258"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397258"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397258"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="annot"><span class="hs-comment">-- | A 1x1 grid from a given value, with no extra space.</span></span><span>
</span><span id="line-77"></span><span id="local-6989586621679397029"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tval"><span class="hs-identifier hs-type">tval</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679397029"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397029"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-78"></span><span id="tval"><span class="annot"><span class="annottext">tval :: forall a. a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tval"><span class="hs-identifier hs-var hs-var">tval</span></a></span></span><span> </span><span id="local-6989586621679397259"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397259"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight) -&gt; Grid a
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397259"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="annot"><span class="hs-comment">-- | A WxH (measured in cells) grid from a given value, with space weight (1,1).</span></span><span>
</span><span id="line-81"></span><span id="local-6989586621679397032"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-type">tspan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679397032"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397032"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-82"></span><span id="tspan"><span class="annot"><span class="annottext">tspan :: forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var hs-var">tspan</span></a></span></span><span> </span><span id="local-6989586621679397260"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397260"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679397261"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397261"><span class="hs-identifier hs-var">spn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight) -&gt; Grid a
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397260"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397261"><span class="hs-identifier hs-var">spn</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="annot"><span class="hs-comment">-- | A 1x1 empty grid.</span></span><span>
</span><span id="line-85"></span><span id="local-6989586621679397034"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#empty"><span class="hs-identifier hs-type">empty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397034"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-86"></span><span id="empty"><span class="annot"><span class="annottext">empty :: forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#empty"><span class="hs-identifier hs-var hs-var">empty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="annot"><span class="hs-comment">-- | A 0x0 empty grid.</span></span><span>
</span><span id="line-89"></span><span id="local-6989586621679397262"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier hs-type">nullt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397262"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-90"></span><span id="nullt"><span class="annot"><span class="annottext">nullt :: forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier hs-var hs-var">nullt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span id="local-6989586621679397037"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-type">above</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-type">beside</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397037"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397037"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397037"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-93"></span><span id="above"><span class="annot"><span class="annottext">above :: forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span id="local-6989586621679397263"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397263"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397263"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-94"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span id="local-6989586621679397264"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397264"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397264"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-95"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span id="local-6989586621679397265"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397265"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397266"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397266"><span class="hs-identifier hs-var">t2</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397265"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397266"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397267"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679397267"><span class="annot"><span class="annottext">size :: Span
</span><a href="#local-6989586621679397267"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397265"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397266"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397265"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397266"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="annot"><span class="hs-comment">-- | A value occupying 1 row with the same  horizontal span as the grid.</span></span><span>
</span><span id="line-99"></span><span id="local-6989586621679397041"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#wideAbove"><span class="hs-identifier hs-type">wideAbove</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679397041"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397041"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397041"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-100"></span><span id="wideAbove"><span class="annot"><span class="annottext">wideAbove :: forall a. a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#wideAbove"><span class="hs-identifier hs-var hs-var">wideAbove</span></a></span></span><span> </span><span id="local-6989586621679397273"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397273"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679397274"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397274"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397273"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397274"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-operator hs-var">`above`</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397274"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-comment">-- | A value placed below the grid, occupying 1 row with the same</span><span>
</span><span id="line-103"></span><span class="hs-comment">--   horizontal span as the grid.</span><span>
</span><span id="line-104"></span><span id="local-6989586621679397044"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#aboveWide"><span class="hs-identifier hs-type">aboveWide</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397044"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679397044"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397044"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-105"></span><span id="aboveWide"><span class="annot"><span class="annottext">aboveWide :: forall a. Grid a -&gt; a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#aboveWide"><span class="hs-identifier hs-var hs-var">aboveWide</span></a></span></span><span> </span><span id="local-6989586621679397275"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397275"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679397276"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397276"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397275"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-operator hs-var">`above`</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397276"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397275"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- | A value placed to the left of the grid, occupying 1 column with</span><span>
</span><span id="line-108"></span><span class="hs-comment">--   the same vertical span as the grid.</span><span>
</span><span id="line-109"></span><span id="local-6989586621679397277"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#tallBeside"><span class="hs-identifier hs-type">tallBeside</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679397277"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397277"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397277"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-110"></span><span id="tallBeside"><span class="annot"><span class="annottext">tallBeside :: forall a. a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tallBeside"><span class="hs-identifier hs-var hs-var">tallBeside</span></a></span></span><span>  </span><span id="local-6989586621679397278"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397278"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679397279"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397279"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397278"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397279"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-operator hs-var">`beside`</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397279"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">-- | A value placed to the right of the grid, occupying 1 column with</span><span>
</span><span id="line-113"></span><span class="hs-comment">--   the same vertical span as the grid.</span><span>
</span><span id="line-114"></span><span id="local-6989586621679397280"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#besideTall"><span class="hs-identifier hs-type">besideTall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397280"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679397280"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397280"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-115"></span><span id="besideTall"><span class="annot"><span class="annottext">besideTall :: forall a. Grid a -&gt; a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#besideTall"><span class="hs-identifier hs-var hs-var">besideTall</span></a></span></span><span> </span><span id="local-6989586621679397281"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397281"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679397282"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397282"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397281"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-operator hs-var">`beside`</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397282"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397281"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="annot"><span class="hs-comment">-- | A value placed under a grid, with the same span as the grid.</span></span><span>
</span><span id="line-118"></span><span id="local-6989586621679397283"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayUnder"><span class="hs-identifier hs-type">fullOverlayUnder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679397283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397283"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-119"></span><span id="fullOverlayUnder"><span class="annot"><span class="annottext">fullOverlayUnder :: forall a. a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayUnder"><span class="hs-identifier hs-var hs-var">fullOverlayUnder</span></a></span></span><span> </span><span id="local-6989586621679397284"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397284"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679397285"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397285"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397285"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-operator hs-var">`overlay`</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397284"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397285"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397285"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="annot"><span class="hs-comment">-- | A value placed over a grid, with the same span as the grid.</span></span><span>
</span><span id="line-122"></span><span id="local-6989586621679397286"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayOver"><span class="hs-identifier hs-type">fullOverlayOver</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679397286"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397286"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397286"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-123"></span><span id="fullOverlayOver"><span class="annot"><span class="annottext">fullOverlayOver :: forall a. a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#fullOverlayOver"><span class="hs-identifier hs-var hs-var">fullOverlayOver</span></a></span></span><span>  </span><span id="local-6989586621679397287"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397287"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679397288"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397288"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Span -&gt; Grid a
forall a. a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#tspan"><span class="hs-identifier hs-var">tspan</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397287"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397288"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397288"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-operator hs-var">`overlay`</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397288"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span id="beside"><span class="annot"><span class="annottext">beside :: forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var hs-var">beside</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span id="local-6989586621679397289"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397289"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397289"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var">beside</span></a></span><span> </span><span id="local-6989586621679397290"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397290"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397290"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-127"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var">beside</span></a></span><span> </span><span id="local-6989586621679397291"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397291"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397292"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397292"><span class="hs-identifier hs-var">t2</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397291"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397292"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397293"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679397293"><span class="annot"><span class="annottext">size :: Span
</span><a href="#local-6989586621679397293"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397291"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397292"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397291"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397292"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span id="local-6989586621679397051"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#aboveN"><span class="hs-identifier hs-type">aboveN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#besideN"><span class="hs-identifier hs-type">besideN</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397051"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397051"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-131"></span><span id="aboveN"><span class="annot"><span class="annottext">aboveN :: forall a. [Grid a] -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#aboveN"><span class="hs-identifier hs-var hs-var">aboveN</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Grid a -&gt; Grid a -&gt; Grid a) -&gt; Grid a -&gt; [Grid a] -&gt; Grid a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier hs-var">nullt</span></a></span><span>
</span><span id="line-132"></span><span id="besideN"><span class="annot"><span class="annottext">besideN :: forall a. [Grid a] -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#besideN"><span class="hs-identifier hs-var hs-var">besideN</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Grid a -&gt; Grid a -&gt; Grid a) -&gt; Grid a -&gt; [Grid a] -&gt; Grid a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var">beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#nullt"><span class="hs-identifier hs-var">nullt</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><span class="hs-comment">-- | One grid over the other. The first argument is shallow, the second is deep.</span></span><span>
</span><span id="line-135"></span><span id="local-6989586621679397300"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier hs-type">overlay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397300"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397300"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397300"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-136"></span><span id="overlay"><span class="annot"><span class="annottext">overlay :: forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier hs-var hs-var">overlay</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span id="local-6989586621679397301"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397301"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397301"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-137"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier hs-var">overlay</span></a></span><span> </span><span id="local-6989586621679397302"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397302"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397302"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-138"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#overlay"><span class="hs-identifier hs-var">overlay</span></a></span><span> </span><span id="local-6989586621679397303"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397303"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397304"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397304"><span class="hs-identifier hs-var">t2</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397303"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397304"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397305"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679397305"><span class="annot"><span class="annottext">size :: Span
</span><a href="#local-6989586621679397305"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397303"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397304"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397303"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397304"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="annot"><span class="hs-comment">-- | A synonym for 'beside'.</span></span><span>
</span><span id="line-142"></span><span id="local-6989586621679397308"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#.%7C."><span class="hs-operator hs-type">(.|.)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397308"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397308"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397308"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-143"></span><span id=".%7C."><span class="annot"><span class="annottext">.|. :: forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#.%7C."><span class="hs-operator hs-var hs-var">(.|.)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#beside"><span class="hs-identifier hs-var">beside</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="annot"><span class="hs-comment">-- | A synonym for 'above'.</span></span><span>
</span><span id="line-146"></span><span id="local-6989586621679397309"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#.%2F."><span class="hs-operator hs-type">(./.)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397309"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397309"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397309"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-147"></span><span id=".%2F."><span class="annot"><span class="annottext">./. :: forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#.%2F."><span class="hs-operator hs-var hs-var">(./.)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#above"><span class="hs-identifier hs-var">above</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="annot"><span class="hs-comment">-- | Sets the space weight of *every* cell of the grid to given value.</span></span><span>
</span><span id="line-150"></span><span id="local-6989586621679397043"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-type">weights</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-type">SpaceWeight</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397043"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397043"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-151"></span><span id="weights"><span class="annot"><span class="annottext">weights :: forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var hs-var">weights</span></a></span></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-152"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span id="local-6989586621679397310"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397310"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397311"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397311"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397312"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397312"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Span, SpaceWeight) -&gt; Grid a
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397311"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397312"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397310"><span class="hs-identifier hs-var">sw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span id="local-6989586621679397313"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397313"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679397314"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397314"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397315"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397315"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397316"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397316"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397313"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397314"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397313"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397315"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397316"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-155"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span id="local-6989586621679397317"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397317"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679397318"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397318"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397319"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397319"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397320"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397320"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397317"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397318"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397317"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397319"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397320"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span id="local-6989586621679397321"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397321"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679397322"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397322"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397323"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397323"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397324"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397324"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397321"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397322"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpaceWeight -&gt; Grid a -&gt; Grid a
forall a. SpaceWeight -&gt; Grid a -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#weights"><span class="hs-identifier hs-var">weights</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397321"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397323"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397324"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">-- fix me, need to make .|. and .||. higher precedence</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- than ./. and .//.</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679397327"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-162"></span><span>    </span><span id="local-6989586621679397337"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Grid a -&gt; Grid b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679397338"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397338"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397339"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397339"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397340"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397340"><span class="hs-identifier hs-var">spn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397341"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397341"><span class="hs-identifier hs-var">ew</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b, Span, SpaceWeight) -&gt; Grid b
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397338"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397339"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397340"><span class="hs-identifier hs-var">spn</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397341"><span class="hs-identifier hs-var">ew</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span id="local-6989586621679397342"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397342"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679397343"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397343"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397344"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397344"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397345"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397345"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall a b. (a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397342"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397343"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall a b. (a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397342"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397344"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397345"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span id="local-6989586621679397346"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397346"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679397347"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397347"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397348"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397348"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397349"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397349"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall a b. (a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397346"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397347"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall a b. (a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397346"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397348"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397349"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span id="local-6989586621679397350"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397350"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679397351"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397351"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397352"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397352"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397353"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397353"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall a b. (a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397350"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397351"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Grid a -&gt; Grid b
forall a b. (a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679397350"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397352"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397353"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span id="local-6989586621679397068"><span id="local-6989586621679397069"><span id="local-6989586621679397070"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-type">mapGridM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679397068"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679397069"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679397068"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397070"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397069"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679397068"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397070"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-170"></span><span id="mapGridM"><span class="annot"><span class="annottext">mapGridM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var hs-var">mapGridM</span></a></span></span><span> </span><span id="local-6989586621679397375"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397375"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397376"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397376"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397377"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397377"><span class="hs-identifier hs-var">spn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397378"><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397378"><span class="hs-identifier hs-var">ew</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679397379"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397379"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397375"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397376"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-171"></span><span>                                   </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b, Span, SpaceWeight) -&gt; Grid b
forall a. (a, Span, SpaceWeight) -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397379"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397377"><span class="hs-identifier hs-var">spn</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><a href="#local-6989586621679397378"><span class="hs-identifier hs-var">ew</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span id="local-6989586621679397380"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397380"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679397381"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397381"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397382"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397382"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397383"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397383"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679397384"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397384"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397380"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397381"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-173"></span><span>                                   </span><span id="local-6989586621679397385"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397385"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397380"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397382"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-174"></span><span>                                   </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-var">Above</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397384"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397385"><span class="hs-identifier hs-var">t2'</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397383"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span id="local-6989586621679397386"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397386"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679397387"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397387"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397388"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397388"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397389"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397389"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679397390"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397390"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397386"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397387"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-176"></span><span>                                   </span><span id="local-6989586621679397391"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397391"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397386"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397388"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-177"></span><span>                                   </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-var">Beside</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397390"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397391"><span class="hs-identifier hs-var">t2'</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397389"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span id="local-6989586621679397392"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397392"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679397393"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397393"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397394"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397394"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621679397395"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397395"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679397396"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397396"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397392"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397393"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-179"></span><span>                                   </span><span id="local-6989586621679397397"><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397397"><span class="hs-identifier hs-var">t2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679397392"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397394"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-180"></span><span>                                   </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid b -&gt; Grid b -&gt; Span -&gt; Grid b
forall a. Grid a -&gt; Grid a -&gt; Span -&gt; Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-var">Overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397396"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Grid b
</span><a href="#local-6989586621679397397"><span class="hs-identifier hs-var">t2'</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397395"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Grid b
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-182"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid b -&gt; m (Grid b)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Grid b
forall a. Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-comment">----------------------------------------------------------------------</span><span>
</span><span id="line-185"></span><span class="hs-keyword">type</span><span> </span><span id="FlatGrid"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatGrid"><span class="hs-identifier hs-var">FlatGrid</span></a></span></span><span> </span><span id="local-6989586621679397398"><span class="annot"><a href="#local-6989586621679397398"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Array</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679397398"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#SpaceWeight"><span class="hs-identifier hs-type">SpaceWeight</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span id="local-6989586621679397076"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten"><span class="hs-identifier hs-type">flatten</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397076"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatGrid"><span class="hs-identifier hs-type">FlatGrid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397076"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-188"></span><span id="flatten"><span class="annot"><span class="annottext">flatten :: forall a. Grid a -&gt; FlatGrid a
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten"><span class="hs-identifier hs-var hs-var">flatten</span></a></span></span><span> </span><span id="local-6989586621679397409"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397409"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(a, Span, SpaceWeight)]
 -&gt; (a, Span, SpaceWeight) -&gt; [(a, Span, SpaceWeight)])
-&gt; [(a, Span, SpaceWeight)]
-&gt; (Span, Span)
-&gt; [(Span, (a, Span, SpaceWeight))]
-&gt; Array Span [(a, Span, SpaceWeight)]
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((a, Span, SpaceWeight)
 -&gt; [(a, Span, SpaceWeight)] -&gt; [(a, Span, SpaceWeight)])
-&gt; [(a, Span, SpaceWeight)]
-&gt; (a, Span, SpaceWeight)
-&gt; [(a, Span, SpaceWeight)]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397409"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397409"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span
-&gt; Grid a
-&gt; [(Span, (a, Span, SpaceWeight))]
-&gt; [(Span, (a, Span, SpaceWeight))]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397409"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">type</span><span> </span><span id="FlatEl"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatEl"><span class="hs-identifier hs-var">FlatEl</span></a></span></span><span> </span><span id="local-6989586621679397413"><span class="annot"><a href="#local-6989586621679397413"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Cell"><span class="hs-identifier hs-type">Cell</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397413"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span id="local-6989586621679397089"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-type">flatten2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397089"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatEl"><span class="hs-identifier hs-type">FlatEl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397089"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatEl"><span class="hs-identifier hs-type">FlatEl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397089"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-194"></span><span id="flatten2"><span class="annot"><span class="annottext">flatten2 :: forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var hs-var">flatten2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>        </span><span id="local-6989586621679397414"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397414"><span class="hs-identifier hs-var">els</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397414"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-195"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>         </span><span id="local-6989586621679397415"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397415"><span class="hs-identifier hs-var">els</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397415"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span id="local-6989586621679397416"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397416"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span id="local-6989586621679397417"><span class="annot"><span class="annottext">(a, Span, SpaceWeight)
</span><a href="#local-6989586621679397417"><span class="hs-identifier hs-var">cell</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679397418"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397418"><span class="hs-identifier hs-var">els</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397416"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">(a, Span, SpaceWeight)
</span><a href="#local-6989586621679397417"><span class="hs-identifier hs-var">cell</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">FlatEl a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397418"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span id="local-6989586621679397419"><span class="annot"><span class="annottext">i :: Span
</span><a href="#local-6989586621679397419"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679397420"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397420"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397421"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397421"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679397422"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397422"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397423"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397423"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679397424"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397424"><span class="hs-identifier hs-var">els</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397425"><span class="hs-identifier hs-var">f1</span></a></span><span class="annot"><span class="annottext">([FlatEl a] -&gt; [FlatEl a])
-&gt; ([FlatEl a] -&gt; [FlatEl a]) -&gt; [FlatEl a] -&gt; [FlatEl a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397427"><span class="hs-identifier hs-var">f2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397424"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621679397425"><span class="annot"><span class="annottext">f1 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397425"><span class="hs-identifier hs-var hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397419"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397422"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span id="local-6989586621679397427"><span class="annot"><span class="annottext">f2 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397427"><span class="hs-identifier hs-var hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397420"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397421"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397422"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397423"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span id="local-6989586621679397429"><span class="annot"><span class="annottext">i :: Span
</span><a href="#local-6989586621679397429"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679397430"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397430"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397431"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397431"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679397432"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397432"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397433"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397433"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679397434"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397434"><span class="hs-identifier hs-var">els</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397435"><span class="hs-identifier hs-var">f1</span></a></span><span class="annot"><span class="annottext">([FlatEl a] -&gt; [FlatEl a])
-&gt; ([FlatEl a] -&gt; [FlatEl a]) -&gt; [FlatEl a] -&gt; [FlatEl a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397436"><span class="hs-identifier hs-var">f2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397434"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621679397435"><span class="annot"><span class="annottext">f1 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397435"><span class="hs-identifier hs-var hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397429"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397432"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621679397436"><span class="annot"><span class="annottext">f2 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397436"><span class="hs-identifier hs-var hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397430"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid a -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397432"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397431"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397433"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span id="local-6989586621679397438"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397438"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679397439"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397439"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397440"><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397440"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679397441"><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397441"><span class="hs-identifier hs-var">els</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397442"><span class="hs-identifier hs-var">f1</span></a></span><span class="annot"><span class="annottext">([FlatEl a] -&gt; [FlatEl a])
-&gt; ([FlatEl a] -&gt; [FlatEl a]) -&gt; [FlatEl a] -&gt; [FlatEl a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">[FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397443"><span class="hs-identifier hs-var">f2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FlatEl a]
</span><a href="#local-6989586621679397441"><span class="hs-identifier hs-var">els</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>    </span><span id="local-6989586621679397442"><span class="annot"><span class="annottext">f1 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397442"><span class="hs-identifier hs-var hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397438"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397439"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621679397443"><span class="annot"><span class="annottext">f2 :: [FlatEl a] -&gt; [FlatEl a]
</span><a href="#local-6989586621679397443"><span class="hs-identifier hs-var hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
forall a. Span -&gt; Grid a -&gt; [FlatEl a] -&gt; [FlatEl a]
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten2"><span class="hs-identifier hs-var">flatten2</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397438"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Grid a
</span><a href="#local-6989586621679397440"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span id="local-6989586621679397095"><span id="local-6989586621679397097"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-type">foldT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Cell"><span class="hs-identifier hs-type">Cell</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397095"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679397097"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679397097"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679397097"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#FlatGrid"><span class="hs-identifier hs-type">FlatGrid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397095"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679397097"><span class="hs-identifier hs-type">r</span></a></span></span></span><span>
</span><span id="line-214"></span><span id="foldT"><span class="annot"><span class="annottext">foldT :: forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var hs-var">foldT</span></a></span></span><span> </span><span id="local-6989586621679397450"><span class="annot"><span class="annottext">Span -&gt; Cell a -&gt; r -&gt; r
</span><a href="#local-6989586621679397450"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679397451"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679397451"><span class="hs-identifier hs-var">iv</span></a></span></span><span> </span><span id="local-6989586621679397452"><span class="annot"><span class="annottext">FlatGrid a
</span><a href="#local-6989586621679397452"><span class="hs-identifier hs-var">ft</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Span, [Cell a]) -&gt; r -&gt; r) -&gt; r -&gt; [(Span, [Cell a])] -&gt; r
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">(Span, [Cell a]) -&gt; r -&gt; r
forall {t :: * -&gt; *}. Foldable t =&gt; (Span, t (Cell a)) -&gt; r -&gt; r
</span><a href="#local-6989586621679397454"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679397451"><span class="hs-identifier hs-var">iv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FlatGrid a -&gt; [(Span, [Cell a])]
forall i e. Ix i =&gt; Array i e -&gt; [(i, e)]
</span><span class="hs-identifier hs-var">assocs</span></span><span> </span><span class="annot"><span class="annottext">FlatGrid a
</span><a href="#local-6989586621679397452"><span class="hs-identifier hs-var">ft</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-216"></span><span>    </span><span id="local-6989586621679397454"><span class="annot"><span class="annottext">f' :: (Span, t (Cell a)) -&gt; r -&gt; r
</span><a href="#local-6989586621679397454"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397458"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397458"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397459"><span class="annot"><span class="annottext">t (Cell a)
</span><a href="#local-6989586621679397459"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679397460"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679397460"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Cell a -&gt; r -&gt; r) -&gt; r -&gt; t (Cell a) -&gt; r
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Cell a -&gt; r -&gt; r
</span><a href="#local-6989586621679397450"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397458"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679397460"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">t (Cell a)
</span><a href="#local-6989586621679397459"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">----------------------------------------------------------------------</span><span>
</span><span id="line-219"></span><span class="hs-keyword">type</span><span> </span><span id="DArray"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-var">DArray</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Array</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span id="local-6989586621679397105"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#getSizes"><span class="hs-identifier hs-type">getSizes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#Renderable"><span class="hs-identifier hs-type">Renderable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397105"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-222"></span><span id="getSizes"><span class="annot"><span class="annottext">getSizes :: forall a.
Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
</span><a href="Graphics.Rendering.Chart.Grid.html#getSizes"><span class="hs-identifier hs-var hs-var">getSizes</span></a></span></span><span> </span><span id="local-6989586621679397468"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397468"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621679397469"><span class="annot"><span class="annottext">Grid SpaceWeight
</span><a href="#local-6989586621679397469"><span class="hs-identifier hs-var">szs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Renderable a -&gt; ProgramT ChartBackendInstr Identity SpaceWeight)
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Grid SpaceWeight)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Grid a -&gt; m (Grid b)
</span><a href="Graphics.Rendering.Chart.Grid.html#mapGridM"><span class="hs-identifier hs-var">mapGridM</span></a></span><span> </span><span class="annot"><span class="annottext">Renderable a -&gt; ProgramT ChartBackendInstr Identity SpaceWeight
forall a.
Renderable a -&gt; ProgramT ChartBackendInstr Identity SpaceWeight
</span><a href="Graphics.Rendering.Chart.Renderable.html#minsize"><span class="hs-identifier hs-var">minsize</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397468"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#RectSize"><span class="hs-identifier hs-type">RectSize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397472"><span class="annot"><span class="annottext">szs' :: FlatGrid SpaceWeight
</span><a href="#local-6989586621679397472"><span class="hs-identifier hs-var hs-var">szs'</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid SpaceWeight -&gt; FlatGrid SpaceWeight
forall a. Grid a -&gt; FlatGrid a
</span><a href="Graphics.Rendering.Chart.Grid.html#flatten"><span class="hs-identifier hs-var">flatten</span></a></span><span> </span><span class="annot"><span class="annottext">Grid SpaceWeight
</span><a href="#local-6989586621679397469"><span class="hs-identifier hs-var">szs</span></a></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397484"><span class="annot"><span class="annottext">widths :: DArray
</span><a href="#local-6989586621679397484"><span class="hs-identifier hs-var hs-var">widths</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Double -&gt; Span -&gt; [(Int, Double)] -&gt; DArray
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span>  </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397468"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; Cell SpaceWeight -&gt; [(Int, Double)] -&gt; [(Int, Double)])
-&gt; [(Int, Double)] -&gt; FlatGrid SpaceWeight -&gt; [(Int, Double)]
forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var">foldT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double))
-&gt; (Span -&gt; Int)
-&gt; Span
-&gt; Cell SpaceWeight
-&gt; [(Int, Double)]
-&gt; [(Int, Double)]
forall {a} {t} {t} {t} {a} {t}.
(Eq a, Num a) =&gt;
(t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679397485"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double)
forall {a} {b} {b} {b} {p}. (a, b) -&gt; (b, b) -&gt; p -&gt; (a, b)
</span><a href="#local-6989586621679397486"><span class="hs-identifier hs-var">wf</span></a></span><span>  </span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">FlatGrid SpaceWeight
</span><a href="#local-6989586621679397472"><span class="hs-identifier hs-var">szs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397496"><span class="annot"><span class="annottext">heights :: DArray
</span><a href="#local-6989586621679397496"><span class="hs-identifier hs-var hs-var">heights</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Double -&gt; Span -&gt; [(Int, Double)] -&gt; DArray
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397468"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; Cell SpaceWeight -&gt; [(Int, Double)] -&gt; [(Int, Double)])
-&gt; [(Int, Double)] -&gt; FlatGrid SpaceWeight -&gt; [(Int, Double)]
forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var">foldT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double))
-&gt; (Span -&gt; Int)
-&gt; Span
-&gt; Cell SpaceWeight
-&gt; [(Int, Double)]
-&gt; [(Int, Double)]
forall {a} {t} {t} {t} {a} {t}.
(Eq a, Num a) =&gt;
(t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679397485"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double)
forall {a} {a} {a} {b} {p}. (a, a) -&gt; (a, b) -&gt; p -&gt; (a, b)
</span><a href="#local-6989586621679397497"><span class="hs-identifier hs-var">hf</span></a></span><span>  </span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">FlatGrid SpaceWeight
</span><a href="#local-6989586621679397472"><span class="hs-identifier hs-var">szs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397507"><span class="annot"><span class="annottext">xweights :: DArray
</span><a href="#local-6989586621679397507"><span class="hs-identifier hs-var hs-var">xweights</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Double -&gt; Span -&gt; [(Int, Double)] -&gt; DArray
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span>  </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397468"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; Cell SpaceWeight -&gt; [(Int, Double)] -&gt; [(Int, Double)])
-&gt; [(Int, Double)] -&gt; FlatGrid SpaceWeight -&gt; [(Int, Double)]
forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var">foldT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double))
-&gt; (Span -&gt; Int)
-&gt; Span
-&gt; Cell SpaceWeight
-&gt; [(Int, Double)]
-&gt; [(Int, Double)]
forall {a} {t} {t} {t} {a} {t}.
(Eq a, Num a) =&gt;
(t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679397485"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double)
forall {a} {b} {p} {b} {b}. (a, b) -&gt; p -&gt; (b, b) -&gt; (a, b)
</span><a href="#local-6989586621679397508"><span class="hs-identifier hs-var">xwf</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">FlatGrid SpaceWeight
</span><a href="#local-6989586621679397472"><span class="hs-identifier hs-var">szs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397517"><span class="annot"><span class="annottext">yweights :: DArray
</span><a href="#local-6989586621679397517"><span class="hs-identifier hs-var hs-var">yweights</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Double -&gt; Span -&gt; [(Int, Double)] -&gt; DArray
forall i e a.
Ix i =&gt;
(e -&gt; a -&gt; e) -&gt; e -&gt; (i, i) -&gt; [(i, a)] -&gt; Array i e
</span><span class="hs-identifier hs-var">accumArray</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397468"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; Cell SpaceWeight -&gt; [(Int, Double)] -&gt; [(Int, Double)])
-&gt; [(Int, Double)] -&gt; FlatGrid SpaceWeight -&gt; [(Int, Double)]
forall a r. (Span -&gt; Cell a -&gt; r -&gt; r) -&gt; r -&gt; FlatGrid a -&gt; r
</span><a href="Graphics.Rendering.Chart.Grid.html#foldT"><span class="hs-identifier hs-var">foldT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double))
-&gt; (Span -&gt; Int)
-&gt; Span
-&gt; Cell SpaceWeight
-&gt; [(Int, Double)]
-&gt; [(Int, Double)]
forall {a} {t} {t} {t} {a} {t}.
(Eq a, Num a) =&gt;
(t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679397485"><span class="hs-identifier hs-var">ef</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; SpaceWeight -&gt; SpaceWeight -&gt; (Int, Double)
forall {a} {a} {p} {a} {b}. (a, a) -&gt; p -&gt; (a, b) -&gt; (a, b)
</span><a href="#local-6989586621679397518"><span class="hs-identifier hs-var">ywf</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">FlatGrid SpaceWeight
</span><a href="#local-6989586621679397472"><span class="hs-identifier hs-var">szs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><span class="annottext">(DArray, DArray, DArray, DArray)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
forall a. a -&gt; ProgramT ChartBackendInstr Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397484"><span class="hs-identifier hs-var">widths</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397496"><span class="hs-identifier hs-var">heights</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397507"><span class="hs-identifier hs-var">xweights</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397517"><span class="hs-identifier hs-var">yweights</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>      </span><span id="local-6989586621679397486"><span class="annot"><span class="annottext">wf :: (a, b) -&gt; (b, b) -&gt; p -&gt; (a, b)
</span><a href="#local-6989586621679397486"><span class="hs-identifier hs-var hs-var">wf</span></a></span></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679397519"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397519"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397520"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397520"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397519"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397520"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>      </span><span id="local-6989586621679397497"><span class="annot"><span class="annottext">hf :: (a, a) -&gt; (a, b) -&gt; p -&gt; (a, b)
</span><a href="#local-6989586621679397497"><span class="hs-identifier hs-var hs-var">hf</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679397521"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397521"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679397522"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397522"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397521"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397522"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>      </span><span id="local-6989586621679397508"><span class="annot"><span class="annottext">xwf :: (a, b) -&gt; p -&gt; (b, b) -&gt; (a, b)
</span><a href="#local-6989586621679397508"><span class="hs-identifier hs-var hs-var">xwf</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397523"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397523"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-special">(</span><span id="local-6989586621679397524"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397524"><span class="hs-identifier hs-var">xw</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397523"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397524"><span class="hs-identifier hs-var">xw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>      </span><span id="local-6989586621679397518"><span class="annot"><span class="annottext">ywf :: (a, a) -&gt; p -&gt; (a, b) -&gt; (a, b)
</span><a href="#local-6989586621679397518"><span class="hs-identifier hs-var hs-var">ywf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679397525"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397525"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679397526"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397526"><span class="hs-identifier hs-var">yw</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679397525"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679397526"><span class="hs-identifier hs-var">yw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>      </span><span id="local-6989586621679397485"><span class="annot"><span class="annottext">ef :: (t -&gt; t -&gt; t -&gt; a) -&gt; (t -&gt; a) -&gt; t -&gt; (t, t, t) -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621679397485"><span class="hs-identifier hs-var hs-var">ef</span></a></span></span><span> </span><span id="local-6989586621679397531"><span class="annot"><span class="annottext">t -&gt; t -&gt; t -&gt; a
</span><a href="#local-6989586621679397531"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679397532"><span class="annot"><span class="annottext">t -&gt; a
</span><a href="#local-6989586621679397532"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621679397533"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679397533"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397534"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679397534"><span class="hs-identifier hs-var">size</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397535"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679397535"><span class="hs-identifier hs-var">spn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397536"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679397536"><span class="hs-identifier hs-var">ew</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679397537"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679397537"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">t -&gt; a
</span><a href="#local-6989586621679397532"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679397535"><span class="hs-identifier hs-var">spn</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t -&gt; a
</span><a href="#local-6989586621679397531"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679397533"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679397534"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679397536"><span class="hs-identifier hs-var">ew</span></a></span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679397537"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-241"></span><span>                                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679397537"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679397150"><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#ToRenderable"><span class="hs-identifier hs-type">ToRenderable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397150"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#ToRenderable"><span class="hs-identifier hs-type">ToRenderable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397150"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>  </span><span id="local-6989586621679397544"><span class="annot"><span class="annottext">toRenderable :: Grid a -&gt; Renderable ()
</span><a href="#local-6989586621679397544"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRenderable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable ()) -&gt; Renderable ()
forall a. Grid (Renderable a) -&gt; Renderable a
</span><a href="Graphics.Rendering.Chart.Grid.html#gridToRenderable"><span class="hs-identifier hs-var">gridToRenderable</span></a></span><span> </span><span class="annot"><span class="annottext">(Grid (Renderable ()) -&gt; Renderable ())
-&gt; (Grid a -&gt; Grid (Renderable ())) -&gt; Grid a -&gt; Renderable ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Renderable ()) -&gt; Grid a -&gt; Grid (Renderable ())
forall a b. (a -&gt; b) -&gt; Grid a -&gt; Grid b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Renderable ()
forall a. ToRenderable a =&gt; a -&gt; Renderable ()
</span><a href="Graphics.Rendering.Chart.Renderable.html#toRenderable"><span class="hs-identifier hs-var">toRenderable</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span id="local-6989586621679397151"><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#gridToRenderable"><span class="hs-identifier hs-type">gridToRenderable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Grid"><span class="hs-identifier hs-type">Grid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#Renderable"><span class="hs-identifier hs-type">Renderable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397151"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Renderable.html#Renderable"><span class="hs-identifier hs-type">Renderable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679397151"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-247"></span><span id="gridToRenderable"><span class="annot"><span class="annottext">gridToRenderable :: forall a. Grid (Renderable a) -&gt; Renderable a
</span><a href="Graphics.Rendering.Chart.Grid.html#gridToRenderable"><span class="hs-identifier hs-var hs-var">gridToRenderable</span></a></span></span><span> </span><span id="local-6989586621679397562"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397562"><span class="hs-identifier hs-var">gt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ProgramT ChartBackendInstr Identity SpaceWeight
-&gt; (SpaceWeight -&gt; BackendProgram (PickFn a)) -&gt; Renderable a
forall a.
ProgramT ChartBackendInstr Identity SpaceWeight
-&gt; (SpaceWeight -&gt; BackendProgram (PickFn a)) -&gt; Renderable a
</span><a href="Graphics.Rendering.Chart.Renderable.html#Renderable"><span class="hs-identifier hs-var">Renderable</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramT ChartBackendInstr Identity SpaceWeight
</span><a href="#local-6989586621679397564"><span class="hs-identifier hs-var">minsizef</span></a></span><span> </span><span class="annot"><span class="annottext">SpaceWeight -&gt; BackendProgram (PickFn a)
</span><a href="#local-6989586621679397565"><span class="hs-identifier hs-var">renderf</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="#local-6989586621679397564"><span class="hs-identifier hs-type">minsizef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Backend.Impl.html#BackendProgram"><span class="hs-identifier hs-type">BackendProgram</span></a></span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#RectSize"><span class="hs-identifier hs-type">RectSize</span></a></span><span>
</span><span id="line-250"></span><span>    </span><span id="local-6989586621679397564"><span class="annot"><span class="annottext">minsizef :: ProgramT ChartBackendInstr Identity SpaceWeight
</span><a href="#local-6989586621679397564"><span class="hs-identifier hs-var hs-var">minsizef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-251"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679397566"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397566"><span class="hs-identifier hs-var">widths</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679397567"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397567"><span class="hs-identifier hs-var">heights</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DArray
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DArray
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
forall a.
Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
</span><a href="Graphics.Rendering.Chart.Grid.html#getSizes"><span class="hs-identifier hs-var">getSizes</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397562"><span class="hs-identifier hs-var">gt</span></a></span><span>
</span><span id="line-252"></span><span>        </span><span class="annot"><span class="annottext">SpaceWeight -&gt; ProgramT ChartBackendInstr Identity SpaceWeight
forall a. a -&gt; ProgramT ChartBackendInstr Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Double] -&gt; Double
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397566"><span class="hs-identifier hs-var">widths</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Double] -&gt; Double
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397567"><span class="hs-identifier hs-var">heights</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679397565"><span class="annot"><span class="annottext">renderf :: SpaceWeight -&gt; BackendProgram (PickFn a)
</span><a href="#local-6989586621679397565"><span class="hs-identifier hs-var hs-var">renderf</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397572"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397572"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397573"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397573"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-255"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679397574"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397574"><span class="hs-identifier hs-var">widths</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679397575"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397575"><span class="hs-identifier hs-var">heights</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679397576"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397576"><span class="hs-identifier hs-var">xweights</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679397577"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397577"><span class="hs-identifier hs-var">yweights</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
forall a.
Grid (Renderable a)
-&gt; BackendProgram (DArray, DArray, DArray, DArray)
</span><a href="Graphics.Rendering.Chart.Grid.html#getSizes"><span class="hs-identifier hs-var">getSizes</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397562"><span class="hs-identifier hs-var">gt</span></a></span><span>
</span><span id="line-256"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397578"><span class="annot"><span class="annottext">widths' :: DArray
</span><a href="#local-6989586621679397578"><span class="hs-identifier hs-var hs-var">widths'</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; DArray -&gt; DArray -&gt; DArray
</span><a href="#local-6989586621679397579"><span class="hs-identifier hs-var">addExtraSpace</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397572"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397574"><span class="hs-identifier hs-var">widths</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397576"><span class="hs-identifier hs-var">xweights</span></a></span><span>
</span><span id="line-257"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397580"><span class="annot"><span class="annottext">heights' :: DArray
</span><a href="#local-6989586621679397580"><span class="hs-identifier hs-var hs-var">heights'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; DArray -&gt; DArray -&gt; DArray
</span><a href="#local-6989586621679397579"><span class="hs-identifier hs-var">addExtraSpace</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397573"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397575"><span class="hs-identifier hs-var">heights</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397577"><span class="hs-identifier hs-var">yweights</span></a></span><span>
</span><span id="line-258"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397581"><span class="annot"><span class="annottext">borders :: (DArray, DArray)
</span><a href="#local-6989586621679397581"><span class="hs-identifier hs-var hs-var">borders</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; DArray
</span><a href="#local-6989586621679397582"><span class="hs-identifier hs-var">ctotal</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397578"><span class="hs-identifier hs-var">widths'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">DArray -&gt; DArray
</span><a href="#local-6989586621679397582"><span class="hs-identifier hs-var">ctotal</span></a></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397580"><span class="hs-identifier hs-var">heights'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>        </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span -&gt; Grid (Renderable a) -&gt; BackendProgram (PickFn a)
forall {a}.
(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
</span><a href="#local-6989586621679397583"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397581"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397562"><span class="hs-identifier hs-var">gt</span></a></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-comment">-- (x borders, y borders) -&gt; (x,y) -&gt; grid -&gt; drawing</span><span>
</span><span id="line-262"></span><span>    </span><span id="local-6989586621679397583"><span class="annot"><span class="annottext">rf1 :: (DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
</span><a href="#local-6989586621679397583"><span class="hs-identifier hs-var hs-var">rf1</span></a></span></span><span> </span><span id="local-6989586621679397604"><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span></span><span> </span><span id="local-6989586621679397605"><span class="annot"><span class="annottext">loc :: Span
</span><a href="#local-6989586621679397605"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679397606"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397606"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397607"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397607"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679397608"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397608"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397608"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-263"></span><span>        </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="Graphics.Rendering.Chart.Grid.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Point -&gt; Maybe a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a. a -&gt; ProgramT ChartBackendInstr Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
forall a. PickFn a
</span><a href="Graphics.Rendering.Chart.Renderable.html#nullPickFn"><span class="hs-identifier hs-var">nullPickFn</span></a></span><span>
</span><span id="line-264"></span><span>        </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="Graphics.Rendering.Chart.Grid.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Point -&gt; Maybe a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a. a -&gt; ProgramT ChartBackendInstr Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
forall a. PickFn a
</span><a href="Graphics.Rendering.Chart.Renderable.html#nullPickFn"><span class="hs-identifier hs-var">nullPickFn</span></a></span><span>
</span><span id="line-265"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397610"><span class="annot"><span class="annottext">Renderable a
</span><a href="#local-6989586621679397610"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397611"><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397611"><span class="hs-identifier hs-var">spn</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SpaceWeight
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-266"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span id="local-6989586621679397613"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397613"><span class="hs-identifier hs-var">p0</span></a></span></span><span> </span><span id="local-6989586621679397614"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397614"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray) -&gt; Span -&gt; Span -&gt; Rect
</span><a href="#local-6989586621679397615"><span class="hs-identifier hs-var">mkRect</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397605"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621679397611"><span class="hs-identifier hs-var">spn</span></a></span><span>
</span><span id="line-267"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679397617"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397617"><span class="hs-identifier hs-var">x0</span></a></span></span><span> </span><span id="local-6989586621679397618"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397618"><span class="hs-identifier hs-var">y0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Point -&gt; BackendProgram Point
</span><a href="Graphics.Rendering.Chart.Drawing.html#alignFillPoint"><span class="hs-identifier hs-var">alignFillPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397613"><span class="hs-identifier hs-var">p0</span></a></span><span>
</span><span id="line-268"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679397620"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397620"><span class="hs-identifier hs-var">x1</span></a></span></span><span> </span><span id="local-6989586621679397621"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397621"><span class="hs-identifier hs-var">y1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Point -&gt; BackendProgram Point
</span><a href="Graphics.Rendering.Chart.Drawing.html#alignFillPoint"><span class="hs-identifier hs-var">alignFillPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397614"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-269"></span><span>            </span><span class="annot"><span class="annottext">Point
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a. Point -&gt; BackendProgram a -&gt; BackendProgram a
</span><a href="Graphics.Rendering.Chart.Drawing.html#withTranslation"><span class="hs-identifier hs-var">withTranslation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Point
</span><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-var">Point</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397617"><span class="hs-identifier hs-var">x0</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397618"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
 -&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a))
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-270"></span><span>              </span><span id="local-6989586621679397623"><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397623"><span class="hs-identifier hs-var">pf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Renderable a
-&gt; SpaceWeight
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a. Renderable a -&gt; SpaceWeight -&gt; BackendProgram (PickFn a)
</span><a href="Graphics.Rendering.Chart.Renderable.html#render"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">Renderable a
</span><a href="#local-6989586621679397610"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397620"><span class="hs-identifier hs-var">x1</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397617"><span class="hs-identifier hs-var">x0</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397621"><span class="hs-identifier hs-var">y1</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397618"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>              </span><span class="annot"><span class="annottext">(Point -&gt; Maybe a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a. a -&gt; ProgramT ChartBackendInstr Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Point -&gt; Maybe a) -&gt; Double -&gt; Double -&gt; Point -&gt; Maybe a
forall {t}. (Point -&gt; t) -&gt; Double -&gt; Double -&gt; Point -&gt; t
</span><a href="#local-6989586621679397625"><span class="hs-identifier hs-var">newpf</span></a></span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397623"><span class="hs-identifier hs-var">pf</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397617"><span class="hs-identifier hs-var">x0</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397618"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Above"><span class="hs-identifier hs-type">Above</span></a></span><span> </span><span id="local-6989586621679397626"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397626"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397627"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397627"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-273"></span><span>             </span><span id="local-6989586621679397628"><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397628"><span class="hs-identifier hs-var">pf1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
</span><a href="#local-6989586621679397583"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397606"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397607"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397626"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-274"></span><span>             </span><span id="local-6989586621679397629"><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397629"><span class="hs-identifier hs-var">pf2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
</span><a href="#local-6989586621679397583"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397606"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397607"><span class="hs-identifier hs-var">j</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397626"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397627"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-275"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397633"><span class="annot"><span class="annottext">pf :: Point -&gt; Maybe a
</span><a href="#local-6989586621679397633"><span class="hs-identifier hs-var hs-var">pf</span></a></span></span><span> </span><span id="local-6989586621679397634"><span class="annot"><span class="annottext">p :: Point
</span><a href="#local-6989586621679397634"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679397635"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397635"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397635"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DArray, DArray) -&gt; DArray
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-operator hs-var">!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397607"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#height"><span class="hs-identifier hs-var">height</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397626"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>                                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397628"><span class="hs-identifier hs-var">pf1</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397634"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397629"><span class="hs-identifier hs-var">pf2</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397634"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-277"></span><span>             </span><span class="annot"><span class="annottext">(Point -&gt; Maybe a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a. a -&gt; ProgramT ChartBackendInstr Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397633"><span class="hs-identifier hs-var">pf</span></a></span><span>
</span><span id="line-278"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Beside"><span class="hs-identifier hs-type">Beside</span></a></span><span> </span><span id="local-6989586621679397638"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397638"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397639"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397639"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-279"></span><span>             </span><span id="local-6989586621679397640"><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397640"><span class="hs-identifier hs-var">pf1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
</span><a href="#local-6989586621679397583"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397606"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397607"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397638"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-280"></span><span>             </span><span id="local-6989586621679397641"><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397641"><span class="hs-identifier hs-var">pf2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
</span><a href="#local-6989586621679397583"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397606"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397638"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397607"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397639"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-281"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397645"><span class="annot"><span class="annottext">pf :: Point -&gt; Maybe a
</span><a href="#local-6989586621679397645"><span class="hs-identifier hs-var hs-var">pf</span></a></span></span><span> </span><span id="local-6989586621679397646"><span class="annot"><span class="annottext">p :: Point
</span><a href="#local-6989586621679397646"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679397647"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397647"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397647"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DArray, DArray) -&gt; DArray
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-operator hs-var">!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397606"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a) -&gt; Int
forall a. Grid a -&gt; Int
</span><a href="Graphics.Rendering.Chart.Grid.html#width"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397638"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>                                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397640"><span class="hs-identifier hs-var">pf1</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397646"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397641"><span class="hs-identifier hs-var">pf2</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397646"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-283"></span><span>             </span><span class="annot"><span class="annottext">(Point -&gt; Maybe a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a. a -&gt; ProgramT ChartBackendInstr Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397645"><span class="hs-identifier hs-var">pf</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#Overlay"><span class="hs-identifier hs-type">Overlay</span></a></span><span> </span><span id="local-6989586621679397648"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397648"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621679397649"><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397649"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Span
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="hs-keyword">do</span><span>
</span><span id="line-285"></span><span>             </span><span id="local-6989586621679397650"><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397650"><span class="hs-identifier hs-var">pf2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
</span><a href="#local-6989586621679397583"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397606"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397607"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397649"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-286"></span><span>             </span><span id="local-6989586621679397651"><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397651"><span class="hs-identifier hs-var">pf1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
-&gt; Span
-&gt; Grid (Renderable a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
</span><a href="#local-6989586621679397583"><span class="hs-identifier hs-var">rf1</span></a></span><span> </span><span class="annot"><span class="annottext">(DArray, DArray)
</span><a href="#local-6989586621679397604"><span class="hs-identifier hs-var">borders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397606"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397607"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Grid (Renderable a)
</span><a href="#local-6989586621679397648"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-287"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679397654"><span class="annot"><span class="annottext">pf :: Point -&gt; Maybe a
</span><a href="#local-6989586621679397654"><span class="hs-identifier hs-var hs-var">pf</span></a></span></span><span> </span><span id="local-6989586621679397655"><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397655"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397651"><span class="hs-identifier hs-var">pf1</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397655"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a -&gt; Maybe a
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a -&gt; m a -&gt; m a
</span><span class="hs-operator hs-var">`mplus`</span></span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397650"><span class="hs-identifier hs-var">pf2</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621679397655"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-288"></span><span>             </span><span class="annot"><span class="annottext">(Point -&gt; Maybe a)
-&gt; ProgramT ChartBackendInstr Identity (Point -&gt; Maybe a)
forall a. a -&gt; ProgramT ChartBackendInstr Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Point -&gt; Maybe a
</span><a href="#local-6989586621679397654"><span class="hs-identifier hs-var">pf</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621679397625"><span class="annot"><span class="annottext">newpf :: (Point -&gt; t) -&gt; Double -&gt; Double -&gt; Point -&gt; t
</span><a href="#local-6989586621679397625"><span class="hs-identifier hs-var hs-var">newpf</span></a></span></span><span> </span><span id="local-6989586621679397659"><span class="annot"><span class="annottext">Point -&gt; t
</span><a href="#local-6989586621679397659"><span class="hs-identifier hs-var">pf</span></a></span></span><span> </span><span id="local-6989586621679397660"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397660"><span class="hs-identifier hs-var">x0</span></a></span></span><span> </span><span id="local-6989586621679397661"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397661"><span class="hs-identifier hs-var">y0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-type">Point</span></a></span><span> </span><span id="local-6989586621679397662"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397662"><span class="hs-identifier hs-var">x1</span></a></span></span><span> </span><span id="local-6989586621679397663"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397663"><span class="hs-identifier hs-var">y1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point -&gt; t
</span><a href="#local-6989586621679397659"><span class="hs-identifier hs-var">pf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Point
</span><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-var">Point</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397662"><span class="hs-identifier hs-var">x1</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397660"><span class="hs-identifier hs-var">x0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397663"><span class="hs-identifier hs-var">y1</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397661"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-comment">-- (x borders, y borders) -&gt; (x,y) -&gt; (w,h)</span><span>
</span><span id="line-293"></span><span>    </span><span class="hs-comment">--     -&gt; rectangle of grid[x..x+w, y..y+h]</span><span>
</span><span id="line-294"></span><span>    </span><span class="annot"><a href="#local-6989586621679397615"><span class="hs-identifier hs-type">mkRect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Geometry.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621679397615"><span class="annot"><span class="annottext">mkRect :: (DArray, DArray) -&gt; Span -&gt; Span -&gt; Rect
</span><a href="#local-6989586621679397615"><span class="hs-identifier hs-var hs-var">mkRect</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397664"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397664"><span class="hs-identifier hs-var">cwidths</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397665"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397665"><span class="hs-identifier hs-var">cheights</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397666"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397666"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397667"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397667"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397668"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397668"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397669"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397669"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point -&gt; Point -&gt; Rect
</span><a href="Graphics.Rendering.Chart.Geometry.html#Rect"><span class="hs-identifier hs-var">Rect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Point
</span><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-var">Point</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397670"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397671"><span class="hs-identifier hs-var">y1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Point
</span><a href="Graphics.Rendering.Chart.Geometry.html#Point"><span class="hs-identifier hs-var">Point</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397672"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397673"><span class="hs-identifier hs-var">y2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-297"></span><span>        </span><span id="local-6989586621679397670"><span class="annot"><span class="annottext">x1 :: Double
</span><a href="#local-6989586621679397670"><span class="hs-identifier hs-var hs-var">x1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397664"><span class="hs-identifier hs-var">cwidths</span></a></span><span>  </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-operator hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397666"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-298"></span><span>        </span><span id="local-6989586621679397671"><span class="annot"><span class="annottext">y1 :: Double
</span><a href="#local-6989586621679397671"><span class="hs-identifier hs-var hs-var">y1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397665"><span class="hs-identifier hs-var">cheights</span></a></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-operator hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397667"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-299"></span><span>        </span><span id="local-6989586621679397672"><span class="annot"><span class="annottext">x2 :: Double
</span><a href="#local-6989586621679397672"><span class="hs-identifier hs-var hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397664"><span class="hs-identifier hs-var">cwidths</span></a></span><span>  </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-operator hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397666"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397668"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(Span -&gt; Int) -&gt; Span -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Span
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">bounds</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397664"><span class="hs-identifier hs-var">cwidths</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>        </span><span id="local-6989586621679397673"><span class="annot"><span class="annottext">y2 :: Double
</span><a href="#local-6989586621679397673"><span class="hs-identifier hs-var hs-var">y2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397665"><span class="hs-identifier hs-var">cheights</span></a></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Int -&gt; Double
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span><span class="hs-operator hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397667"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397669"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(Span -&gt; Int) -&gt; Span -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Span
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">bounds</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397665"><span class="hs-identifier hs-var">cheights</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>        </span><span class="hs-comment">-- mx = fst (bounds cwidths)</span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-comment">-- my = fst (bounds cheights)</span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-comment">-- total size -&gt; item sizes -&gt; item weights -&gt; new item sizes such that</span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-comment">-- their sum == total size, and added size is proportional to weight</span><span>
</span><span id="line-306"></span><span>    </span><span class="annot"><a href="#local-6989586621679397579"><span class="hs-identifier hs-type">addExtraSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span>
</span><span id="line-307"></span><span>    </span><span id="local-6989586621679397579"><span class="annot"><span class="annottext">addExtraSpace :: Double -&gt; DArray -&gt; DArray -&gt; DArray
</span><a href="#local-6989586621679397579"><span class="hs-identifier hs-var hs-var">addExtraSpace</span></a></span></span><span> </span><span id="local-6989586621679397684"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397684"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span id="local-6989586621679397685"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397685"><span class="hs-identifier hs-var">sizes</span></a></span></span><span> </span><span id="local-6989586621679397686"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397686"><span class="hs-identifier hs-var">weights'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-308"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397687"><span class="hs-identifier hs-var">totalws</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397685"><span class="hs-identifier hs-var">sizes</span></a></span><span>
</span><span id="line-309"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Span -&gt; [Double] -&gt; DArray
forall i e. Ix i =&gt; (i, i) -&gt; [e] -&gt; Array i e
</span><span class="hs-identifier hs-var">listArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; Span
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">bounds</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397685"><span class="hs-identifier hs-var">sizes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Double]
</span><a href="#local-6989586621679397689"><span class="hs-identifier hs-var">sizes'</span></a></span><span>
</span><span id="line-310"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-311"></span><span>        </span><span id="local-6989586621679397690"><span class="annot"><span class="annottext">ws :: [Double]
</span><a href="#local-6989586621679397690"><span class="hs-identifier hs-var hs-var">ws</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397686"><span class="hs-identifier hs-var">weights'</span></a></span><span>
</span><span id="line-312"></span><span>        </span><span id="local-6989586621679397687"><span class="annot"><span class="annottext">totalws :: Double
</span><a href="#local-6989586621679397687"><span class="hs-identifier hs-var hs-var">totalws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Double] -&gt; Double
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="annot"><span class="annottext">[Double]
</span><a href="#local-6989586621679397690"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-313"></span><span>        </span><span id="local-6989586621679397696"><span class="annot"><span class="annottext">extra :: Double
</span><a href="#local-6989586621679397696"><span class="hs-identifier hs-var hs-var">extra</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397684"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">[Double] -&gt; Double
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397685"><span class="hs-identifier hs-var">sizes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>        </span><span id="local-6989586621679397700"><span class="annot"><span class="annottext">extras :: [Double]
</span><a href="#local-6989586621679397700"><span class="hs-identifier hs-var hs-var">extras</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; [Double] -&gt; [Double]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397696"><span class="hs-identifier hs-var">extra</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679397687"><span class="hs-identifier hs-var">totalws</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Double]
</span><a href="#local-6989586621679397690"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-315"></span><span>        </span><span id="local-6989586621679397689"><span class="annot"><span class="annottext">sizes' :: [Double]
</span><a href="#local-6989586621679397689"><span class="hs-identifier hs-var hs-var">sizes'</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double) -&gt; [Double] -&gt; [Double] -&gt; [Double]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">[Double]
</span><a href="#local-6989586621679397700"><span class="hs-identifier hs-var">extras</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397685"><span class="hs-identifier hs-var">sizes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-comment">-- [1,2,3] -&gt; [0,1,3,6].</span><span>
</span><span id="line-318"></span><span>    </span><span class="annot"><a href="#local-6989586621679397582"><span class="hs-identifier hs-type">ctotal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Graphics.Rendering.Chart.Grid.html#DArray"><span class="hs-identifier hs-type">DArray</span></a></span><span>
</span><span id="line-319"></span><span>    </span><span id="local-6989586621679397582"><span class="annot"><span class="annottext">ctotal :: DArray -&gt; DArray
</span><a href="#local-6989586621679397582"><span class="hs-identifier hs-var hs-var">ctotal</span></a></span></span><span> </span><span id="local-6989586621679397705"><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397705"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; [Double] -&gt; DArray
forall i e. Ix i =&gt; (i, i) -&gt; [e] -&gt; Array i e
</span><span class="hs-identifier hs-var">listArray</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679397706"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397706"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679397707"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397707"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DArray -&gt; Span
forall i e. Array i e -&gt; (i, i)
</span><span class="hs-identifier hs-var">bounds</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397705"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397706"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679397707"><span class="hs-identifier hs-var">j</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double) -&gt; Double -&gt; [Double] -&gt; [Double]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">scanl</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DArray -&gt; [Double]
forall i e. Array i e -&gt; [e]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">DArray
</span><a href="#local-6989586621679397705"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-321"></span></pre></body></html>