<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds  #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances  #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs      #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds  #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-15"></span><span class="annot"><span class="hs-comment">-- | Commonly used 'Rec' instantiations.</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Vinyl.Derived</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.ARec.html"><span class="hs-identifier">Data.Vinyl.ARec</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html"><span class="hs-identifier">Data.Vinyl.Core</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html"><span class="hs-identifier">Data.Vinyl.Functor</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html"><span class="hs-identifier">Data.Vinyl.Lens</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html"><span class="hs-identifier">Data.Vinyl.TypeLevel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Fst"><span class="hs-identifier">Fst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Snd"><span class="hs-identifier">Snd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RIndex"><span class="hs-identifier">RIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.OverloadedLabels</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="annot"><span class="hs-comment">-- | Alias for Field spec</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">type</span><span> </span><span id="local-6989586621679079730"><span class="annot"><a href="#local-6989586621679079730"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="%3A%3A%3A"><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-var">:::</span></a></span></span><span> </span><span id="local-6989586621679079731"><span class="annot"><a href="#local-6989586621679079731"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079730"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679079731"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="annot"><span class="hs-comment">-- | A record of named fields.</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">type</span><span> </span><span id="FieldRec"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-var">FieldRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="annot"><span class="hs-comment">-- | An 'ARec' of named fields to provide constant-time field access.</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">type</span><span> </span><span id="AFieldRec"><span class="annot"><a href="Data.Vinyl.Derived.html#AFieldRec"><span class="hs-identifier hs-var">AFieldRec</span></a></span></span><span> </span><span id="local-6989586621679079734"><span class="annot"><a href="#local-6989586621679079734"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.ARec.Internal.html#ARec"><span class="hs-identifier hs-type">ARec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079734"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-comment">-- | Heterogeneous list whose elements are evaluated during list</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- construction.</span><span>
</span><span id="line-38"></span><span class="hs-keyword">type</span><span> </span><span id="HList"><span class="annot"><a href="Data.Vinyl.Derived.html#HList"><span class="hs-identifier hs-var">HList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-comment">-- | Heterogeneous list whose elements are left as-is during list</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- construction (cf. 'HList').</span><span>
</span><span id="line-42"></span><span class="hs-keyword">type</span><span> </span><span id="LazyHList"><span class="annot"><a href="Data.Vinyl.Derived.html#LazyHList"><span class="hs-identifier hs-var">LazyHList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Thunk"><span class="hs-identifier hs-type">Thunk</span></a></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="annot"><span class="hs-comment">-- | Get the data payload of an 'ElField'.</span></span><span>
</span><span id="line-45"></span><span id="local-6989586621679079401"><span id="local-6989586621679079402"><span class="annot"><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-type">getField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079401"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079402"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079402"><span class="hs-identifier hs-type">t</span></a></span></span></span><span>
</span><span id="line-46"></span><span id="getField"><span class="annot"><span class="annottext">getField :: forall (s :: Symbol) t. ElField '(s, t) -&gt; t
</span><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-var hs-var">getField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679079740"><span class="annot"><span class="annottext">Snd '(s, t)
</span><a href="#local-6989586621679079740"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
Snd '(s, t)
</span><a href="#local-6989586621679079740"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="annot"><span class="hs-comment">-- | Get the label name of an 'ElField'.</span></span><span>
</span><span id="line-49"></span><span class="annot"><a href="Data.Vinyl.Derived.html#getLabel"><span class="hs-identifier hs-type">getLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079407"><span class="annot"><a href="#local-6989586621679079407"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679079408"><span class="annot"><a href="#local-6989586621679079408"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079407"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079407"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079408"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-50"></span><span id="getLabel"><span class="annot"><span class="annottext">getLabel :: forall (s :: Symbol) t. KnownSymbol s =&gt; ElField '(s, t) -&gt; String
</span><a href="Data.Vinyl.Derived.html#getLabel"><span class="hs-identifier hs-var hs-var">getLabel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><span class="annottext">Snd '(s, t)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy s -&gt; String
forall (n :: Symbol) (proxy :: Symbol -&gt; *).
KnownSymbol n =&gt;
proxy n -&gt; String
</span><span class="hs-identifier hs-var">symbolVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy s
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679079407"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-comment">-- | 'ElField' is isomorphic to a functor something like @Compose</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- ElField ('(,) s)@.</span><span>
</span><span id="line-54"></span><span id="local-6989586621679079416"><span id="local-6989586621679079417"><span id="local-6989586621679079418"><span class="annot"><a href="Data.Vinyl.Derived.html#fieldMap"><span class="hs-identifier hs-type">fieldMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079416"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079417"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079418"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079416"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079418"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079417"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-55"></span><span id="fieldMap"><span class="annot"><span class="annottext">fieldMap :: forall a b (s :: Symbol).
(a -&gt; b) -&gt; ElField '(s, a) -&gt; ElField '(s, b)
</span><a href="Data.Vinyl.Derived.html#fieldMap"><span class="hs-identifier hs-var hs-var">fieldMap</span></a></span></span><span> </span><span id="local-6989586621679079747"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679079747"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679079748"><span class="annot"><span class="annottext">Snd '(s, a)
</span><a href="#local-6989586621679079748"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Snd '(s, b) -&gt; ElField '(s, b)
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679079747"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
Snd '(s, a)
</span><a href="#local-6989586621679079748"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#fieldMap"><span class="hs-pragma hs-type">fieldMap</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">-- | Something in the spirit of 'traverse' for 'ElField' whose kind</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- fights the standard library.</span><span>
</span><span id="line-60"></span><span id="local-6989586621679079423"><span id="local-6989586621679079424"><span id="local-6989586621679079425"><span id="local-6989586621679079426"><span class="annot"><a href="Data.Vinyl.Derived.html#traverseField"><span class="hs-identifier hs-type">traverseField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079423"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679079424"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079425"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079426"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079424"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079423"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079425"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079423"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679079424"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079426"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-62"></span><span id="traverseField"><span class="annot"><span class="annottext">traverseField :: forall (s :: Symbol) (f :: * -&gt; *) a b.
(KnownSymbol s, Functor f) =&gt;
(a -&gt; b) -&gt; f (ElField '(s, a)) -&gt; ElField '(s, f b)
</span><a href="Data.Vinyl.Derived.html#traverseField"><span class="hs-identifier hs-var hs-var">traverseField</span></a></span></span><span> </span><span id="local-6989586621679079754"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679079754"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679079755"><span class="annot"><span class="annottext">f (ElField '(s, a))
</span><a href="#local-6989586621679079755"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Snd '(s, f b) -&gt; ElField '(s, f b)
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ElField '(s, a) -&gt; b) -&gt; f (ElField '(s, a)) -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679079754"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (ElField '(s, a) -&gt; a) -&gt; ElField '(s, a) -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ElField '(s, a) -&gt; a
forall (s :: Symbol) t. ElField '(s, t) -&gt; t
</span><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-var">getField</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">f (ElField '(s, a))
</span><a href="#local-6989586621679079755"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="annot"><span class="hs-comment">-- | Lens for an 'ElField''s data payload.</span></span><span>
</span><span id="line-65"></span><span id="local-6989586621679079437"><span id="local-6989586621679079438"><span id="local-6989586621679079439"><span id="local-6989586621679079440"><span class="annot"><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-identifier hs-type">rfield</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679079437"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079438"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079437"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079439"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079440"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079438"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079437"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079440"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079439"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-66"></span><span id="rfield"><span class="annot"><span class="annottext">rfield :: forall (f :: * -&gt; *) a b (s :: Symbol).
Functor f =&gt;
(a -&gt; f b) -&gt; ElField '(s, a) -&gt; f (ElField '(s, b))
</span><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-identifier hs-var hs-var">rfield</span></a></span></span><span> </span><span id="local-6989586621679079760"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679079760"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679079761"><span class="annot"><span class="annottext">Snd '(s, a)
</span><a href="#local-6989586621679079761"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; ElField '(s, b)) -&gt; f b -&gt; f (ElField '(s, b))
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; ElField '(s, b)
Snd '(s, b) -&gt; ElField '(s, b)
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679079760"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
Snd '(s, a)
</span><a href="#local-6989586621679079761"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-pragma hs-type">rfield</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">8</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3D%3A"><span class="hs-operator hs-type">=:</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- | Operator for creating an 'ElField'. With the @-XOverloadedLabels@</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- extension, this permits usage such as, @#foo =: 23@ to produce a</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- value of type @ElField (&quot;foo&quot; ::: Int)@.</span><span>
</span><span id="line-74"></span><span id="local-6989586621679079445"><span id="local-6989586621679079447"><span class="annot"><a href="Data.Vinyl.Derived.html#%3D%3A"><span class="hs-operator hs-type">(=:)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079445"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079445"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079447"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079445"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079447"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-75"></span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="%3D%3A"><span class="annot"><span class="annottext">=: :: forall (l :: Symbol) v.
KnownSymbol l =&gt;
Label l -&gt; v -&gt; ElField (l ::: v)
</span><a href="Data.Vinyl.Derived.html#%3D%3A"><span class="hs-operator hs-var hs-var">=:</span></a></span></span><span> </span><span id="local-6989586621679079764"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679079764"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Snd (l ::: v) -&gt; ElField (l ::: v)
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">v
Snd (l ::: v)
</span><a href="#local-6989586621679079764"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="annot"><span class="hs-comment">-- | Get a named field from a record.</span></span><span>
</span><span id="line-78"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rgetf"><span class="hs-identifier hs-type">rgetf</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079453"><span class="annot"><a href="#local-6989586621679079453"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079457"><span class="annot"><a href="#local-6989586621679079457"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679079455"><span class="annot"><a href="#local-6989586621679079455"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679079452"><span class="annot"><a href="#local-6989586621679079452"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679079454"><span class="annot"><a href="#local-6989586621679079454"><span class="hs-identifier hs-type">us</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-80"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079452"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079453"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079454"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079454"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079455"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079455"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079452"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079457"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079453"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079452"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079457"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079454"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079457"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079453"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079455"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span id="rgetf"><span class="annot"><span class="annottext">rgetf :: forall {k} (l :: Symbol) (f :: (Symbol, k) -&gt; *) (v :: k)
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *)
       (us :: [(Symbol, k)]).
(HasField record l us us v v, RecElemFCtx record f) =&gt;
Label l -&gt; record f us -&gt; f (l ::: v)
</span><a href="Data.Vinyl.Derived.html#rgetf"><span class="hs-identifier hs-var hs-var">rgetf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (r :: k) (rs :: [k]) (f :: k -&gt; *)
       (record :: (k -&gt; *) -&gt; [k] -&gt; *).
(RecElem record r r rs rs (RIndex r rs), RecElemFCtx record f) =&gt;
record f rs -&gt; f r
forall (r :: (Symbol, k)) (rs :: [(Symbol, k)])
       (f :: (Symbol, k) -&gt; *)
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *).
(RecElem record r r rs rs (RIndex r rs), RecElemFCtx record f) =&gt;
record f rs -&gt; f r
</span><a href="Data.Vinyl.Lens.html#rget"><span class="hs-identifier hs-var">rget</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079453"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079455"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="annot"><span class="hs-comment">-- | Get the value associated with a named field from a record.</span></span><span>
</span><span id="line-85"></span><span id="local-6989586621679079475"><span id="local-6989586621679079476"><span id="local-6989586621679079477"><span id="local-6989586621679079478"><span class="annot"><a href="Data.Vinyl.Derived.html#rvalf"><span class="hs-identifier hs-type">rvalf</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079475"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079476"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079477"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079477"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079478"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079478"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079475"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079476"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079475"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079477"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079478"><span class="hs-identifier hs-type">v</span></a></span></span></span></span></span><span>
</span><span id="line-88"></span><span id="rvalf"><span class="annot"><span class="annottext">rvalf :: forall (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *)
       (l :: Symbol) (us :: [(Symbol, *)]) v.
(HasField record l us us v v, RecElemFCtx record ElField) =&gt;
Label l -&gt; record ElField us -&gt; v
</span><a href="Data.Vinyl.Derived.html#rvalf"><span class="hs-identifier hs-var hs-var">rvalf</span></a></span></span><span> </span><span id="local-6989586621679079782"><span class="annot"><span class="annottext">Label l
</span><a href="#local-6989586621679079782"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ElField (l ::: v) -&gt; v
forall (s :: Symbol) t. ElField '(s, t) -&gt; t
</span><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="annot"><span class="annottext">(ElField (l ::: v) -&gt; v)
-&gt; (record ElField us -&gt; ElField (l ::: v))
-&gt; record ElField us
-&gt; v
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Label l -&gt; record ElField us -&gt; ElField (l ::: v)
forall {k} (l :: Symbol) (f :: (Symbol, k) -&gt; *) (v :: k)
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *)
       (us :: [(Symbol, k)]).
(HasField record l us us v v, RecElemFCtx record f) =&gt;
Label l -&gt; record f us -&gt; f (l ::: v)
</span><a href="Data.Vinyl.Derived.html#rgetf"><span class="hs-identifier hs-var">rgetf</span></a></span><span> </span><span class="annot"><span class="annottext">Label l
</span><a href="#local-6989586621679079782"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-comment">-- | Set a named field. @rputf' #foo 23@ sets the field named @#foo@ to</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- @23@.</span><span>
</span><span id="line-92"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rputf%27"><span class="hs-identifier hs-type">rputf'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079486"><span class="annot"><a href="#local-6989586621679079486"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079489"><span class="annot"><a href="#local-6989586621679079489"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679079490"><span class="annot"><a href="#local-6989586621679079490"><span class="hs-identifier hs-type">v'</span></a></span></span><span> </span><span id="local-6989586621679079485"><span class="annot"><a href="#local-6989586621679079485"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679079487"><span class="annot"><a href="#local-6989586621679079487"><span class="hs-identifier hs-type">us</span></a></span></span><span> </span><span id="local-6989586621679079488"><span class="annot"><a href="#local-6989586621679079488"><span class="hs-identifier hs-type">us'</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-93"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079485"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079486"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079487"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079488"><span class="hs-identifier hs-type">us'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079489"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079490"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079486"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079485"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079486"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079490"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079485"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079487"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079485"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079488"><span class="hs-identifier hs-type">us'</span></a></span><span>
</span><span id="line-95"></span><span id="rputf%27"><span class="annot"><span class="annottext">rputf' :: forall (l :: Symbol) v v'
       (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *)
       (us :: [(Symbol, *)]) (us' :: [(Symbol, *)]).
(HasField record l us us' v v', KnownSymbol l,
 RecElemFCtx record ElField) =&gt;
Label l -&gt; v' -&gt; record ElField us -&gt; record ElField us'
</span><a href="Data.Vinyl.Derived.html#rputf%27"><span class="hs-identifier hs-var hs-var">rputf'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (r :: k) (r' :: k) (rs :: [k]) (rs' :: [k])
       (record :: (k -&gt; *) -&gt; [k] -&gt; *) (f :: k -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f) =&gt;
f r' -&gt; record f rs -&gt; record f rs'
</span><a href="Data.Vinyl.Lens.html#rput%27"><span class="hs-identifier hs-var">rput'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079486"><span class="hs-identifier hs-type">l</span></a></span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span class="annot"><a href="#local-6989586621679079489"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ElField '(l, v') -&gt; record ElField us -&gt; record ElField us')
-&gt; (v' -&gt; ElField '(l, v'))
-&gt; v'
-&gt; record ElField us
-&gt; record ElField us'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v' -&gt; ElField '(l, v')
Snd '(l, v') -&gt; ElField '(l, v')
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679079490"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079486"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079490"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- | Set a named field without changing its type. @rputf #foo 23@ sets</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- the field named @#foo@ to @23@.</span><span>
</span><span id="line-99"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rputf"><span class="hs-identifier hs-type">rputf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079505"><span class="annot"><a href="#local-6989586621679079505"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079507"><span class="annot"><a href="#local-6989586621679079507"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679079504"><span class="annot"><a href="#local-6989586621679079504"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679079506"><span class="annot"><a href="#local-6989586621679079506"><span class="hs-identifier hs-type">us</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-100"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079504"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079505"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079506"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079506"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079507"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079507"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079505"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079504"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079505"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079507"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079504"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079506"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079504"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079506"><span class="hs-identifier hs-type">us</span></a></span><span>
</span><span id="line-102"></span><span id="rputf"><span class="annot"><span class="annottext">rputf :: forall (l :: Symbol) v
       (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *)
       (us :: [(Symbol, *)]).
(HasField record l us us v v, KnownSymbol l,
 RecElemFCtx record ElField) =&gt;
Label l -&gt; v -&gt; record ElField us -&gt; record ElField us
</span><a href="Data.Vinyl.Derived.html#rputf"><span class="hs-identifier hs-var hs-var">rputf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (r :: k) (rs :: [k]) (record :: (k -&gt; *) -&gt; [k] -&gt; *)
       (f :: k -&gt; *).
(RecElem record r r rs rs (RIndex r rs), RecElemFCtx record f) =&gt;
f r -&gt; record f rs -&gt; record f rs
</span><a href="Data.Vinyl.Lens.html#rput"><span class="hs-identifier hs-var">rput</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079505"><span class="hs-identifier hs-type">l</span></a></span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span class="annot"><a href="#local-6989586621679079507"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ElField (l ::: v) -&gt; record ElField us -&gt; record ElField us)
-&gt; (v -&gt; ElField (l ::: v))
-&gt; v
-&gt; record ElField us
-&gt; record ElField us
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; ElField (l ::: v)
Snd (l ::: v) -&gt; ElField (l ::: v)
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="annot"><span class="hs-comment">-- | A lens into a 'Rec' identified by a 'Label'.</span></span><span>
</span><span id="line-105"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rlensfL%27"><span class="hs-identifier hs-type">rlensfL'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079520"><span class="annot"><a href="#local-6989586621679079520"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079523"><span class="annot"><a href="#local-6989586621679079523"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679079524"><span class="annot"><a href="#local-6989586621679079524"><span class="hs-identifier hs-type">v'</span></a></span></span><span> </span><span id="local-6989586621679079519"><span class="annot"><a href="#local-6989586621679079519"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679079518"><span class="annot"><a href="#local-6989586621679079518"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679079525"><span class="annot"><a href="#local-6989586621679079525"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679079521"><span class="annot"><a href="#local-6989586621679079521"><span class="hs-identifier hs-type">us</span></a></span></span><span> </span><span id="local-6989586621679079522"><span class="annot"><a href="#local-6989586621679079522"><span class="hs-identifier hs-type">us'</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-106"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679079518"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079519"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079520"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079521"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079522"><span class="hs-identifier hs-type">us'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079523"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079524"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079519"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079525"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079520"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-108"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079525"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079520"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079523"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079518"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079525"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079520"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079524"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079519"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079525"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079521"><span class="hs-identifier hs-type">us</span></a></span><span>
</span><span id="line-110"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079518"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079519"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079525"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079522"><span class="hs-identifier hs-type">us'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span id="rlensfL%27"><span class="annot"><span class="annottext">rlensfL' :: forall {k} (l :: Symbol) (v :: k) (v' :: k)
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *) (g :: * -&gt; *)
       (f :: (Symbol, k) -&gt; *) (us :: [(Symbol, k)])
       (us' :: [(Symbol, k)]).
(Functor g, HasField record l us us' v v', RecElemFCtx record f) =&gt;
Label l
-&gt; (f (l ::: v) -&gt; g (f (l ::: v')))
-&gt; record f us
-&gt; g (record f us')
</span><a href="Data.Vinyl.Derived.html#rlensfL%27"><span class="hs-identifier hs-var hs-var">rlensfL'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679079808"><span class="annot"><span class="annottext">f (l ::: v) -&gt; g (f (l ::: v'))
</span><a href="#local-6989586621679079808"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (r :: k) (r' :: k) (record :: (k -&gt; *) -&gt; [k] -&gt; *)
       (rs :: [k]) (rs' :: [k]) (f :: k -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
forall (r :: (Symbol, k)) (r' :: (Symbol, k))
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *)
       (rs :: [(Symbol, k)]) (rs' :: [(Symbol, k)])
       (f :: (Symbol, k) -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
</span><a href="Data.Vinyl.Lens.html#rlens%27"><span class="hs-identifier hs-var">rlens'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079520"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079523"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (l ::: v) -&gt; g (f (l ::: v'))
</span><a href="#local-6989586621679079808"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="annot"><span class="hs-comment">-- | A type-preserving lens into a 'Rec' identified by a 'Label'.</span></span><span>
</span><span id="line-114"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rlensfL"><span class="hs-identifier hs-type">rlensfL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079546"><span class="annot"><a href="#local-6989586621679079546"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079548"><span class="annot"><a href="#local-6989586621679079548"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679079545"><span class="annot"><a href="#local-6989586621679079545"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679079544"><span class="annot"><a href="#local-6989586621679079544"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679079549"><span class="annot"><a href="#local-6989586621679079549"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679079547"><span class="annot"><a href="#local-6989586621679079547"><span class="hs-identifier hs-type">us</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-115"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679079544"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079545"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079546"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079547"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079547"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079548"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079548"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079545"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079549"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079546"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-117"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079549"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079546"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079548"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079544"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079549"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079546"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079548"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079545"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079549"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079547"><span class="hs-identifier hs-type">us</span></a></span><span>
</span><span id="line-119"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079544"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079545"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079549"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079547"><span class="hs-identifier hs-type">us</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span id="rlensfL"><span class="annot"><span class="annottext">rlensfL :: forall {k} (l :: Symbol) (v :: k)
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *) (g :: * -&gt; *)
       (f :: (Symbol, k) -&gt; *) (us :: [(Symbol, k)]).
(Functor g, HasField record l us us v v, RecElemFCtx record f) =&gt;
Label l
-&gt; (f (l ::: v) -&gt; g (f (l ::: v)))
-&gt; record f us
-&gt; g (record f us)
</span><a href="Data.Vinyl.Derived.html#rlensfL"><span class="hs-identifier hs-var hs-var">rlensfL</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679079818"><span class="annot"><span class="annottext">f (l ::: v) -&gt; g (f (l ::: v))
</span><a href="#local-6989586621679079818"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (r :: k) (r' :: k) (record :: (k -&gt; *) -&gt; [k] -&gt; *)
       (rs :: [k]) (rs' :: [k]) (f :: k -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
forall (r :: (Symbol, k)) (r' :: (Symbol, k))
       (record :: ((Symbol, k) -&gt; *) -&gt; [(Symbol, k)] -&gt; *)
       (rs :: [(Symbol, k)]) (rs' :: [(Symbol, k)])
       (f :: (Symbol, k) -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
</span><a href="Data.Vinyl.Lens.html#rlens%27"><span class="hs-identifier hs-var">rlens'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079546"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079548"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (l ::: v) -&gt; g (f (l ::: v))
</span><a href="#local-6989586621679079818"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | A lens into the payload value of a 'Rec' field identified by a</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- 'Label'.</span><span>
</span><span id="line-124"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rlensf%27"><span class="hs-identifier hs-type">rlensf'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079559"><span class="annot"><a href="#local-6989586621679079559"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079562"><span class="annot"><a href="#local-6989586621679079562"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679079563"><span class="annot"><a href="#local-6989586621679079563"><span class="hs-identifier hs-type">v'</span></a></span></span><span> </span><span id="local-6989586621679079558"><span class="annot"><a href="#local-6989586621679079558"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679079557"><span class="annot"><a href="#local-6989586621679079557"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679079560"><span class="annot"><a href="#local-6989586621679079560"><span class="hs-identifier hs-type">us</span></a></span></span><span> </span><span id="local-6989586621679079561"><span class="annot"><a href="#local-6989586621679079561"><span class="hs-identifier hs-type">us'</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-125"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679079557"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079558"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079559"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079560"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079561"><span class="hs-identifier hs-type">us'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079562"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079563"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079558"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079559"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079562"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079557"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079563"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079558"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079560"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079557"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079558"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079561"><span class="hs-identifier hs-type">us'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span id="rlensf%27"><span class="annot"><span class="annottext">rlensf' :: forall (l :: Symbol) v v'
       (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *) (g :: * -&gt; *)
       (us :: [(Symbol, *)]) (us' :: [(Symbol, *)]).
(Functor g, HasField record l us us' v v',
 RecElemFCtx record ElField) =&gt;
Label l
-&gt; (v -&gt; g v') -&gt; record ElField us -&gt; g (record ElField us')
</span><a href="Data.Vinyl.Derived.html#rlensf%27"><span class="hs-identifier hs-var hs-var">rlensf'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679079828"><span class="annot"><span class="annottext">v -&gt; g v'
</span><a href="#local-6989586621679079828"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (r :: k) (r' :: k) (record :: (k -&gt; *) -&gt; [k] -&gt; *)
       (rs :: [k]) (rs' :: [k]) (f :: k -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
forall (r :: (Symbol, *)) (r' :: (Symbol, *))
       (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *)
       (rs :: [(Symbol, *)]) (rs' :: [(Symbol, *)])
       (f :: (Symbol, *) -&gt; *) (g :: * -&gt; *).
(RecElem record r r' rs rs' (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r')) -&gt; record f rs -&gt; g (record f rs')
</span><a href="Data.Vinyl.Lens.html#rlens%27"><span class="hs-identifier hs-var">rlens'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079559"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079562"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v -&gt; g v') -&gt; ElField (l ::: v) -&gt; g (ElField '(l, v'))
forall (f :: * -&gt; *) a b (s :: Symbol).
Functor f =&gt;
(a -&gt; f b) -&gt; ElField '(s, a) -&gt; f (ElField '(s, b))
</span><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-identifier hs-var">rfield</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; g v'
</span><a href="#local-6989586621679079828"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">-- | A type-preserving lens into the payload value of a 'Rec' field</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- identified by a 'Label'.</span><span>
</span><span id="line-131"></span><span class="annot"><a href="Data.Vinyl.Derived.html#rlensf"><span class="hs-identifier hs-type">rlensf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079573"><span class="annot"><a href="#local-6989586621679079573"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079575"><span class="annot"><a href="#local-6989586621679079575"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679079572"><span class="annot"><a href="#local-6989586621679079572"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679079571"><span class="annot"><a href="#local-6989586621679079571"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679079574"><span class="annot"><a href="#local-6989586621679079574"><span class="hs-identifier hs-type">us</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-132"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679079571"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079572"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079573"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079574"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079574"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079575"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079575"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElemFCtx"><span class="hs-identifier hs-type">RecElemFCtx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079572"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079573"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079575"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079571"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079575"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079572"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079574"><span class="hs-identifier hs-type">us</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079571"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079572"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079574"><span class="hs-identifier hs-type">us</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span id="rlensf"><span class="annot"><span class="annottext">rlensf :: forall (l :: Symbol) v
       (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *) (g :: * -&gt; *)
       (us :: [(Symbol, *)]).
(Functor g, HasField record l us us v v,
 RecElemFCtx record ElField) =&gt;
Label l -&gt; (v -&gt; g v) -&gt; record ElField us -&gt; g (record ElField us)
</span><a href="Data.Vinyl.Derived.html#rlensf"><span class="hs-identifier hs-var hs-var">rlensf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679079838"><span class="annot"><span class="annottext">v -&gt; g v
</span><a href="#local-6989586621679079838"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (r :: k) (record :: (k -&gt; *) -&gt; [k] -&gt; *) (rs :: [k])
       (f :: k -&gt; *) (g :: * -&gt; *).
(RecElem record r r rs rs (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r)) -&gt; record f rs -&gt; g (record f rs)
forall (r :: (Symbol, *))
       (record :: ((Symbol, *) -&gt; *) -&gt; [(Symbol, *)] -&gt; *)
       (rs :: [(Symbol, *)]) (f :: (Symbol, *) -&gt; *) (g :: * -&gt; *).
(RecElem record r r rs rs (RIndex r rs), RecElemFCtx record f,
 Functor g) =&gt;
(f r -&gt; g (f r)) -&gt; record f rs -&gt; g (record f rs)
</span><a href="Data.Vinyl.Lens.html#rlens"><span class="hs-identifier hs-var">rlens</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079573"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079575"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v -&gt; g v) -&gt; ElField (l ::: v) -&gt; g (ElField (l ::: v))
forall (f :: * -&gt; *) a b (s :: Symbol).
Functor f =&gt;
(a -&gt; f b) -&gt; ElField '(s, a) -&gt; f (ElField '(s, b))
</span><a href="Data.Vinyl.Derived.html#rfield"><span class="hs-identifier hs-var">rfield</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; g v
</span><a href="#local-6989586621679079838"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="annot"><span class="hs-comment">-- | Shorthand for a 'FieldRec' with a single field.</span></span><span>
</span><span id="line-137"></span><span id="local-6989586621679079587"><span id="local-6989586621679079588"><span class="annot"><a href="Data.Vinyl.Derived.html#%3D%3A%3D"><span class="hs-operator hs-type">(=:=)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079587"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079587"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079588"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldRec"><span class="hs-identifier hs-type">FieldRec</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079587"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079588"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span></span></span><span>
</span><span id="line-138"></span><span id="%3D%3A%3D"><span class="annot"><span class="annottext">=:= :: forall (s :: Symbol) a.
KnownSymbol s =&gt;
Label s -&gt; a -&gt; FieldRec '[ '(s, a)]
</span><a href="Data.Vinyl.Derived.html#%3D%3A%3D"><span class="hs-operator hs-var hs-var">(=:=)</span></a></span></span><span> </span><span class="annot"><span class="annottext">Label s
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679079842"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679079842"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Snd '(s, a) -&gt; ElField '(s, a)
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">a
Snd '(s, a)
</span><a href="#local-6989586621679079842"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">ElField '(s, a) -&gt; Rec ElField '[] -&gt; Rec ElField '[ '(s, a)]
forall {u} (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec ElField '[]
forall {u} (a :: u -&gt; *). Rec a '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="annot"><span class="hs-comment">-- | A proxy for field types.</span></span><span>
</span><span id="line-141"></span><span class="hs-keyword">data</span><span> </span><span id="SField"><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-var">SField</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679079845"><span id="local-6989586621679079846"><span class="annot"><a href="#local-6989586621679079846"><span class="hs-identifier hs-type">field</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679079845"><span class="hs-identifier hs-type">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SField"><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-var">SField</span></a></span></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679079602"><span id="local-6989586621679079850"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-type">SField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079602"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span class="annot"><span class="annottext">SField a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679079854"><span class="annot"><span class="annottext">== :: SField a -&gt; SField a -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><span class="annottext">SField a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-144"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679079607"><span id="local-6989586621679079859"><span id="local-6989586621679079863"><span id="local-6989586621679079866"><span id="local-6989586621679079869"><span id="local-6989586621679079872"><span id="local-6989586621679079875"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-type">SField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079607"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679079878"><span class="annot"><span class="annottext">compare :: SField a -&gt; SField a -&gt; Ordering
</span><a href="#local-6989586621679079878"><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></a></span></span><span> </span><span class="annot"><span class="annottext">SField a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SField a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-145"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679079614"><span id="local-6989586621679079615"><span id="local-6989586621679079882"><span id="local-6989586621679079887"><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079614"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#SField"><span class="hs-identifier hs-type">SField</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079614"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079615"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679079891"><span class="annot"><span class="annottext">show :: SField '(s, t) -&gt; String
</span><a href="#local-6989586621679079891"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="annot"><span class="annottext">SField '(s, t)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SField &quot;</span></span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="annot"><span class="annottext">Proxy s -&gt; String
forall (n :: Symbol) (proxy :: Symbol -&gt; *).
KnownSymbol n =&gt;
proxy n -&gt; String
</span><span class="hs-identifier hs-var">symbolVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy s
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679079614"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FieldType"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span> </span><span id="local-6989586621679079893"><span class="annot"><a href="#local-6989586621679079893"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079894"><span class="annot"><a href="#local-6989586621679079894"><span class="hs-identifier hs-type">fs</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>  </span><span id="FieldType"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span> </span><span id="local-6989586621679079895"><span class="annot"><a href="#local-6989586621679079895"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Cannot find label &quot;</span></span><span>
</span><span id="line-150"></span><span>                               </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679079895"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-151"></span><span>                               </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; in fields&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>  </span><span id="FieldType"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span> </span><span id="local-6989586621679079896"><span id="local-6989586621679079897"><span id="local-6989586621679079898"><span class="annot"><a href="#local-6989586621679079896"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079896"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079897"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679079898"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679079897"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-153"></span><span>  </span><span id="FieldType"><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span> </span><span id="local-6989586621679079899"><span id="local-6989586621679079900"><span id="local-6989586621679079901"><span id="local-6989586621679079902"><span class="annot"><a href="#local-6989586621679079899"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079900"><span class="hs-identifier hs-type">l'</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079901"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679079902"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079899"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079902"><span class="hs-identifier hs-type">fs</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-comment">-- | Constraint that a label is associated with a particular type in a</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- record.</span><span>
</span><span id="line-157"></span><span class="hs-keyword">type</span><span> </span><span id="HasField"><span class="annot"><a href="Data.Vinyl.Derived.html#HasField"><span class="hs-identifier hs-var">HasField</span></a></span></span><span> </span><span id="local-6989586621679079903"><span class="annot"><a href="#local-6989586621679079903"><span class="hs-identifier hs-type">record</span></a></span></span><span> </span><span id="local-6989586621679079904"><span class="annot"><a href="#local-6989586621679079904"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079905"><span class="annot"><a href="#local-6989586621679079905"><span class="hs-identifier hs-type">fs</span></a></span></span><span> </span><span id="local-6989586621679079906"><span class="annot"><a href="#local-6989586621679079906"><span class="hs-identifier hs-type">fs'</span></a></span></span><span> </span><span id="local-6989586621679079907"><span class="annot"><a href="#local-6989586621679079907"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679079908"><span class="annot"><a href="#local-6989586621679079908"><span class="hs-identifier hs-type">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Lens.html#RecElem"><span class="hs-identifier hs-type">RecElem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079903"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079904"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079907"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079904"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079908"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679079905"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079906"><span class="hs-identifier hs-type">fs'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#RIndex"><span class="hs-identifier hs-type">RIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079904"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079907"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679079905"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079904"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079905"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679079907"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079904"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079906"><span class="hs-identifier hs-type">fs'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679079908"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="annot"><span class="hs-comment">-- | Proxy for label type</span></span><span>
</span><span id="line-161"></span><span class="hs-keyword">data</span><span> </span><span id="Label"><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-var">Label</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679079628"><span class="annot"><a href="#local-6989586621679079628"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Label"><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-var">Label</span></a></span></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679079910"><span id="local-6989586621679079912"><span class="annot"><span class="annottext">Label a -&gt; Label a -&gt; Bool
(Label a -&gt; Label a -&gt; Bool)
-&gt; (Label a -&gt; Label a -&gt; Bool) -&gt; Eq (Label a)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall (a :: Symbol). Label a -&gt; Label a -&gt; Bool
$c== :: forall (a :: Symbol). Label a -&gt; Label a -&gt; Bool
== :: Label a -&gt; Label a -&gt; Bool
$c/= :: forall (a :: Symbol). Label a -&gt; Label a -&gt; Bool
/= :: Label a -&gt; Label a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679079916"><span id="local-6989586621679079918"><span id="local-6989586621679079922"><span class="annot"><span class="annottext">Int -&gt; Label a -&gt; ShowS
[Label a] -&gt; ShowS
Label a -&gt; String
(Int -&gt; Label a -&gt; ShowS)
-&gt; (Label a -&gt; String) -&gt; ([Label a] -&gt; ShowS) -&gt; Show (Label a)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall (a :: Symbol). Int -&gt; Label a -&gt; ShowS
forall (a :: Symbol). [Label a] -&gt; ShowS
forall (a :: Symbol). Label a -&gt; String
$cshowsPrec :: forall (a :: Symbol). Int -&gt; Label a -&gt; ShowS
showsPrec :: Int -&gt; Label a -&gt; ShowS
$cshow :: forall (a :: Symbol). Label a -&gt; String
show :: Label a -&gt; String
$cshowList :: forall (a :: Symbol). [Label a] -&gt; ShowS
showList :: [Label a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679079626"><span id="local-6989586621679079627"><span class="annot"><a href="#local-6989586621679079626"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679079627"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsLabel</span></span><span> </span><span class="annot"><a href="#local-6989586621679079626"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079627"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if __GLASGOW_HASKELL__ &lt; 802
</span><span>  </span><span class="hs-identifier">fromLabel</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Label</span><span class="hs-cpp">
#else
</span><span>  </span><span id="local-6989586621679079928"><span class="annot"><span class="annottext">fromLabel :: Label s'
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromLabel</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Label s'
forall (a :: Symbol). Label a
</span><a href="Data.Vinyl.Derived.html#Label"><span class="hs-identifier hs-var">Label</span></a></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- | Defines a constraint that lets us extract the label from an</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- 'ElField'. Used in 'rmapf' and 'rpuref'.</span><span>
</span><span id="line-173"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Fst"><span class="hs-identifier hs-type">Fst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079630"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679079630"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Fst"><span class="hs-identifier hs-type">Fst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079630"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.TypeLevel.html#Snd"><span class="hs-identifier hs-type">Snd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079630"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="KnownField"><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-var">KnownField</span></a></span></span><span> </span><span id="local-6989586621679079630"><span class="annot"><a href="#local-6989586621679079630"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-174"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679079637"><span id="local-6989586621679079638"><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079637"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079637"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079638"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-comment">-- | Shorthand for working with records of fields as in 'rmapf' and</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- 'rpuref'.</span><span>
</span><span id="line-178"></span><span class="hs-keyword">type</span><span> </span><span id="AllFields"><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-var">AllFields</span></a></span></span><span> </span><span id="local-6989586621679079941"><span class="annot"><a href="#local-6989586621679079941"><span class="hs-identifier hs-type">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Core.html#RPureConstrained"><span class="hs-identifier hs-type">RPureConstrained</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079941"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#RecApplicative"><span class="hs-identifier hs-type">RecApplicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079941"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079941"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- | Map a function between functors across a 'Rec' taking advantage</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- of knowledge that each element is an 'ElField'.</span><span>
</span><span id="line-182"></span><span id="local-6989586621679079640"><span id="local-6989586621679079643"><span id="local-6989586621679079644"><span class="annot"><a href="Data.Vinyl.Derived.html#rmapf"><span class="hs-identifier hs-type">rmapf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079640"><span class="hs-identifier hs-type">fs</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079642"><span class="annot"><a href="#local-6989586621679079642"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079642"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079643"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079642"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079644"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079642"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079643"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079640"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079644"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079640"><span class="hs-identifier hs-type">fs</span></a></span></span></span></span><span>
</span><span id="line-185"></span><span id="rmapf"><span class="annot"><span class="annottext">rmapf :: forall {k} (fs :: [(Symbol, k)]) (f :: (Symbol, k) -&gt; *)
       (g :: (Symbol, k) -&gt; *).
AllFields fs =&gt;
(forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a)
-&gt; Rec f fs -&gt; Rec g fs
</span><a href="Data.Vinyl.Derived.html#rmapf"><span class="hs-identifier hs-var hs-var">rmapf</span></a></span></span><span> </span><span id="local-6989586621679079948"><span class="annot"><span class="annottext">forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a
</span><a href="#local-6989586621679079948"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (c :: k -&gt; Constraint) (ts :: [k]) (f :: k -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: k). c a =&gt; f a) -&gt; Rec f ts
forall (c :: (Symbol, k) -&gt; Constraint) (ts :: [(Symbol, k)])
       (f :: (Symbol, k) -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: (Symbol, k)). c a =&gt; f a) -&gt; Rec f ts
</span><a href="Data.Vinyl.Core.html#rpureConstrained"><span class="hs-identifier hs-var">rpureConstrained</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f a -&gt; g a) -&gt; Lift (-&gt;) f g a
forall l l' k (op :: l -&gt; l' -&gt; *) (f :: k -&gt; l) (g :: k -&gt; l')
       (x :: k).
op (f x) (g x) -&gt; Lift op f g x
</span><a href="Data.Vinyl.Functor.html#Lift"><span class="hs-identifier hs-var">Lift</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; g a
f '(Fst a, Snd a) -&gt; g '(Fst a, Snd a)
forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a
</span><a href="#local-6989586621679079948"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rec (Lift (-&gt;) f g) fs -&gt; Rec f fs -&gt; Rec g fs
forall {u} (rs :: [u]) (f :: u -&gt; *) (g :: u -&gt; *).
RApply rs =&gt;
Rec (Lift (-&gt;) f g) rs -&gt; Rec f rs -&gt; Rec g rs
</span><a href="Data.Vinyl.Core.html#%3C%3C%2A%3E%3E"><span class="hs-operator hs-var">&lt;&lt;*&gt;&gt;</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- | Remove the first component (e.g. the label) from a type-level</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- list of pairs.</span><span>
</span><span id="line-189"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Unlabeled"><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-var">Unlabeled</span></a></span></span><span> </span><span id="local-6989586621679079957"><span class="annot"><a href="#local-6989586621679079957"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>  </span><span id="Unlabeled"><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-var">Unlabeled</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-191"></span><span>  </span><span id="Unlabeled"><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-var">Unlabeled</span></a></span></span><span> </span><span id="local-6989586621679079958"><span id="local-6989586621679079959"><span id="local-6989586621679079960"><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079958"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079959"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679079960"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679079959"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079960"><span class="hs-identifier hs-type">xs</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-comment">-- | Facilities for removing and replacing the type-level label, or</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- column name, part of a record.</span><span>
</span><span id="line-195"></span><span class="hs-keyword">class</span><span> </span><span id="StripFieldNames"><span class="annot"><a href="Data.Vinyl.Derived.html#StripFieldNames"><span class="hs-identifier hs-var">StripFieldNames</span></a></span></span><span> </span><span id="local-6989586621679079675"><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>  </span><span id="stripNames"><span class="annot"><a href="Data.Vinyl.Derived.html#stripNames"><span class="hs-identifier hs-type">stripNames</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>  </span><span id="stripNames%27"><span class="annot"><a href="Data.Vinyl.Derived.html#stripNames%27"><span class="hs-identifier hs-type">stripNames'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679079671"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679079671"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079671"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079671"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-198"></span><span>  </span><span id="withNames"><span class="annot"><a href="Data.Vinyl.Derived.html#withNames"><span class="hs-identifier hs-type">withNames</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span id="withNames%27"><span class="annot"><a href="Data.Vinyl.Derived.html#withNames%27"><span class="hs-identifier hs-type">withNames'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679079673"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679079673"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079673"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Derived.html#Unlabeled"><span class="hs-identifier hs-type">Unlabeled</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079673"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#%3A."><span class="hs-operator hs-type">:.</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#ElField"><span class="hs-identifier hs-type">ElField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679079675"><span class="hs-identifier hs-type">ts</span></a></span></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#StripFieldNames"><span class="hs-identifier hs-type">StripFieldNames</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>  </span><span id="local-6989586621679079971"><span class="annot"><span class="annottext">stripNames :: Rec ElField '[] -&gt; Rec Identity (Unlabeled '[])
</span><a href="Data.Vinyl.Derived.html#stripNames"><span class="hs-identifier hs-var hs-var hs-var hs-var">stripNames</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec ElField '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec Identity '[]
Rec Identity (Unlabeled '[])
forall {u} (a :: u -&gt; *). Rec a '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-203"></span><span>  </span><span id="local-6989586621679079974"><span class="annot"><span class="annottext">stripNames' :: forall (f :: * -&gt; *).
Functor f =&gt;
Rec (f :. ElField) '[] -&gt; Rec f (Unlabeled '[])
</span><a href="Data.Vinyl.Derived.html#stripNames%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">stripNames'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec (f :. ElField) '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f '[]
Rec f (Unlabeled '[])
forall {u} (a :: u -&gt; *). Rec a '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span id="local-6989586621679079976"><span class="annot"><span class="annottext">withNames :: Rec Identity (Unlabeled '[]) -&gt; Rec ElField '[]
</span><a href="Data.Vinyl.Derived.html#withNames"><span class="hs-identifier hs-var hs-var hs-var hs-var">withNames</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec Identity (Unlabeled '[])
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec ElField '[]
forall {u} (a :: u -&gt; *). Rec a '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-205"></span><span>  </span><span id="local-6989586621679079979"><span class="annot"><span class="annottext">withNames' :: forall (f :: * -&gt; *).
Functor f =&gt;
Rec f (Unlabeled '[]) -&gt; Rec (f :. ElField) '[]
</span><a href="Data.Vinyl.Derived.html#withNames%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">withNames'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Rec f (Unlabeled '[])
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec (f :. ElField) '[]
forall {u} (a :: u -&gt; *). Rec a '[]
</span><a href="Data.Vinyl.Core.html#RNil"><span class="hs-identifier hs-var">RNil</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679079681"><span id="local-6989586621679079682"><span id="local-6989586621679079683"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079681"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#StripFieldNames"><span class="hs-identifier hs-type">StripFieldNames</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079682"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#StripFieldNames"><span class="hs-identifier hs-type">StripFieldNames</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079681"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679079683"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679079682"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span id="local-6989586621679079988"><span class="annot"><span class="annottext">stripNames :: Rec ElField ('(s, t) : ts)
-&gt; Rec Identity (Unlabeled ('(s, t) : ts))
</span><a href="Data.Vinyl.Derived.html#stripNames"><span class="hs-identifier hs-var hs-var hs-var hs-var">stripNames</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679079997"><span class="annot"><span class="annottext">Snd r
</span><a href="#local-6989586621679079997"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679079998"><span class="annot"><span class="annottext">Rec ElField rs
</span><a href="#local-6989586621679079998"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Identity t
forall a. a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">t
Snd r
</span><a href="#local-6989586621679079997"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Identity t
-&gt; Rec Identity (Unlabeled ts) -&gt; Rec Identity (t : Unlabeled ts)
forall {u} (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec ElField rs -&gt; Rec Identity (Unlabeled rs)
forall (ts :: [(Symbol, *)]).
StripFieldNames ts =&gt;
Rec ElField ts -&gt; Rec Identity (Unlabeled ts)
</span><a href="Data.Vinyl.Derived.html#stripNames"><span class="hs-identifier hs-var">stripNames</span></a></span><span> </span><span class="annot"><span class="annottext">Rec ElField rs
</span><a href="#local-6989586621679079998"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span id="local-6989586621679080000"><span class="annot"><span class="annottext">stripNames' :: forall (f :: * -&gt; *).
Functor f =&gt;
Rec (f :. ElField) ('(s, t) : ts)
-&gt; Rec f (Unlabeled ('(s, t) : ts))
</span><a href="Data.Vinyl.Derived.html#stripNames%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">stripNames'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Compose"><span class="hs-identifier hs-type">Compose</span></a></span><span> </span><span id="local-6989586621679080010"><span class="annot"><span class="annottext">f (ElField r)
</span><a href="#local-6989586621679080010"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679080011"><span class="annot"><span class="annottext">Rec (f :. ElField) rs
</span><a href="#local-6989586621679080011"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ElField '(s, t) -&gt; t) -&gt; f (ElField '(s, t)) -&gt; f t
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">ElField '(s, t) -&gt; t
forall (s :: Symbol) t. ElField '(s, t) -&gt; t
</span><a href="Data.Vinyl.Derived.html#getField"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="annot"><span class="annottext">f (ElField r)
f (ElField '(s, t))
</span><a href="#local-6989586621679080010"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">f t -&gt; Rec f (Unlabeled ts) -&gt; Rec f (t : Unlabeled ts)
forall {u} (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec (f :. ElField) rs -&gt; Rec f (Unlabeled rs)
forall (ts :: [(Symbol, *)]) (f :: * -&gt; *).
(StripFieldNames ts, Functor f) =&gt;
Rec (f :. ElField) ts -&gt; Rec f (Unlabeled ts)
forall (f :: * -&gt; *).
Functor f =&gt;
Rec (f :. ElField) rs -&gt; Rec f (Unlabeled rs)
</span><a href="Data.Vinyl.Derived.html#stripNames%27"><span class="hs-identifier hs-var">stripNames'</span></a></span><span> </span><span class="annot"><span class="annottext">Rec (f :. ElField) rs
</span><a href="#local-6989586621679080011"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-210"></span><span>  </span><span id="local-6989586621679080012"><span class="annot"><span class="annottext">withNames :: Rec Identity (Unlabeled ('(s, t) : ts))
-&gt; Rec ElField ('(s, t) : ts)
</span><a href="Data.Vinyl.Derived.html#withNames"><span class="hs-identifier hs-var hs-var hs-var hs-var">withNames</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span id="local-6989586621679080022"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679080022"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679080023"><span class="annot"><span class="annottext">Rec Identity rs
</span><a href="#local-6989586621679080023"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Snd '(s, t) -&gt; ElField '(s, t)
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">r
Snd '(s, t)
</span><a href="#local-6989586621679080022"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">ElField '(s, t) -&gt; Rec ElField ts -&gt; Rec ElField ('(s, t) : ts)
forall {u} (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec Identity (Unlabeled ts) -&gt; Rec ElField ts
forall (ts :: [(Symbol, *)]).
StripFieldNames ts =&gt;
Rec Identity (Unlabeled ts) -&gt; Rec ElField ts
</span><a href="Data.Vinyl.Derived.html#withNames"><span class="hs-identifier hs-var">withNames</span></a></span><span> </span><span class="annot"><span class="annottext">Rec Identity rs
Rec Identity (Unlabeled ts)
</span><a href="#local-6989586621679080023"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-211"></span><span>  </span><span id="local-6989586621679080025"><span class="annot"><span class="annottext">withNames' :: forall (f :: * -&gt; *).
Functor f =&gt;
Rec f (Unlabeled ('(s, t) : ts))
-&gt; Rec (f :. ElField) ('(s, t) : ts)
</span><a href="Data.Vinyl.Derived.html#withNames%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">withNames'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679080036"><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679080036"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-type">:&amp;</span></a></span><span> </span><span id="local-6989586621679080037"><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679080037"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (ElField '(s, t)) -&gt; Compose f ElField '(s, t)
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><a href="Data.Vinyl.Functor.html#Compose"><span class="hs-identifier hs-var">Compose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(r -&gt; ElField '(s, t)) -&gt; f r -&gt; f (ElField '(s, t))
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; ElField '(s, t)
Snd '(s, t) -&gt; ElField '(s, t)
forall (t :: (Symbol, *)). Snd t -&gt; ElField t
</span><a href="Data.Vinyl.Functor.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">f r
</span><a href="#local-6989586621679080036"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Compose f ElField '(s, t)
-&gt; Rec (f :. ElField) ts -&gt; Rec (f :. ElField) ('(s, t) : ts)
forall {u} (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><a href="Data.Vinyl.Core.html#%3A%26"><span class="hs-operator hs-var">:&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f (Unlabeled ts) -&gt; Rec (f :. ElField) ts
forall (ts :: [(Symbol, *)]) (f :: * -&gt; *).
(StripFieldNames ts, Functor f) =&gt;
Rec f (Unlabeled ts) -&gt; Rec (f :. ElField) ts
forall (f :: * -&gt; *).
Functor f =&gt;
Rec f (Unlabeled ts) -&gt; Rec (f :. ElField) ts
</span><a href="Data.Vinyl.Derived.html#withNames%27"><span class="hs-identifier hs-var">withNames'</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
Rec f (Unlabeled ts)
</span><a href="#local-6989586621679080037"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="annot"><span class="hs-comment">-- | Construct a 'Rec' with 'ElField' elements.</span></span><span>
</span><span id="line-214"></span><span id="local-6989586621679079703"><span id="local-6989586621679079705"><span class="annot"><a href="Data.Vinyl.Derived.html#rpuref"><span class="hs-identifier hs-type">rpuref</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079703"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079704"><span class="annot"><a href="#local-6989586621679079704"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079704"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679079705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079704"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079703"><span class="hs-identifier hs-type">fs</span></a></span></span></span><span>
</span><span id="line-215"></span><span id="rpuref"><span class="annot"><span class="annottext">rpuref :: forall {k} (fs :: [(Symbol, k)]) (f :: (Symbol, k) -&gt; *).
AllFields fs =&gt;
(forall (a :: (Symbol, k)). KnownField a =&gt; f a) -&gt; Rec f fs
</span><a href="Data.Vinyl.Derived.html#rpuref"><span class="hs-identifier hs-var hs-var">rpuref</span></a></span></span><span> </span><span id="local-6989586621679080041"><span class="annot"><span class="annottext">forall (a :: (Symbol, k)). KnownField a =&gt; f a
</span><a href="#local-6989586621679080041"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (c :: k -&gt; Constraint) (ts :: [k]) (f :: k -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: k). c a =&gt; f a) -&gt; Rec f ts
forall (c :: (Symbol, k) -&gt; Constraint) (ts :: [(Symbol, k)])
       (f :: (Symbol, k) -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: (Symbol, k)). c a =&gt; f a) -&gt; Rec f ts
</span><a href="Data.Vinyl.Core.html#rpureConstrained"><span class="hs-identifier hs-var">rpureConstrained</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><span class="annottext">f a
forall (a :: (Symbol, k)). KnownField a =&gt; f a
</span><a href="#local-6989586621679080041"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><span class="hs-comment">-- | Operator synonym for 'rmapf'.</span></span><span>
</span><span id="line-218"></span><span id="local-6989586621679080047"><span id="local-6989586621679080048"><span id="local-6989586621679080049"><span class="annot"><a href="Data.Vinyl.Derived.html#%3C%3C%24%24%3E%3E"><span class="hs-operator hs-type">(&lt;&lt;$$&gt;&gt;)</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080047"><span class="hs-identifier hs-type">fs</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679080051"><span class="annot"><a href="#local-6989586621679080051"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#KnownField"><span class="hs-identifier hs-type">KnownField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080051"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679080048"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080051"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679080049"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080051"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080048"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080047"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080049"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080047"><span class="hs-identifier hs-type">fs</span></a></span></span></span></span><span>
</span><span id="line-221"></span><span id="%3C%3C%24%24%3E%3E"><span class="annot"><span class="annottext">&lt;&lt;$$&gt;&gt; :: forall {k} (fs :: [(Symbol, k)]) (f :: (Symbol, k) -&gt; *)
       (g :: (Symbol, k) -&gt; *).
AllFields fs =&gt;
(forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a)
-&gt; Rec f fs -&gt; Rec g fs
</span><a href="Data.Vinyl.Derived.html#%3C%3C%24%24%3E%3E"><span class="hs-operator hs-var hs-var">(&lt;&lt;$$&gt;&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a)
-&gt; Rec f fs -&gt; Rec g fs
forall {k} (fs :: [(Symbol, k)]) (f :: (Symbol, k) -&gt; *)
       (g :: (Symbol, k) -&gt; *).
AllFields fs =&gt;
(forall (a :: (Symbol, k)). KnownField a =&gt; f a -&gt; g a)
-&gt; Rec f fs -&gt; Rec g fs
</span><a href="Data.Vinyl.Derived.html#rmapf"><span class="hs-identifier hs-var">rmapf</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="annot"><span class="hs-comment">-- | Produce a 'Rec' of the labels of a 'Rec' of 'ElField's.</span></span><span>
</span><span id="line-224"></span><span id="local-6989586621679079716"><span class="annot"><a href="Data.Vinyl.Derived.html#rlabels"><span class="hs-identifier hs-type">rlabels</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#AllFields"><span class="hs-identifier hs-type">AllFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079716"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Core.html#Rec"><span class="hs-identifier hs-type">Rec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Vinyl.Functor.html#Const"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679079716"><span class="hs-identifier hs-type">fs</span></a></span></span><span>
</span><span id="line-225"></span><span id="rlabels"><span class="annot"><span class="annottext">rlabels :: forall {k} (fs :: [(Symbol, k)]).
AllFields fs =&gt;
Rec (Const String) fs
</span><a href="Data.Vinyl.Derived.html#rlabels"><span class="hs-identifier hs-var hs-var">rlabels</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: (Symbol, k)). KnownField a =&gt; Const String a)
-&gt; Rec (Const String) fs
forall {k} (fs :: [(Symbol, k)]) (f :: (Symbol, k) -&gt; *).
AllFields fs =&gt;
(forall (a :: (Symbol, k)). KnownField a =&gt; f a) -&gt; Rec f fs
</span><a href="Data.Vinyl.Derived.html#rpuref"><span class="hs-identifier hs-var">rpuref</span></a></span><span> </span><span class="annot"><span class="annottext">Const String a
Const String (Fst a ::: Snd a)
forall {k} (l :: Symbol) (v :: k).
KnownSymbol l =&gt;
Const String (l ::: v)
forall (a :: (Symbol, k)). KnownField a =&gt; Const String a
</span><a href="#local-6989586621679080062"><span class="hs-identifier hs-var">getLabel'</span></a></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621679080062"><span class="hs-identifier hs-type">getLabel'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679079722"><span class="annot"><a href="#local-6989586621679079722"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621679079723"><span class="annot"><a href="#local-6989586621679079723"><span class="hs-identifier hs-type">v</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KnownSymbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679079722"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-227"></span><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Vinyl.Functor.html#Const"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679079722"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="Data.Vinyl.Derived.html#%3A%3A%3A"><span class="hs-operator hs-type">:::</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679079723"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>        </span><span id="local-6989586621679080062"><span class="annot"><span class="annottext">getLabel' :: forall {k} (l :: Symbol) (v :: k).
KnownSymbol l =&gt;
Const String (l ::: v)
</span><a href="#local-6989586621679080062"><span class="hs-identifier hs-var hs-var">getLabel'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Const String (l ::: v)
forall k a (b :: k). a -&gt; Const a b
</span><a href="Data.Vinyl.Functor.html#Const"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy l -&gt; String
forall (n :: Symbol) (proxy :: Symbol -&gt; *).
KnownSymbol n =&gt;
proxy n -&gt; String
</span><span class="hs-identifier hs-var">symbolVal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy l
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679079722"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="annot"><span class="hs-comment">-- * Specializations for working with an 'ARec' of named fields.</span></span><span>
</span><span id="line-231"></span></pre></body></html>